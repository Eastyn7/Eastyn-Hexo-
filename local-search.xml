<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/09/28/hello-world/"/>
    <url>/2024/09/28/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>HEXOæ­å»ºåšå®¢å¹³å°</title>
    <link href="/2024/09/28/%E5%88%A9%E7%94%A8HEXO%E6%90%AD%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
    <url>/2024/09/28/%E5%88%A9%E7%94%A8HEXO%E6%90%AD%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="HEXOæ­å»ºåšå®¢å¹³å°"><a href="#HEXOæ­å»ºåšå®¢å¹³å°" class="headerlink" title="HEXOæ­å»ºåšå®¢å¹³å°"></a>HEXOæ­å»ºåšå®¢å¹³å°</h1><h2 id="æœ¬æœºç¯å¢ƒ"><a href="#æœ¬æœºç¯å¢ƒ" class="headerlink" title="æœ¬æœºç¯å¢ƒ"></a>æœ¬æœºç¯å¢ƒ</h2><ul><li>Win11</li><li>node.jsï¼š18.17.0</li><li>npmï¼š10.8.2</li></ul><h2 id="å®‰è£…ä¸‹è½½hexo"><a href="#å®‰è£…ä¸‹è½½hexo" class="headerlink" title="å®‰è£…ä¸‹è½½hexo"></a>å®‰è£…ä¸‹è½½hexo</h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><blockquote><p>hexo -v éªŒè¯å¹¶æŸ¥çœ‹ç‰ˆæœ¬</p></blockquote><h2 id="åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹"><a href="#åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹"></a>åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">hexo <span class="hljs-keyword">init</span> myblog<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> myblog<br>npm install<br></code></pre></td></tr></table></figure><h2 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta">hexo g<br>hexo <span class="hljs-keyword">server</span><br></code></pre></td></tr></table></figure><h2 id="åœ¨GitHubåˆ›å»ºä»“åº“"><a href="#åœ¨GitHubåˆ›å»ºä»“åº“" class="headerlink" title="åœ¨GitHubåˆ›å»ºä»“åº“"></a>åœ¨GitHubåˆ›å»ºä»“åº“</h2><h2 id="å®‰è£…hexoä¸Šä¼ æ’ä»¶"><a href="#å®‰è£…hexoä¸Šä¼ æ’ä»¶" class="headerlink" title="å®‰è£…hexoä¸Šä¼ æ’ä»¶"></a>å®‰è£…hexoä¸Šä¼ æ’ä»¶</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹hexoé…ç½®æ–‡ä»¶æŒ‡å®šä»“åº“è·¯å¾„"><a href="#ä¿®æ”¹hexoé…ç½®æ–‡ä»¶æŒ‡å®šä»“åº“è·¯å¾„" class="headerlink" title="ä¿®æ”¹hexoé…ç½®æ–‡ä»¶æŒ‡å®šä»“åº“è·¯å¾„"></a>ä¿®æ”¹hexoé…ç½®æ–‡ä»¶æŒ‡å®šä»“åº“è·¯å¾„</h2><p>åœ¨æ–‡ä»¶å¤¹ä¸­ç›´æ¥æ‰“å¼€<code>_config.yml</code>æ–‡ä»¶ä¿®æ”¹</p><p>deploy: </p><p>â€‹type: git</p><p>â€‹repo : gitåœ°å€</p><p>â€‹branch: master</p><h2 id="æ¨é€åˆ°GitHub"><a href="#æ¨é€åˆ°GitHub" class="headerlink" title="æ¨é€åˆ°GitHub"></a>æ¨é€åˆ°GitHub</h2><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo d</span><br></code></pre></td></tr></table></figure><blockquote><p>è·Ÿæ–°å®Œ</p><p>æ¸…ç†ï¼šhexo clean</p><p>æ„å»ºï¼šhexo g</p><p>ä¸Šä¼ ï¼šhexo d</p></blockquote>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>é’é˜Ÿäº‘å¹³å°å¼€å‘</title>
    <link href="/2024/09/04/%E9%9D%92%E9%98%9F%E4%BA%91%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/"/>
    <url>/2024/09/04/%E9%9D%92%E9%98%9F%E4%BA%91%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="é’é˜Ÿäº‘å¹³å°å¼€å‘æ–‡æ¡£ğŸ’•"><a href="#é’é˜Ÿäº‘å¹³å°å¼€å‘æ–‡æ¡£ğŸ’•" class="headerlink" title="é’é˜Ÿäº‘å¹³å°å¼€å‘æ–‡æ¡£ğŸ’•"></a>é’é˜Ÿäº‘å¹³å°å¼€å‘æ–‡æ¡£ğŸ’•</h1><p>å¯åŠ¨æ—¶é—´ï¼š2024.09.04</p><h2 id="é¡¹ç›®æ¦‚è¿°"><a href="#é¡¹ç›®æ¦‚è¿°" class="headerlink" title="é¡¹ç›®æ¦‚è¿°"></a>é¡¹ç›®æ¦‚è¿°</h2><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>éšç€å¿—æ„¿æœåŠ¡åœ¨é«˜æ ¡ä¸­çš„è“¬å‹ƒå‘å±•ï¼Œâ€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿã€ä»¥ä¸‹ç®€ç§°é’é˜Ÿã€‘é€æ¸æˆä¸ºå­¦é™¢å†…å¤–å„ç±»å…¬ç›Šæ´»åŠ¨çš„é‡è¦ç»„ç»‡è€…ã€‚ä½œä¸ºä¸€ä¸ªç”±çƒ­å¿ƒé’å¹´å­¦ç”Ÿç»„æˆçš„å¿—æ„¿è€…é˜Ÿä¼ï¼Œæˆ‘ä»¬çš„æˆå‘˜åœ¨å¤šä¸ªé¢†åŸŸç§¯æå‚ä¸ï¼Œå±•ç°äº†è‰¯å¥½çš„ç²¾ç¥é£è²Œå’Œç¤¾ä¼šè´£ä»»æ„Ÿã€‚ä¸ºäº†æ›´å¥½åœ°æå‡æœåŠ¡é˜Ÿçš„å†…éƒ¨ç®¡ç†å’Œå¯¹å¤–å®£ä¼ ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡å¼€å‘ä¸€ä¸ªå†…éƒ¨ç®¡ç†å’Œå±•ç¤ºå¹³å°ï¼Œå¼ºåŒ–é˜Ÿä¼å‡èšåŠ›å’Œæˆå‘˜å½’å±æ„Ÿï¼ŒåŒæ—¶å‘å…¬ä¼—å±•ç¤ºæˆ‘ä»¬çš„æˆæœå’Œç²¾ç¥é£è²Œã€‚</p><h3 id="å½“å‰é—®é¢˜å’ŒæŒ‘æˆ˜"><a href="#å½“å‰é—®é¢˜å’ŒæŒ‘æˆ˜" class="headerlink" title="å½“å‰é—®é¢˜å’ŒæŒ‘æˆ˜"></a>å½“å‰é—®é¢˜å’ŒæŒ‘æˆ˜</h3><p><strong>1ã€é˜Ÿä¼å½¢è±¡å±•ç¤ºä¸è¶³</strong>ï¼šæœåŠ¡é˜Ÿåœ¨å­¦é™¢å’Œç¤¾ä¼šä¸Šçš„å½±å“åŠ›æœ‰é™ï¼Œç¼ºä¹ä¸€ä¸ªé›†ä¸­å±•ç¤ºæœåŠ¡é˜Ÿå†å²ã€æˆå°±å’Œæ´»åŠ¨çš„çª—å£ï¼Œä½¿å¤–ç•Œéš¾ä»¥å……åˆ†äº†è§£æˆ‘ä»¬çš„å›¢é˜Ÿæ–‡åŒ–å’Œæ ¸å¿ƒä»·å€¼è§‚ã€‚</p><p><strong>2ã€ä¿¡æ¯å‘å¸ƒä¸åŠæ—¶</strong>ï¼šå½“å‰æ´»åŠ¨å’Œå†…éƒ¨ä¿¡æ¯çš„å‘å¸ƒä¸»è¦ä¾èµ–äºå¾®ä¿¡ç¾¤ã€QQç¾¤ç­‰éé›†ä¸­åŒ–æ¸ é“ï¼Œå®¹æ˜“å¯¼è‡´ä¿¡æ¯é—æ¼æˆ–ä¼ æ’­ä¸åŠæ—¶ï¼Œå½±å“æ´»åŠ¨çš„å‚ä¸ç‡å’Œå›¢é˜Ÿæ²Ÿé€šæ•ˆç‡ã€‚</p><p><strong>3ã€å¿—æ„¿ç²¾ç¥ä¼ é€’ä¸è¶³</strong>ï¼šåœ¨æå‡æˆå‘˜å¿—æ„¿æœåŠ¡ç²¾ç¥ã€æŠ€èƒ½åŸ¹è®­å’Œç»éªŒåˆ†äº«æ–¹é¢ç¼ºå°‘æœ‰æ•ˆçš„å·¥å…·å’Œæ‰‹æ®µï¼Œéš¾ä»¥ä¸ºæ–°æˆå‘˜æä¾›ç³»ç»Ÿæ€§çš„æˆé•¿è·¯å¾„å’Œæ”¯æŒã€‚</p><h3 id="é¡¹ç›®ç›®æ ‡"><a href="#é¡¹ç›®ç›®æ ‡" class="headerlink" title="é¡¹ç›®ç›®æ ‡"></a>é¡¹ç›®ç›®æ ‡</h3><p>æœ¬é¡¹ç›®æ—¨åœ¨ä¸ºé’é˜Ÿå¼€å‘ä¸€ä¸ªä¸“å±çš„äº‘å¹³å°ï¼Œä»¥è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œå¹¶å®ç°ä»¥ä¸‹ç›®æ ‡ï¼š</p><p><strong>1ã€å±•ç¤ºé˜Ÿä¼å½¢è±¡å’Œæˆå°±</strong>ï¼šé€šè¿‡å¹³å°å±•ç¤ºæœåŠ¡é˜Ÿçš„å†å²ã€å›¢é˜Ÿæ–‡åŒ–ã€æ´»åŠ¨æˆæœå’Œä¼˜ç§€é˜Ÿå‘˜çš„é£é‡‡ï¼ŒåŠ å¼ºå…¬ä¼—å¯¹æœåŠ¡é˜Ÿçš„è®¤è¯†å’Œæ”¯æŒã€‚</p><p><strong>2ã€æå‡ä¿¡æ¯å‘å¸ƒå’Œæ²Ÿé€šæ•ˆç‡</strong>ï¼šé€šè¿‡å¹³å°å‘å¸ƒå…¬å‘Šã€æ´»åŠ¨é¢„å‘Šå’Œå†…éƒ¨ä¿¡æ¯ï¼Œç¡®ä¿æˆå‘˜èƒ½å¤ŸåŠæ—¶è·å–æœ€æ–°ä¿¡æ¯ï¼Œæå‡é˜Ÿå†…æ²Ÿé€šæ•ˆç‡ã€‚</p><p><strong>3ã€ä¿ƒè¿›å¿—æ„¿ç²¾ç¥ä¼ æ’­ä¸æˆé•¿</strong>ï¼šæä¾›å¿—æ„¿è€…å­¦ä¹ èµ„æºã€ç»éªŒåˆ†äº«å’ŒåŸ¹è®­æ”¯æŒï¼Œå¸®åŠ©æˆå‘˜æˆé•¿ï¼Œå¹¶æœ‰æ•ˆä¼ æ’­å¿—æ„¿æœåŠ¡ç²¾ç¥ã€‚</p><h2 id="æ•°æ®åº“è®¾è®¡"><a href="#æ•°æ®åº“è®¾è®¡" class="headerlink" title="æ•°æ®åº“è®¾è®¡"></a>æ•°æ®åº“è®¾è®¡</h2><h3 id="ç™»å½•ä¿¡æ¯è¡¨ï¼ˆuser-auth"><a href="#ç™»å½•ä¿¡æ¯è¡¨ï¼ˆuser-auth" class="headerlink" title="ç™»å½•ä¿¡æ¯è¡¨ï¼ˆuser_auth)"></a>ç™»å½•ä¿¡æ¯è¡¨ï¼ˆuser_auth)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `user_auth` (<br>  `auth_id` <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="hljs-string">&#x27;è®¤è¯ID&#x27;</span>,<br>  `student_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">12</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;å­¦å·&#x27;</span>,<br>  `email` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;é‚®ç®±ï¼Œè¦æ±‚@ctbu.edu.cnç»“å°¾&#x27;</span>,<br>  `password_hash` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;å¯†ç å“ˆå¸Œå€¼&#x27;</span>,<br>  `created_at` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">&#x27;è´¦å·åˆ›å»ºæ—¶é—´&#x27;</span>,<br>  `updated_at` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">&#x27;æœ€åæ›´æ–°æ—¶é—´&#x27;</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`auth_id`),<br>  <span class="hljs-keyword">UNIQUE</span> KEY `unique_email` (`email`),  <span class="hljs-comment">-- ç¡®ä¿é‚®ç®±å”¯ä¸€</span><br>  <span class="hljs-keyword">UNIQUE</span> KEY `unique_student_id` (`student_id`)  <span class="hljs-comment">-- ç¡®ä¿å­¦å·å”¯ä¸€</span><br>) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4 <span class="hljs-keyword">COLLATE</span><span class="hljs-operator">=</span>utf8mb4_0900_ai_ci;<br></code></pre></td></tr></table></figure><h3 id="ç”¨æˆ·è¡¨-users"><a href="#ç”¨æˆ·è¡¨-users" class="headerlink" title="ç”¨æˆ·è¡¨(users)"></a>ç”¨æˆ·è¡¨(users)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE `users` (<br>  `id` int NOT NULL AUTO_INCREMENT COMMENT &#x27;ç”¨æˆ·ID&#x27;,<br>  `auth_id` int NOT NULL COMMENT &#x27;å…³è”è®¤è¯è¡¨çš„å¤–é”®&#x27;,<br>  `role` tinyint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;ç”¨æˆ·è§’è‰²ï¼ˆ0=æ™®é€šç”¨æˆ·, 1=ç®¡ç†å‘˜ï¼‰&#x27;,<br>  `username` varchar(64) NOT NULL COMMENT &#x27;ç”¨æˆ·å&#x27;,<br>  `name` varchar(255) NOT NULL COMMENT &#x27;çœŸå®å§“å&#x27;,<br>  `gender` tinyint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ€§åˆ«ï¼ˆ0=æœªæŒ‡å®š, 1=ç”·, 2=å¥³ï¼‰&#x27;,<br>  `avatar` varchar(255) DEFAULT NULL COMMENT &#x27;å¤´åƒURL&#x27;,<br>  `mobile` varchar(11) DEFAULT NULL COMMENT &#x27;æ‰‹æœºå·&#x27;,<br>  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#x27;åˆ›å»ºæ—¶é—´&#x27;,<br>  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;,<br>  PRIMARY KEY (`id`),<br>  FOREIGN KEY (`auth_id`) REFERENCES `user_auth`(`auth_id`) ON DELETE CASCADE  -- å…³è”å¤–é”®ï¼Œæ”¯æŒçº§è”åˆ é™¤<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;<br></code></pre></td></tr></table></figure><h2 id="åŠŸèƒ½è®¾è®¡"><a href="#åŠŸèƒ½è®¾è®¡" class="headerlink" title="åŠŸèƒ½è®¾è®¡"></a>åŠŸèƒ½è®¾è®¡</h2><h3 id="é¦–é¡µï¼ˆ-homeï¼‰"><a href="#é¦–é¡µï¼ˆ-homeï¼‰" class="headerlink" title="é¦–é¡µï¼ˆ&#x2F;homeï¼‰"></a>é¦–é¡µï¼ˆ&#x2F;homeï¼‰</h3><ul><li><input checked="" disabled="" type="checkbox"> è½®æ’­å›¾</li><li><input checked="" disabled="" type="checkbox"> å°å…¬å‘Š</li><li><input checked="" disabled="" type="checkbox"> é˜Ÿå¾½é˜Ÿå</li><li><input checked="" disabled="" type="checkbox"> åŠŸèƒ½å®«æ ¼ã€æ ¡å›­æœåŠ¡é€šã€çˆ±å¿ƒé›¨ä¼ã€æœåŠ¡é˜Ÿæ´»åŠ¨é£é‡‡ã€å¿—æ„¿æ´»åŠ¨æŠ¥åã€å…³äºé’é˜Ÿã€ç”¨æˆ·æ„è§åé¦ˆã€‘</li></ul><h3 id="ä¸ªäººä¸­å¿ƒï¼ˆ-userï¼‰"><a href="#ä¸ªäººä¸­å¿ƒï¼ˆ-userï¼‰" class="headerlink" title="ä¸ªäººä¸­å¿ƒï¼ˆ&#x2F;userï¼‰"></a>ä¸ªäººä¸­å¿ƒï¼ˆ&#x2F;userï¼‰</h3><ul><li>æœªç™»å½•æƒ…å†µ<ul><li><input disabled="" type="checkbox"> é»˜è®¤ç™»å½•æ ï¼ˆé»˜è®¤å¤´åƒã€ç‚¹å‡»ç™»å½•ï¼‰</li><li><input disabled="" type="checkbox"> é€‰æ‹©åˆ—è¡¨ï¼ˆä¸ªäººèµ„æ–™ã€æƒé™ç”³è¯·ã€ä½¿ç”¨æŒ‡å—ã€è®¾ç½®ï¼‰ã€éœ€è¦ç™»å½•ä¹‹åæ‰èƒ½ç‚¹å‡»ä½¿ç”¨ã€‘</li></ul></li><li>å·²ç™»å½•æƒ…å†µ<ul><li><input disabled="" type="checkbox"> å·²ç™»å½•çŠ¶æ€æ ï¼ˆç™»å½•å¤´åƒã€åç§°ï¼‰</li><li><input disabled="" type="checkbox"> é€‰æ‹©åˆ—è¡¨ï¼ˆä¸ªäººèµ„æ–™ã€æƒé™ç”³è¯·ï¼ˆå®¡æ ¸ï¼‰ã€?åå°ç®¡ç†ã€ä½¿ç”¨æŒ‡å—ã€è®¾ç½®ï¼‰</li></ul></li></ul><h3 id="å…³äºé’é˜Ÿï¼ˆAbout-Usï¼‰"><a href="#å…³äºé’é˜Ÿï¼ˆAbout-Usï¼‰" class="headerlink" title="å…³äºé’é˜Ÿï¼ˆAbout Usï¼‰"></a>å…³äºé’é˜Ÿï¼ˆAbout Usï¼‰</h3><h2 id="é¡¹ç›®å¼€å‘"><a href="#é¡¹ç›®å¼€å‘" class="headerlink" title="é¡¹ç›®å¼€å‘"></a>é¡¹ç›®å¼€å‘</h2><h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">pnpm create vue</span><br></code></pre></td></tr></table></figure><h3 id="é…ç½®Vant"><a href="#é…ç½®Vant" class="headerlink" title="é…ç½®Vant"></a>é…ç½®Vant</h3><p>æ·»åŠ vant</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">pnpm <span class="hljs-built_in">add</span> vant<br></code></pre></td></tr></table></figure><p>å®‰è£…è‡ªåŠ¨å¯¼å…¥æ’ä»¶</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs d">pnpm add <span class="hljs-keyword">@vant</span>/<span class="hljs-keyword">auto</span>-<span class="hljs-keyword">import</span>-resolver unplugin-vue-components unplugin-<span class="hljs-keyword">auto</span>-<span class="hljs-keyword">import</span> -D<br></code></pre></td></tr></table></figure><p>é…ç½®è‡ªåŠ¨å¯¼å…¥</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> &#123; fileURLToPath, <span class="hljs-variable constant_">URL</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;node:url&#x27;</span><br><br><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite&#x27;</span><br><span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">AutoImport</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;unplugin-auto-import/vite&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Components</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;unplugin-vue-components/vite&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">VantResolver</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vant/auto-import-resolver&#x27;</span>;<br><br><span class="hljs-comment">// https://vitejs.dev/config/</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-title function_">vue</span>(),<br>    <span class="hljs-title class_">AutoImport</span>(&#123;<br>      <span class="hljs-comment">// vantæŒ‰éœ€å¯¼å…¥</span><br>      <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">VantResolver</span>()],<br>    &#125;),<br>    <span class="hljs-title class_">Components</span>(&#123;<br>      <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">VantResolver</span>()],<br>    &#125;)<br>  ],<br>  <span class="hljs-attr">resolve</span>: &#123;<br>    <span class="hljs-attr">alias</span>: &#123;<br>      <span class="hljs-string">&#x27;@&#x27;</span>: <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">&#x27;./src&#x27;</span>, <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="é…ç½®è‡ªåŠ¨å¯¼å…¥å’Œç»„ä»¶"><a href="#é…ç½®è‡ªåŠ¨å¯¼å…¥å’Œç»„ä»¶" class="headerlink" title="é…ç½®è‡ªåŠ¨å¯¼å…¥å’Œç»„ä»¶"></a>é…ç½®è‡ªåŠ¨å¯¼å…¥å’Œç»„ä»¶</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-title class_">AutoImport</span>(&#123;<br>     <span class="hljs-attr">include</span>: [<br>       <span class="hljs-regexp">/\.[tj]sx?$/</span>, <span class="hljs-comment">// .ts, .tsx, .js, .jsx</span><br>       <span class="hljs-regexp">/\.vue$/</span>,<br>       <span class="hljs-regexp">/\.vue\?vue/</span>, <span class="hljs-comment">// .vue</span><br>       <span class="hljs-regexp">/\.md$/</span> <span class="hljs-comment">// .md</span><br>     ],<br>     <span class="hljs-attr">imports</span>: [<span class="hljs-string">&#x27;vue&#x27;</span>, <span class="hljs-string">&#x27;vue-router&#x27;</span>, <span class="hljs-string">&#x27;pinia&#x27;</span>], <span class="hljs-comment">// é…ç½®å¯¼å‡ºçš„æ–‡ä»¶</span><br>     <span class="hljs-attr">dts</span>: <span class="hljs-string">&#x27;src/auto-import.d.ts&#x27;</span>, <span class="hljs-comment">// vueã€vue-router tsç±»å‹å¯¼å‡ºä½ç½®</span><br>     <span class="hljs-comment">// vantæŒ‰éœ€å¯¼å…¥</span><br>     <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">VantResolver</span>()],<br>     <span class="hljs-comment">// eslint é…ç½®</span><br>     <span class="hljs-attr">eslintrc</span>: &#123;<br>       <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å½“é…ç½® enabled: true æ—¶ï¼Œä¼šæ ¹æ® filepath é…ç½®çš„è·¯å¾„ç”Ÿæˆä¸€ä¸ª .eslintrc-auto-import.json æ–‡ä»¶</span><br>       <span class="hljs-attr">filepath</span>: <span class="hljs-string">&#x27;src/.eslintrc-auto-import.json&#x27;</span>,<br>       <span class="hljs-attr">globalsPropValue</span>: <span class="hljs-literal">true</span><br>     &#125;<br>   &#125;),<br>   <span class="hljs-title class_">Components</span>(&#123;<br>     <span class="hljs-comment">// æœç´¢å­ç›®å½•</span><br>     <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>,<br>     <span class="hljs-comment">// ç»„ä»¶æœ‰æ•ˆçš„æ‰©å±•å</span><br>     <span class="hljs-attr">extensions</span>: [<span class="hljs-string">&#x27;vue&#x27;</span>, <span class="hljs-string">&#x27;js&#x27;</span>, <span class="hljs-string">&#x27;jsx&#x27;</span>, <span class="hljs-string">&#x27;ts&#x27;</span>, <span class="hljs-string">&#x27;tsx&#x27;</span>, <span class="hljs-string">&#x27;.mjs&#x27;</span>],<br>     <span class="hljs-attr">include</span>: [<span class="hljs-regexp">/\.vue$/</span>, <span class="hljs-regexp">/\.vue\?vue/</span>, <span class="hljs-regexp">/\.js$/</span>, <span class="hljs-regexp">/\.jsx$/</span>, <span class="hljs-regexp">/\.ts$/</span>, <span class="hljs-regexp">/\.tsx$/</span>],<br>     <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">VantResolver</span>()],<br>     <span class="hljs-attr">dirs</span>: [<span class="hljs-string">&#x27;src/components&#x27;</span>],<br>     <span class="hljs-attr">dts</span>: <span class="hljs-string">&#x27;src/components.d.ts&#x27;</span>,<br>     <span class="hljs-attr">directives</span>: <span class="hljs-literal">true</span><br>   &#125;)<br></code></pre></td></tr></table></figure><h3 id="é…ç½®Eslintå’ŒPrettier"><a href="#é…ç½®Eslintå’ŒPrettier" class="headerlink" title="é…ç½®Eslintå’ŒPrettier"></a>é…ç½®Eslintå’ŒPrettier</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">rules</span>: &#123;<br>  <span class="hljs-string">&#x27;prettier/prettier&#x27;</span>: [<br>    <span class="hljs-string">&#x27;warn&#x27;</span>,<br>    &#123;<br>      <span class="hljs-attr">singleQuote</span>: <span class="hljs-literal">true</span>,<br>      <span class="hljs-attr">semi</span>: <span class="hljs-literal">false</span>,<br>      <span class="hljs-attr">printWidth</span>: <span class="hljs-number">100</span>,<br>      <span class="hljs-attr">trailingComma</span>: <span class="hljs-string">&#x27;none&#x27;</span>,<br>      <span class="hljs-attr">endOfLine</span>: <span class="hljs-string">&#x27;auto&#x27;</span><br>    &#125;<br>  ],<br><br>  <span class="hljs-string">&#x27;vue/multi-word-component-names&#x27;</span>: [<br>    <span class="hljs-string">&#x27;warn&#x27;</span>,<br>    &#123;<br>      <span class="hljs-attr">ignores</span>: [<span class="hljs-string">&#x27;index&#x27;</span>]<br>    &#125;<br>  ],<br>  <span class="hljs-string">&#x27;vue/no-setup-props-destructure&#x27;</span>: [<span class="hljs-string">&#x27;off&#x27;</span>]<br>  <span class="hljs-comment">// &#x27;no-undef&#x27;: &#x27;error&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é…ç½®Viewport"><a href="#é…ç½®Viewport" class="headerlink" title="é…ç½®Viewport"></a>é…ç½®Viewport</h3><p>å®‰è£…æ’ä»¶</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tsx">pnpm install postcss-px-to-viewport -D<br></code></pre></td></tr></table></figure><p>é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* eslint-env node */</span><br><span class="hljs-comment">// postcss.config.cjs</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">plugins</span>: &#123;<br>    <span class="hljs-string">&#x27;postcss-px-to-viewport&#x27;</span>: &#123;<br>      <span class="hljs-attr">uniToConvert</span>: <span class="hljs-string">&#x27;px&#x27;</span>, <span class="hljs-comment">// éœ€è¦è½¬æ¢çš„å•ä½ &#x27;é»˜è®¤px&#x27;</span><br>      <span class="hljs-attr">viewportWidth</span>: <span class="hljs-number">375</span>, <span class="hljs-comment">// è®¾è®¡ç¨¿çš„è§†å£å®½åº¦</span><br>      <span class="hljs-attr">unitPrecision</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">// å•ä½è½¬æ¢åä¿ç•™çš„å°æ•°ä½æ•°</span><br>      <span class="hljs-attr">proList</span>: [<span class="hljs-string">&#x27;*&#x27;</span>], <span class="hljs-comment">// è¦è¿›è¡Œè½¬æ¢çš„å±æ€§åˆ—è¡¨ ,*è¡¨ç¤ºåŒ¹é…æ‰€æœ‰</span><br>      <span class="hljs-attr">viewportUnit</span>: <span class="hljs-string">&#x27;vw&#x27;</span>, <span class="hljs-comment">// è½¬æ¢åçš„è§†å£å•ä½</span><br>      <span class="hljs-attr">selectorBlackList</span>: [<span class="hljs-string">&#x27;.ignore&#x27;</span>, <span class="hljs-string">&#x27;.hairlines&#x27;</span>], <span class="hljs-comment">// ä¸è½¬æ¢çš„é€‰æ‹©å™¨åˆ—è¡¨</span><br>      <span class="hljs-attr">fontViewportUnit</span>: <span class="hljs-string">&#x27;vw&#x27;</span>, <span class="hljs-comment">// è½¬æ¢åå­—ä½“ä½¿ç”¨çš„è§†å£å•ä½</span><br>      <span class="hljs-attr">minPixelValue</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// è®¾ç½®æœ€å°çš„è½¬æ¢æ•°å€¼</span><br>      <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç›´æ¥è½¬åŒ–è€Œä¸æ·»åŠ å¤‡ç”¨å±æ€§</span><br>      <span class="hljs-attr">mediaQuery</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å…è®¸åœ¨åª’ä½“æŸ¥è¯¢ä¸­è½¬æ¢</span><br>      <span class="hljs-attr">exclude</span>: [<span class="hljs-regexp">/node_modules/</span>] <span class="hljs-comment">// å¿½ç•¥æŸäº›æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ </span><br>    &#125;,<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="é…ç½®Axios"><a href="#é…ç½®Axios" class="headerlink" title="é…ç½®Axios"></a>é…ç½®Axios</h3><p>å®‰è£…Axios</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">pnpm <span class="hljs-built_in">add</span> axios<br></code></pre></td></tr></table></figure><p>é…ç½®Requestæ–‡ä»¶</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> &#123; <span class="hljs-title class_">InternalAxiosRequestConfig</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><span class="hljs-keyword">import</span> &#123; getLocalData, removeLocalData, isLogin &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/utils/util&#x27;</span><br><br><span class="hljs-comment">// è‡ªå®šä¹‰è¯·æ±‚é…ç½®æ¥å£ï¼Œæ‰©å±•äº† Axios çš„é…ç½®é€‰é¡¹ï¼Œå¢åŠ äº† needToken å±æ€§</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">CustomRequestConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">InternalAxiosRequestConfig</span> &#123;<br>  needToken?: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// æ ‡è¯†è¯·æ±‚æ˜¯å¦éœ€è¦æºå¸¦Token</span><br>&#125;<br><br><span class="hljs-comment">// åˆ›å»ºaxioså®ä¾‹ï¼Œå¹¶è®¾ç½®åŸºç¡€é…ç½®</span><br><span class="hljs-keyword">const</span> http = axios.<span class="hljs-title function_">create</span>(&#123;<br>  <span class="hljs-attr">baseURL</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_BASE_URL</span>, <span class="hljs-comment">// APIçš„åŸºç¡€URLï¼Œä½¿ç”¨Viteçš„ç¯å¢ƒå˜é‡æ¥è®¾ç½®</span><br>  <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span> <span class="hljs-comment">// è¯·æ±‚è¶…æ—¶æ—¶é—´ä¸º10ç§’</span><br>&#125;)<br><br><span class="hljs-comment">// è¯·æ±‚æ‹¦æˆªå™¨ï¼šåœ¨è¯·æ±‚å‘é€ä¹‹å‰åšä¸€äº›å¤„ç†</span><br>http.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<br>  <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">config</span>: <span class="hljs-title class_">CustomRequestConfig</span></span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// åˆ¤æ–­å½“å‰è¯·æ±‚æ˜¯å¦éœ€è¦Token</span><br>    <span class="hljs-keyword">if</span> (config.<span class="hljs-property">needToken</span>) &#123;<br>      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç™»å½•</span><br>      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isLogin</span>()) &#123;<br>        <span class="hljs-comment">// ä»æœ¬åœ°å­˜å‚¨ä¸­è·å–ç”¨æˆ·ä¿¡æ¯</span><br>        <span class="hljs-keyword">const</span> userinfo = <span class="hljs-title function_">getLocalData</span>(<span class="hljs-string">&#x27;userinfo&#x27;</span>)<br>        <span class="hljs-keyword">if</span> (userinfo) &#123;<br>          <span class="hljs-comment">// å¦‚æœç”¨æˆ·ä¿¡æ¯å­˜åœ¨ï¼Œå°†Tokenæ·»åŠ åˆ°è¯·æ±‚å¤´ä¸­</span><br>          config.<span class="hljs-property">headers</span>[<span class="hljs-string">&#x27;Authorization&#x27;</span>] = <span class="hljs-string">`Bearer <span class="hljs-subst">$&#123;userinfo.sk&#125;</span>`</span> <span class="hljs-comment">// sk ä¸ºç”¨æˆ·å¯†é’¥å­—æ®µ</span><br>        &#125;<br>      &#125;<br>      <span class="hljs-comment">// å¦‚æœç”¨æˆ·æœªç™»å½•ï¼Œä½†æœ¬åœ°æœ‰Tokenè¿‡æœŸæ—¶é—´</span><br>      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getLocalData</span>(<span class="hljs-string">&#x27;token_expires_at&#x27;</span>)) &#123;<br>        <span class="hljs-comment">// ç§»é™¤è¿‡æœŸçš„ç”¨æˆ·ä¿¡æ¯å’ŒToken</span><br>        <span class="hljs-title function_">removeLocalData</span>(<span class="hljs-string">&#x27;userinfo&#x27;</span>)<br>        <span class="hljs-title function_">removeLocalData</span>(<span class="hljs-string">&#x27;token_expires_at&#x27;</span>)<br>        <span class="hljs-comment">// æç¤ºç”¨æˆ·ç™»å½•å·²è¿‡æœŸ</span><br>        <span class="hljs-title function_">showFailToast</span>(<span class="hljs-string">&#x27;ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•&#x27;</span>)<br>      &#125;<br>      <span class="hljs-comment">// ç”¨æˆ·æœªç™»å½•ä¸”æ²¡æœ‰è¿‡æœŸçš„Token</span><br>      <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// æç¤ºç”¨æˆ·å…ˆç™»å½•</span><br>        <span class="hljs-title function_">showFailToast</span>(<span class="hljs-string">&#x27;è¯·å…ˆç™»å½•&#x27;</span>)<br>      &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// ä¸ºæ‰€æœ‰è¯·æ±‚è®¾ç½®è¯·æ±‚å¤´ï¼ŒæŒ‡å®šè¯·æ±‚å†…å®¹ç±»å‹ä¸ºx-www-form-urlencoded</span><br>    config.<span class="hljs-property">headers</span>[<span class="hljs-string">&#x27;Content-Type&#x27;</span>] = <span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span><br><br>    <span class="hljs-comment">// è¿”å›å¤„ç†åçš„è¯·æ±‚é…ç½®</span><br>    <span class="hljs-keyword">return</span> config<br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// å¦‚æœè¯·æ±‚å‘ç”Ÿé”™è¯¯ï¼Œç›´æ¥è¿”å›é”™è¯¯</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)<br>  &#125;<br>)<br><br><span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨ï¼šåœ¨å“åº”è¿”å›ä¹‹ååšä¸€äº›å¤„ç†</span><br>http.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(<br>  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// åªè¿”å›å“åº”çš„dataéƒ¨åˆ†ï¼Œç®€åŒ–åç»­è°ƒç”¨çš„æ•°æ®å¤„ç†</span><br>    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span><br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// å¦‚æœå“åº”å‘ç”Ÿé”™è¯¯ï¼Œè¿”å›é”™è¯¯</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)<br>  &#125;<br>)<br><br><span class="hljs-comment">// å¯¼å‡ºå¤„ç†å¥½çš„ http å®ä¾‹</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> http<br></code></pre></td></tr></table></figure><h3 id="é…ç½®Pinia"><a href="#é…ç½®Pinia" class="headerlink" title="é…ç½®Pinia"></a>é…ç½®Pinia</h3><p>å®‰è£…æ’ä»¶</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">pnpm <span class="hljs-built_in">add</span> pinia-plugin-persistedstate -D<br></code></pre></td></tr></table></figure><p>åœ¨ä»“åº“ä¸­å¯¼å…¥</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> &#123; createPinia &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><span class="hljs-keyword">import</span> persist <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia-plugin-persistedstate&#x27;</span><br><br><span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()<br>pinia.<span class="hljs-title function_">use</span>(persist)<br><br><span class="hljs-keyword">import</span> &#123; useCounterStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./counter&#x27;</span> <span class="hljs-comment">// ä¸¾ä¾‹å¯¼å…¥</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> pinia<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useStore</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">counter</span>: <span class="hljs-title function_">useCounterStore</span>()<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é…ç½®Vantåº•éƒ¨å®‰å…¨åŒºé€‚é…"><a href="#é…ç½®Vantåº•éƒ¨å®‰å…¨åŒºé€‚é…" class="headerlink" title="é…ç½®Vantåº•éƒ¨å®‰å…¨åŒºé€‚é…"></a>é…ç½®Vantåº•éƒ¨å®‰å…¨åŒºé€‚é…</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html">/* index.html */<br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/viewportFit.css&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* viewportFit.css */</span><br><span class="hljs-comment">/* é€‚é… iphone åº•éƒ¨å®‰å…¨åŒºï¼ˆæŒ‡ç¤ºæ¡ï¼Œé…åˆindex.html &lt;meta name=&quot;viewport&quot; ... /&gt;ä½¿ç”¨ */</span><br><span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">bottom</span>: env(safe-area-inset-bottom))&#123;<br>    <span class="hljs-selector-id">#app</span> &#123;<br>        <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">constant</span>(safe-area-inset-bottom);<span class="hljs-comment">/* å…¼å®¹ios&lt;11.2 */</span><br>        <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom);<span class="hljs-comment">/* å…¼å®¹ios&gt;=11.2 */</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é…ç½®å…¨å±€æ ·å¼"><a href="#é…ç½®å…¨å±€æ ·å¼" class="headerlink" title="é…ç½®å…¨å±€æ ·å¼"></a>é…ç½®å…¨å±€æ ·å¼</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* src/styles/index.css */</span><br><br><span class="hljs-selector-id">#app</span> &#123;<br>  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1280px</span>;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5rem</span>;<br>  <span class="hljs-attribute">font-weight</span>: normal;<br>&#125;<br><br><span class="hljs-selector-tag">html</span> &#123;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.2</span>;<br>&#125;<br><br><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">194</span>, <span class="hljs-number">194</span>, <span class="hljs-number">194</span>, <span class="hljs-number">0.131</span>);<br>  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;KaiTi&#x27;</span>, <span class="hljs-string">&#x27;æ¥·ä½“&#x27;</span>, <span class="hljs-string">&#x27;STKaiti&#x27;</span>, <span class="hljs-string">&#x27;SimSun&#x27;</span>, <span class="hljs-string">&#x27;é»‘ä½“&#x27;</span>, <span class="hljs-string">&#x27;Heiti SC&#x27;</span>, <span class="hljs-string">&#x27;Arial&#x27;</span>, sans-serif;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#3e3e3e</span>; <br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br><br><span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-tag">h2</span>, <span class="hljs-selector-tag">h3</span>, <span class="hljs-selector-tag">h4</span>, <span class="hljs-selector-tag">h5</span>, <span class="hljs-selector-tag">h6</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#222</span>; <br>  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;KaiTi&#x27;</span>, <span class="hljs-string">&#x27;æ¥·ä½“&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é…ç½®è·¯ç”±"><a href="#é…ç½®è·¯ç”±" class="headerlink" title="é…ç½®è·¯ç”±"></a>é…ç½®è·¯ç”±</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span><br><span class="hljs-keyword">import</span> indexRoutes <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./routes&#x27;</span><br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>(&#123;<br>  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHashHistory</span>(),<br>  <span class="hljs-attr">routes</span>: [<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>      <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/home&#x27;</span>,<br>      <span class="hljs-attr">children</span>: [<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/home&#x27;</span>,<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Home&#x27;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/Home/HomeView.vue&#x27;</span>)<br>        &#125;,<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/user&#x27;</span>,<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;User&#x27;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/User/UserView.vue&#x27;</span>)<br>        &#125;,<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/notice&#x27;</span>,<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Notice&#x27;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/Notice/NoticeView.vue&#x27;</span>)<br>        &#125;<br>      ]<br>    &#125;,<br>    ...indexRoutes <span class="hljs-comment">//åŸºç¡€åŠŸèƒ½é¡µé¢</span><br>  ]<br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router<br></code></pre></td></tr></table></figure><p>å…¶ä»–è·¯ç”±</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">/* indexRoutes.ts */</span><br><span class="hljs-keyword">const</span> routes = [<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/campusservice&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;CampusService&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/CampusService/CampusService.vue&#x27;</span>)<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/loveumbrella&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;LoveUmbrella&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/LoveUmbrella/LoveUmbrella.vue&#x27;</span>)<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/activities&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Activities&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/Activities/Activities.vue&#x27;</span>)<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/signup&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;SignUp&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/SignUp/SignUp.vue&#x27;</span>)<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/aboutus&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;AboutUs&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/AboutUs/AboutUs.vue&#x27;</span>)<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/feedback&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Feedback&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/Feedback/Feedback.vue&#x27;</span>)<br>  &#125;<br>]<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> routes<br></code></pre></td></tr></table></figure><h3 id="é…ç½®é˜¿é‡Œå›¾æ ‡"><a href="#é…ç½®é˜¿é‡Œå›¾æ ‡" class="headerlink" title="é…ç½®é˜¿é‡Œå›¾æ ‡"></a>é…ç½®é˜¿é‡Œå›¾æ ‡</h3><ul><li>åœ¨é˜¿é‡Œå›¾æ ‡å®˜ç½‘åˆ›å»ºé¡¹ç›®ï¼Œå¹¶å°†é€‰å¥½çš„å›¾æ ‡ä¿å­˜åˆ°é¡¹ç›®ä¸­ï¼Œå†å°†é¡¹ç›®ä¸‹è½½ä¸‹æ¥</li><li>æŠŠä¸‹è½½çš„é¡¹ç›®ä¸­çš„æ–‡ä»¶ï¼ˆé™¤äº†demo.csså’Œdemo_index.htmlæ–‡ä»¶ï¼‰ä¿å­˜è‡³è¯¥é¡¹ç›®ä¸­</li><li>åœ¨main.tsä¸­å¯¼å…¥iconfont.cssæ–‡ä»¶</li><li>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨<code>icon=&quot; icon-great-activities&quot; icon-prefix=&quot;iconfont&quot;</code>ã€éœ€è¦æ³¨æ„çš„æ˜¯å›¾æ ‡ç±»åå‰å¿…é¡»åŠ ä¸€ä¸ªç©ºæ ¼ã€‘</li></ul><h3 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&quot;ts&quot;&gt;<br>const route = useRoute()<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div class=&quot;layout&quot;&gt;<br>    &lt;router-view&gt;&lt;/router-view&gt;<br><br>    &lt;van-tabbar<br>      route<br>      v-if=&quot;[&#x27;/&#x27;, &#x27;/home&#x27;, &#x27;/notice&#x27;, &#x27;/user&#x27;].includes(route.path)&quot;<br>      active-color=&quot;#1989fa&quot;<br>      inactive-color=&quot;#000&quot;<br>      placeholder<br>    &gt;<br>      &lt;van-tabbar-item replace to=&quot;/home&quot; icon=&quot;home-o&quot;&gt; é¦–é¡µ &lt;/van-tabbar-item&gt;<br><br>      &lt;!-- è¿™é‡Œçš„`dot`çº¢ç‚¹é€šè¿‡åˆ¤æ–­æ˜¯å¦æœ‰æ–°æ›´æ–°çš„é€šçŸ¥æ¥æ§åˆ¶ --&gt;<br>      &lt;van-tabbar-item replace to=&quot;/notice&quot; icon=&quot;chat-o&quot; :dot=&quot;false&quot;&gt;<br>        é€šçŸ¥<br>      &lt;/van-tabbar-item&gt;<br><br>      &lt;van-tabbar-item replace to=&quot;/user&quot; icon=&quot;user-o&quot;&gt;<br>        ä¸ªäººä¸­å¿ƒ<br>      &lt;/van-tabbar-item&gt;<br>    &lt;/van-tabbar&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;<br>.van-tabbar-item &#123;<br>  background-color: rgb(255, 255, 255);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="é¦–é¡µ"><a href="#é¦–é¡µ" class="headerlink" title="é¦–é¡µ"></a>é¦–é¡µ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&quot;ts&quot;&gt;<br>// å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ–‡æœ¬å˜é‡ï¼Œéœ€è¦é€šè¿‡åç«¯æ¥æ§åˆ¶æ–‡æœ¬å†…å®¹ï¼Œç»„ä»¶æŒ‚è½½ï¼ˆonMountedï¼‰æ—¶axioså‘è¯·æ±‚<br>const notification = ref&lt;string&gt;(&#x27;å†…å®¹å¾…ç®¡ç†å‘˜æ›´æ–°...&#x27;)<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div class=&quot;home-layout&quot;&gt;<br>    &lt;!-- è½®æ’­å›¾ --&gt;<br>    &lt;HomeSwipe /&gt;<br>    &lt;!-- å°å…¬å‘Š --&gt;<br>    &lt;HomeNoticeBar :notification=&quot;notification&quot; /&gt;<br>    &lt;!-- é˜Ÿå¾½é˜Ÿå --&gt;<br>    &lt;HomeTeamName /&gt;<br>    &lt;!-- åŠŸèƒ½è¡¨ --&gt;<br>    &lt;HomeGrid /&gt;<br>    &lt;!-- åº•çº¿ --&gt;<br>    &lt;Divider dividerText=&quot;æš‚æ—¶æ²¡æœ‰æ›´å¤šåŠŸèƒ½&quot; /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="é¦–é¡µ-è½®æ’­å›¾"><a href="#é¦–é¡µ-è½®æ’­å›¾" class="headerlink" title="é¦–é¡µ-è½®æ’­å›¾"></a>é¦–é¡µ-è½®æ’­å›¾</h3><ul><li>å›¾ç‰‡æ›´æ–°éœ€è¦æ”¹æˆåç«¯æ›´æ–°å›¾ç‰‡</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs vue">/* components/HomeSwipe/index.vue */<br>&lt;script setup lang=&quot;ts&quot;&gt;<br>// éœ€è¦æ”¹æˆåç«¯è°ƒç”¨æ›´æ–°å›¾ç‰‡<br>const SwipeImages = reactive([<br>  &#123;<br>    imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/duiqi.jpg&#x27;,<br>    index: 0<br>  &#125;,<br>  &#123;<br>    imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/1681282717068.jpeg&#x27;,<br>    index: 1<br>  &#125;,<br>  &#123;<br>    imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/1681282717071.jpeg&#x27;,<br>    index: 2<br>  &#125;,<br>  &#123;<br>    imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/1681282717075.jpeg&#x27;,<br>    index: 3<br>  &#125;<br>])<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div class=&quot;swipe-container&quot;&gt;<br>    &lt;!-- è½®æ’­å›¾ä¸Šå±‚éƒ¨åˆ† --&gt;<br>    &lt;div class=&quot;foreground&quot;&gt;<br>      &lt;van-swipe<br>        loop<br>        class=&quot;my-swipe-fore&quot;<br>        :autoplay=&quot;3000&quot;<br>        indicator-color=&quot;#1989fa&quot;<br>        :touchable=&quot;false&quot;<br>      &gt;<br>        &lt;van-swipe-item v-for=&quot;item in SwipeImages&quot; :key=&quot;item.index&quot;&gt;<br>          &lt;img :src=&quot;item.imgUrl&quot; /&gt;<br>        &lt;/van-swipe-item&gt;<br>      &lt;/van-swipe&gt;<br>    &lt;/div&gt;<br><br>    &lt;!-- è½®æ’­å›¾ä¸‹å±‚éƒ¨åˆ† --&gt;<br>    &lt;div class=&quot;background&quot;&gt;<br>      &lt;van-swipe loop class=&quot;my-swipe-back&quot; :autoplay=&quot;3000&quot; :touchable=&quot;false&quot;&gt;<br>        &lt;van-swipe-item v-for=&quot;item in SwipeImages&quot; :key=&quot;item.index&quot;&gt;<br>          &lt;img :src=&quot;item.imgUrl&quot; /&gt;<br>        &lt;/van-swipe-item&gt;<br>      &lt;/van-swipe&gt;<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;<br>.swipe-container &#123;<br>  display: flex;<br>  align-items: center;<br>  justify-content: center;<br>  position: relative;<br>  overflow: hidden;<br>  border-radius: 20px 20px 20px 20px;<br>&#125;<br><br>.foreground &#123;<br>  z-index: 1;<br>&#125;<br><br>.my-swipe-fore &#123;<br>  border-radius: 20px 20px 20px 20px;<br>  height: 210px;<br>  width: 330px;<br>  margin: 20px 0px 20px 0px;<br>  box-shadow: 2px 2px 20px #3b2e32;<br>  border: transparent;<br>&#125;<br><br>.my-swipe-fore .van-swipe-item img &#123;<br>  width: 100%;<br>  height: 100%;<br>  border-radius: 20px 20px 20px 20px;<br>&#125;<br><br>.background &#123;<br>  z-index: 0;<br>  filter: blur(4px);<br>  opacity: 0.8;<br>  position: absolute;<br>&#125;<br><br>.my-swipe-back &#123;<br>  border-radius: 20px 20px 20px 20px;<br>  height: 240px;<br>  width: 365px;<br>&#125;<br><br>.my-swipe-back .van-swipe-item img &#123;<br>  width: 100%;<br>  height: 100%;<br>  border-radius: 20px 20px 20px 20px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="é¦–é¡µ-å°é€šçŸ¥"><a href="#é¦–é¡µ-å°é€šçŸ¥" class="headerlink" title="é¦–é¡µ-å°é€šçŸ¥"></a>é¦–é¡µ-å°é€šçŸ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs vue">/* components/HomeNoticeBar/index.vue */<br>&lt;script setup lang=&quot;ts&quot;&gt;<br>// ä½¿ç”¨ç±»å‹å£°æ˜æ¥å®šä¹‰ Props ç±»å‹<br>interface Props &#123;<br>  text?: string // è®© text æˆä¸ºå¯é€‰çš„<br>&#125;<br><br>// ä½¿ç”¨ defineProps æ¥å®šä¹‰ç»„ä»¶çš„ Props<br>defineProps&lt;Props&gt;()<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;van-notice-bar<br>    scrollable<br>    left-icon=&quot;volume-o&quot;<br>    color=&quot;#1989fa&quot;<br>    background=&quot;#ecf9ff&quot;<br>    :text=&quot;text || &#x27;æš‚æ—¶æ²¡æœ‰å…¬å‘Šå“¦~&#x27;&quot;<br>  /&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="é¦–é¡µ-é˜Ÿå¾½é˜Ÿå"><a href="#é¦–é¡µ-é˜Ÿå¾½é˜Ÿå" class="headerlink" title="é¦–é¡µ-é˜Ÿå¾½é˜Ÿå"></a>é¦–é¡µ-é˜Ÿå¾½é˜Ÿå</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">/* components/HomeTeamName/index.vue */<br>&lt;script setup lang=&quot;ts&quot;&gt;&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div class=&quot;TeamName&quot;&gt;<br>    &lt;img src=&quot;@/assets/images/é€æ˜é˜Ÿå¾½.png&quot; alt=&quot;&quot; /&gt;<br>    &lt;h3&gt;&quot;å°çº¢å¸½&quot;å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&lt;/h3&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;<br>.TeamName &#123;<br>  display: flex;<br>  align-items: center;<br>  justify-content: center;<br>  margin: 5px 0;<br>&#125;<br><br>.TeamName img &#123;<br>  width: 30px;<br>  height: 30px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="é¦–é¡µ-å®«æ ¼"><a href="#é¦–é¡µ-å®«æ ¼" class="headerlink" title="é¦–é¡µ-å®«æ ¼"></a>é¦–é¡µ-å®«æ ¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs vue">/* components/HomeGrid/index.vue */<br>&lt;template&gt;<br>  &lt;van-grid icon-size=&quot;30px&quot; :column-num=&quot;2&quot; clickable&gt;<br>    &lt;van-grid-item<br>      text=&quot;æ ¡å›­æœåŠ¡é€š&quot;<br>      icon=&quot; icon-campus-service&quot;<br>      icon-prefix=&quot;iconfont&quot;<br>      to=&quot;/campusservice&quot;<br>    /&gt;<br>    &lt;van-grid-item<br>      text=&quot;çˆ±å¿ƒé›¨ä¼&quot;<br>      icon=&quot; icon-love-umbrella&quot;<br>      icon-prefix=&quot;iconfont&quot;<br>      to=&quot;/loveumbrella&quot;<br>    /&gt;<br>    &lt;van-grid-item<br>      text=&quot;æœåŠ¡é˜Ÿæ´»åŠ¨é£é‡‡&quot;<br>      icon=&quot; icon-great-activities&quot;<br>      icon-prefix=&quot;iconfont&quot;<br>      to=&quot;/activities&quot;<br>    /&gt;<br>    &lt;van-grid-item<br>      text=&quot;å¿—æ„¿æ´»åŠ¨æŠ¥å&quot;<br>      icon=&quot; icon-signup-activities&quot;<br>      icon-prefix=&quot;iconfont&quot;<br>      to=&quot;/signup&quot;<br>    /&gt;<br>    &lt;van-grid-item<br>      text=&quot;å…³äºé’é˜Ÿ&quot;<br>      icon=&quot; icon-about-us&quot;<br>      icon-prefix=&quot;iconfont&quot;<br>      to=&quot;/aboutus&quot;<br>    /&gt;<br>    &lt;van-grid-item<br>      text=&quot;ç”¨æˆ·æ„è§åé¦ˆ&quot;<br>      icon=&quot; icon-feedback&quot;<br>      icon-prefix=&quot;iconfont&quot;<br>      to=&quot;/feedback&quot;<br>    /&gt;<br>  &lt;/van-grid&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&quot;ts&quot;&gt;&lt;/script&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="åº•çº¿"><a href="#åº•çº¿" class="headerlink" title="åº•çº¿"></a>åº•çº¿</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">/* components/Divider/index.vue */<br>&lt;script setup lang=&quot;ts&quot;&gt;<br>// ä½¿ç”¨ç±»å‹å£°æ˜æ¥å®šä¹‰ Props ç±»å‹<br>interface Props &#123;<br>  dividerText?: string // è®© dividerText æˆä¸ºå¯é€‰çš„<br>&#125;<br><br>// ä½¿ç”¨ defineProps æ¥å®šä¹‰ç»„ä»¶çš„ Props<br>defineProps&lt;Props&gt;()<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;van-divider class=&quot;divider&quot;&gt;<br>    &#123;&#123; dividerText &#125;&#125;<br>  &lt;/van-divider&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;<br>.divider &#123;<br>  margin: 20px 0px 20px 0px;<br>  padding: 0px 10px 0px 10px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="ç”¨æˆ·é—®é¢˜åé¦ˆé¡µé¢"><a href="#ç”¨æˆ·é—®é¢˜åé¦ˆé¡µé¢" class="headerlink" title="ç”¨æˆ·é—®é¢˜åé¦ˆé¡µé¢"></a>ç”¨æˆ·é—®é¢˜åé¦ˆé¡µé¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&quot;ts&quot;&gt;<br>// é€šçŸ¥æ¶ˆæ¯<br>const notification = ref&lt;string&gt;(<br>  &#x27;ä¸ºäº†æ›´å¥½åœ°æå‡æˆ‘ä»¬çš„æœåŠ¡è´¨é‡ï¼Œæˆ‘ä»¬è¯šæŒšé‚€è¯·æ‚¨æä¾›å®è´µçš„æ„è§å’Œå»ºè®®&#x27;<br>)<br><br>// è¡¨å•æ•°æ®<br>const isAnonymous = ref&lt;boolean&gt;(false) // æ§åˆ¶æ˜¯å¦åŒ¿å<br>const username = ref&lt;string&gt;(&#x27;&#x27;)<br>const phone = ref&lt;string&gt;(&#x27;&#x27;)<br>const studentId = ref&lt;string&gt;(&#x27;&#x27;)<br>const message = ref&lt;string&gt;(&#x27;&#x27;)<br><br>// éªŒè¯è§„åˆ™<br>const rules = &#123;<br>  username: [<br>    &#123; required: !isAnonymous.value, message: &#x27;å§“åä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;<br>  ],<br>  phone: [<br>    &#123; required: false &#125;,<br>    &#123; pattern: /^1[3-9]\d&#123;9&#125;$/, message: &#x27;æ‰‹æœºå·æ ¼å¼é”™è¯¯&#x27;, trigger: &#x27;onBlur&#x27; &#125;<br>  ],<br>  studentId: [<br>    &#123;<br>      required: !isAnonymous.value,<br>      message: &#x27;å­¦å·ä¸èƒ½ä¸ºç©º&#x27;,<br>      trigger: &#x27;onBlur&#x27;<br>    &#125;,<br>    &#123; pattern: /^\d&#123;8,12&#125;$/, message: &#x27;å­¦å·æ ¼å¼ä¸æ­£ç¡®&#x27;, trigger: &#x27;onBlur&#x27; &#125; // å­¦å·å‡è®¾ä¸º8åˆ°12ä½æ•°å­—<br>  ],<br>  message: [&#123; required: true, message: &#x27;åé¦ˆå†…å®¹ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;]<br>&#125;<br><br>// æäº¤å¤„ç†<br>const onSubmit = () =&gt; &#123;<br>  // æäº¤è¡¨å•é€»è¾‘<br>  if (isAnonymous.value) &#123;<br>    console.log(&#x27;åŒ¿åæäº¤åé¦ˆ&#x27;)<br>  &#125; else &#123;<br>    console.log(&#x27;å®åæäº¤åé¦ˆ&#x27;)<br>  &#125;<br>  showToast(&#x27;æäº¤æˆåŠŸ&#x27;)<br>&#125;<br><br>// ç›‘å¬åŒ¿åå¼€å…³çŠ¶æ€å˜åŒ–ï¼Œå®æ—¶æ›´æ–°éªŒè¯è§„åˆ™<br>watch(isAnonymous, (newVal) =&gt; &#123;<br>  rules.username[0].required = !newVal<br>  rules.studentId[0].required = !newVal<br>&#125;)<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- å°å…¬å‘Š --&gt;<br>    &lt;HomeNoticeBar :notification=&quot;notification&quot; /&gt;<br>    &lt;!-- é˜Ÿå¾½é˜Ÿå --&gt;<br>    &lt;HomeTeamName /&gt;<br><br>    &lt;van-form @submit=&quot;onSubmit&quot;&gt;<br>      &lt;van-cell-group inset&gt;<br>        &lt;!-- å§“å --&gt;<br>        &lt;van-field<br>          v-model=&quot;username&quot;<br>          :rules=&quot;rules.username&quot;<br>          :required=&quot;rules.username[0].required&quot;<br>          label=&quot;å§“å&quot;<br>          placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å§“å&quot;<br>          v-if=&quot;!isAnonymous&quot;<br>        /&gt;<br><br>        &lt;!-- å­¦å· --&gt;<br>        &lt;van-field<br>          v-model=&quot;studentId&quot;<br>          :rules=&quot;rules.studentId&quot;<br>          :required=&quot;rules.studentId[0].required&quot;<br>          label=&quot;å­¦å·&quot;<br>          placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å­¦å·&quot;<br>          v-if=&quot;!isAnonymous&quot;<br>        /&gt;<br><br>        &lt;!-- æ‰‹æœºå· --&gt;<br>        &lt;van-field<br>          v-model=&quot;phone&quot;<br>          :rules=&quot;rules.phone&quot;<br>          :required=&quot;rules.phone[0].required&quot;<br>          label=&quot;æ‰‹æœºå·&quot;<br>          placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·&quot;<br>          v-if=&quot;!isAnonymous&quot;<br>        /&gt;<br><br>        &lt;!-- åé¦ˆå†…å®¹ --&gt;<br>        &lt;van-field<br>          v-model=&quot;message&quot;<br>          :rules=&quot;rules.message&quot;<br>          :required=&quot;rules.message[0].required&quot;<br>          rows=&quot;2&quot;<br>          autosize<br>          label=&quot;åé¦ˆå†…å®¹&quot;<br>          type=&quot;textarea&quot;<br>          maxlength=&quot;1000&quot;<br>          placeholder=&quot;è¯·è¾“å…¥åé¦ˆå†…å®¹&quot;<br>          show-word-limit<br>        /&gt;<br><br>        &lt;van-field name=&quot;switch&quot; label=&quot;åŒ¿åæäº¤&quot;&gt;<br>          &lt;template #input&gt;<br>            &lt;van-switch v-model=&quot;isAnonymous&quot; /&gt;<br>          &lt;/template&gt;<br>        &lt;/van-field&gt;<br>      &lt;/van-cell-group&gt;<br>      &lt;div style=&quot;margin: 16px&quot;&gt;<br>        &lt;van-button round block type=&quot;primary&quot; native-type=&quot;submit&quot;&gt;<br>          æäº¤<br>        &lt;/van-button&gt;<br>      &lt;/div&gt;<br>    &lt;/van-form&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="ä¸ªäººèµ„æ–™é¡µé¢"><a href="#ä¸ªäººèµ„æ–™é¡µé¢" class="headerlink" title="ä¸ªäººèµ„æ–™é¡µé¢"></a>ä¸ªäººèµ„æ–™é¡µé¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&quot;ts&quot;&gt;<br>// ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯<br>const userInfo = ref(&#123;<br>  avatar: &#x27;&#x27;, // ç”¨æˆ·å¤´åƒ<br>  username: &#x27;ç”¨æˆ·å&#x27;,<br>  realName: &#x27;å¼ ä¸‰&#x27;, // çœŸå®å§“åï¼Œä¸èƒ½ä¿®æ”¹<br>  studentId: &#x27;20230001&#x27;, // å­¦å·ï¼Œä¸èƒ½ä¿®æ”¹<br>  phone: &#x27;12345678901&#x27;,<br>  email: &#x27;example@example.com&#x27;,<br>  bio: &#x27;è¿™æ˜¯æˆ‘çš„ä¸ªäººç®€ä»‹ã€‚&#x27;,<br>  gender: 0 // æ€§åˆ«ï¼š0 = ä¸å¡«å†™ï¼Œ1 = ç”·ï¼Œ2 = å¥³<br>&#125;)<br><br>const isEditing = ref(false) // æ ‡è®°æ˜¯å¦å¤„äºç¼–è¾‘æ¨¡å¼<br><br>// è¿›å…¥ç¼–è¾‘æ¨¡å¼<br>const startEditing = () =&gt; &#123;<br>  isEditing.value = true<br>&#125;<br><br>// æäº¤ä¿®æ”¹<br>const saveChanges = () =&gt; &#123;<br>  isEditing.value = false<br>&#125;<br><br>// ä¸Šä¼ å¤´åƒ<br>const uploadAvatar = (e: Event) =&gt; &#123;<br>  const file = (e.target as HTMLInputElement).files?.[0]<br>  if (file) &#123;<br>    userInfo.value.avatar = URL.createObjectURL(file)<br>    showToast(&#x27;å¤´åƒä¸Šä¼ æˆåŠŸ&#x27;)<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;van-nav-bar title=&quot;ä¸ªäººèµ„æ–™&quot; fixed placeholder /&gt;<br><br>    &lt;!-- å¤´åƒéƒ¨åˆ† --&gt;<br>    &lt;div style=&quot;text-align: center; margin: 20px 0&quot;&gt;<br>      &lt;label for=&quot;avatar-upload&quot; style=&quot;cursor: pointer&quot;&gt;<br>        &lt;img<br>          :src=&quot;userInfo.avatar || &#x27;https://via.placeholder.com/80&#x27;&quot;<br>          alt=&quot;avatar&quot;<br>          style=&quot;width: 80px; height: 80px; border-radius: 50%&quot;<br>        /&gt;<br>      &lt;/label&gt;<br>      &lt;!-- å½“å¤„äºç¼–è¾‘æ¨¡å¼æ—¶æ‰æ˜¾ç¤ºæç¤º --&gt;<br>      &lt;p v-if=&quot;isEditing&quot;&gt;ç‚¹å‡»å¤´åƒä¿®æ”¹&lt;/p&gt;<br>      &lt;input<br>        :disabled=&quot;!isEditing&quot;<br>        id=&quot;avatar-upload&quot;<br>        type=&quot;file&quot;<br>        accept=&quot;image/*&quot;<br>        style=&quot;display: none&quot;<br>        @change=&quot;uploadAvatar&quot;<br>      /&gt;<br>    &lt;/div&gt;<br><br>    &lt;!-- ä¸ªäººä¿¡æ¯éƒ¨åˆ† --&gt;<br>    &lt;van-cell-group&gt;<br>      &lt;!-- ç”¨æˆ·å --&gt;<br>      &lt;van-field<br>        v-model=&quot;userInfo.username&quot;<br>        label=&quot;ç”¨æˆ·å&quot;<br>        :disabled=&quot;!isEditing&quot;<br>        :input-align=&quot;&#x27;left&#x27;&quot;<br>      /&gt;<br><br>      &lt;!-- çœŸå®å§“åï¼ˆä¸å¯ä¿®æ”¹ï¼‰ --&gt;<br>      &lt;van-field<br>        v-model=&quot;userInfo.realName&quot;<br>        label=&quot;çœŸå®å§“å&quot;<br>        :disabled=&quot;true&quot;<br>        :input-align=&quot;&#x27;left&#x27;&quot;<br>        :class=&quot;isEditing ? &#x27;disabled-field&#x27; : &#x27;&#x27;&quot;<br>      /&gt;<br><br>      &lt;!-- å­¦å·ï¼ˆä¸å¯ä¿®æ”¹ï¼‰ --&gt;<br>      &lt;van-field<br>        v-model=&quot;userInfo.studentId&quot;<br>        label=&quot;å­¦å·&quot;<br>        :disabled=&quot;true&quot;<br>        :input-align=&quot;&#x27;left&#x27;&quot;<br>        :class=&quot;isEditing ? &#x27;disabled-field&#x27; : &#x27;&#x27;&quot;<br>      /&gt;<br><br>      &lt;!-- æ‰‹æœºå· --&gt;<br>      &lt;van-field<br>        v-model=&quot;userInfo.phone&quot;<br>        label=&quot;æ‰‹æœºå·&quot;<br>        :disabled=&quot;!isEditing&quot;<br>        :input-align=&quot;&#x27;left&#x27;&quot;<br>      /&gt;<br><br>      &lt;!-- é‚®ç®± --&gt;<br>      &lt;van-field<br>        v-model=&quot;userInfo.email&quot;<br>        label=&quot;é‚®ç®±&quot;<br>        :disabled=&quot;!isEditing&quot;<br>        :input-align=&quot;&#x27;left&#x27;&quot;<br>      /&gt;<br><br>      &lt;!-- æ€§åˆ« --&gt;<br>      &lt;van-field label=&quot;æ€§åˆ«&quot; :disabled=&quot;!isEditing&quot; :input-align=&quot;&#x27;left&#x27;&quot;&gt;<br>        &lt;template #input&gt;<br>          &lt;van-radio-group<br>            :disabled=&quot;!isEditing&quot;<br>            v-model=&quot;userInfo.gender&quot;<br>            direction=&quot;horizontal&quot;<br>          &gt;<br>            &lt;van-radio name=&quot;1&quot;&gt;ç”·&lt;/van-radio&gt;<br>            &lt;van-radio name=&quot;2&quot;&gt;å¥³&lt;/van-radio&gt;<br>            &lt;van-radio name=&quot;0&quot;&gt;ä¿å¯†&lt;/van-radio&gt;<br>          &lt;/van-radio-group&gt;<br>        &lt;/template&gt;<br>      &lt;/van-field&gt;<br><br>      &lt;!-- ä¸ªäººç®€ä»‹ --&gt;<br>      &lt;van-field<br>        v-model=&quot;userInfo.bio&quot;<br>        label=&quot;ä¸ªäººç®€ä»‹&quot;<br>        type=&quot;textarea&quot;<br>        rows=&quot;3&quot;<br>        :autosize=&quot;&#123; maxHeight: 100 &#125;&quot;<br>        maxlength=&quot;150&quot;<br>        placeholder=&quot;è¯·è¾“å…¥ä¸ªäººç®€ä»‹&quot;<br>        show-word-limit<br>        :disabled=&quot;!isEditing&quot;<br>      /&gt;<br>    &lt;/van-cell-group&gt;<br><br>    &lt;!-- ç¼–è¾‘æŒ‰é’® --&gt;<br>    &lt;div style=&quot;margin: 16px&quot;&gt;<br>      &lt;van-button v-if=&quot;!isEditing&quot; type=&quot;primary&quot; block @click=&quot;startEditing&quot;&gt;<br>        ä¿®æ”¹ä¸ªäººä¿¡æ¯<br>      &lt;/van-button&gt;<br>      &lt;van-button v-else type=&quot;success&quot; block @click=&quot;saveChanges&quot;&gt;<br>        ä¿å­˜ä¿®æ”¹<br>      &lt;/van-button&gt;<br>    &lt;/div&gt;<br><br>    &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;<br>.disabled-field input &#123;<br>  background-color: #f5f5f5;<br>  color: #aaa;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="æƒé™ç”³è¯·é¡µé¢"><a href="#æƒé™ç”³è¯·é¡µé¢" class="headerlink" title="æƒé™ç”³è¯·é¡µé¢"></a>æƒé™ç”³è¯·é¡µé¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&quot;ts&quot;&gt;<br>// é€šçŸ¥æ¶ˆæ¯<br>const notification = ref&lt;string&gt;(<br>  &#x27;ç›®å‰åªæ”¯æŒé’é˜Ÿæˆå‘˜å¯ä»¥ç”³è¯·æƒé™å“¦~åç»­ä¹Ÿä¼šä¸ºæ™®é€šç”¨æˆ·æä¾›æƒé™ç¦åˆ©ï¼&#x27;<br>)<br><br>// è¡¨å•æ•°æ®<br>const username = ref&lt;string&gt;(&#x27;&#x27;)<br>const studentId = ref&lt;string&gt;(&#x27;&#x27;)<br>const reson = ref&lt;string&gt;(&#x27;&#x27;)<br>const right = ref(&#x27;&#x27;)<br>const showPicker = ref(false)<br>const right_columns = [<br>  &#123; text: &#x27;è¶…çº§ç®¡ç†å‘˜&#x27;, value: &#x27;1&#x27; &#125;,<br>  &#123; text: &#x27;ç®¡ç†å‘˜&#x27;, value: &#x27;2&#x27; &#125;<br>]<br><br>const onConfirm = (&#123; selectedOptions &#125;) =&gt; &#123;<br>  right.value = selectedOptions[0]?.text<br>  showPicker.value = false<br>&#125;<br><br>// éªŒè¯è§„åˆ™<br>const rules = &#123;<br>  username: [&#123; required: true, message: &#x27;å§“åä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;],<br>  studentId: [<br>    &#123;<br>      required: true,<br>      message: &#x27;å­¦å·ä¸èƒ½ä¸ºç©º&#x27;,<br>      trigger: &#x27;onBlur&#x27;<br>    &#125;,<br>    &#123; pattern: /^\d&#123;8,12&#125;$/, message: &#x27;å­¦å·æ ¼å¼ä¸æ­£ç¡®&#x27;, trigger: &#x27;onBlur&#x27; &#125; // å­¦å·å‡è®¾ä¸º8åˆ°12ä½æ•°å­—<br>  ],<br>  right: [&#123; required: true, message: &#x27;è¯·é€‰æ‹©è¦ç”³è¯·çš„æƒé™&#x27;, trigger: &#x27;onBlur&#x27; &#125;],<br>  reson: [&#123; required: true, message: &#x27;ç”³è¯·åŸå› ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;]<br>&#125;<br><br>// æäº¤å¤„ç†<br>const onSubmit = () =&gt; &#123;<br>  showToast(&#x27;æäº¤æˆåŠŸ&#x27;)<br>&#125;<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- å°å…¬å‘Š --&gt;<br>    &lt;HomeNoticeBar :notification=&quot;notification&quot; /&gt;<br>    &lt;!-- é˜Ÿå¾½é˜Ÿå --&gt;<br>    &lt;HomeTeamName /&gt;<br><br>    &lt;van-form @submit=&quot;onSubmit&quot;&gt;<br>      &lt;van-cell-group inset&gt;<br>        &lt;!-- å§“å --&gt;<br>        &lt;van-field<br>          v-model=&quot;username&quot;<br>          :rules=&quot;rules.username&quot;<br>          :required=&quot;rules.username[0].required&quot;<br>          label=&quot;å§“å&quot;<br>          placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å§“å&quot;<br>        /&gt;<br><br>        &lt;!-- å­¦å· --&gt;<br>        &lt;van-field<br>          v-model=&quot;studentId&quot;<br>          :rules=&quot;rules.studentId&quot;<br>          :required=&quot;rules.studentId[0].required&quot;<br>          label=&quot;å­¦å·&quot;<br>          placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å­¦å·&quot;<br>        /&gt;<br><br>        &lt;!-- ç”³è¯·æƒé™ --&gt;<br>        &lt;van-field<br>          v-model=&quot;right&quot;<br>          :rules=&quot;rules.right&quot;<br>          :required=&quot;rules.right[0].required&quot;<br>          is-link<br>          readonly<br>          name=&quot;picker&quot;<br>          label=&quot;é€‰æ‹©å™¨&quot;<br>          placeholder=&quot;ç‚¹å‡»é€‰æ‹©æƒé™&quot;<br>          @click=&quot;showPicker = true&quot;<br>        /&gt;<br>        &lt;van-popup v-model:show=&quot;showPicker&quot; position=&quot;top&quot;&gt;<br>          &lt;van-picker<br>            :columns=&quot;right_columns&quot;<br>            @confirm=&quot;onConfirm&quot;<br>            @cancel=&quot;showPicker = false&quot;<br>          /&gt;<br>        &lt;/van-popup&gt;<br><br>        &lt;!-- ç”³è¯·åŸå›  --&gt;<br>        &lt;van-field<br>          v-model=&quot;reson&quot;<br>          :rules=&quot;rules.reson&quot;<br>          :required=&quot;rules.reson[0].required&quot;<br>          rows=&quot;2&quot;<br>          autosize<br>          label=&quot;ç”³è¯·åŸå› &quot;<br>          type=&quot;textarea&quot;<br>          maxlength=&quot;1000&quot;<br>          placeholder=&quot;è¯·è¾“å…¥ç”³è¯·åŸå› &quot;<br>          show-word-limit<br>        /&gt;<br>      &lt;/van-cell-group&gt;<br>      &lt;div style=&quot;margin: 16px&quot;&gt;<br>        &lt;van-button round block type=&quot;primary&quot; native-type=&quot;submit&quot;&gt;<br>          æäº¤<br>        &lt;/van-button&gt;<br>      &lt;/div&gt;<br>    &lt;/van-form&gt;<br>    &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨æŒ‡å—é¡µé¢"><a href="#ä½¿ç”¨æŒ‡å—é¡µé¢" class="headerlink" title="ä½¿ç”¨æŒ‡å—é¡µé¢"></a>ä½¿ç”¨æŒ‡å—é¡µé¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&quot;ts&quot;&gt;<br>const activeName = ref&lt;string&gt;(&#x27;1&#x27;)<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;van-nav-bar title=&quot;ä½¿ç”¨æŒ‡å—&quot; fixed placeholder /&gt;<br>    &lt;van-collapse v-model=&quot;activeName&quot; accordion&gt;<br>      &lt;!-- ç™»å½•è´¦æˆ·æŒ‡å— --&gt;<br>      &lt;van-collapse-item<br>        title=&quot;æ­¥éª¤ 1: ç™»å½•è´¦æˆ·&quot;<br>        name=&quot;1&quot;<br>        :title-style=&quot;&#123; color: activeName === &#x27;1&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot;<br>      &gt;<br>        ä½¿ç”¨æ³¨å†Œæ—¶çš„æ‰‹æœºå·æˆ–é‚®ç®±è¿›è¡Œç™»å½•ï¼Œæœªæ³¨å†Œç”¨æˆ·è¯·å…ˆæ³¨å†Œã€‚ç™»å½•åå¯ä»¥è®¿é—®æ‰€æœ‰åŠŸèƒ½ã€‚<br>      &lt;/van-collapse-item&gt;<br><br>      &lt;!-- æŸ¥çœ‹é€šçŸ¥æŒ‡å— --&gt;<br>      &lt;van-collapse-item<br>        title=&quot;æ­¥éª¤ 2: æŸ¥çœ‹é€šçŸ¥&quot;<br>        name=&quot;2&quot;<br>        :title-style=&quot;&#123; color: activeName === &#x27;2&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot;<br>      &gt;<br>        ç™»å½•åå¯ä»¥åœ¨é€šçŸ¥é¡µé¢æŸ¥çœ‹æœ€æ–°çš„å…¬å‘Šå’Œé€šçŸ¥ï¼Œä¿æŒä¿¡æ¯çš„åŠæ—¶è·å–ã€‚<br>      &lt;/van-collapse-item&gt;<br><br>      &lt;!-- æäº¤åé¦ˆæŒ‡å— --&gt;<br>      &lt;van-collapse-item<br>        title=&quot;æ­¥éª¤ 3: æäº¤åé¦ˆ&quot;<br>        name=&quot;3&quot;<br>        :title-style=&quot;&#123; color: activeName === &#x27;3&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot;<br>      &gt;<br>        åœ¨åé¦ˆé¡µé¢å¡«å†™æ‚¨çš„æ„è§å’Œå»ºè®®ï¼Œæ”¯æŒåŒ¿åæäº¤ï¼Œå¸®åŠ©æˆ‘ä»¬æ”¹è¿›æœåŠ¡ã€‚<br>      &lt;/van-collapse-item&gt;<br><br>      &lt;!-- ä¿®æ”¹ä¸ªäººä¿¡æ¯æŒ‡å— --&gt;<br>      &lt;van-collapse-item<br>        title=&quot;æ­¥éª¤ 4: ä¿®æ”¹ä¸ªäººä¿¡æ¯&quot;<br>        name=&quot;4&quot;<br>        :title-style=&quot;&#123; color: activeName === &#x27;4&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot;<br>      &gt;<br>        æ‚¨å¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒä¿®æ”¹å¤´åƒã€æ˜µç§°å’Œè”ç³»æ–¹å¼ç­‰ä¿¡æ¯ï¼Œä»¥ç¡®ä¿ä¸ªäººèµ„æ–™çš„å‡†ç¡®æ€§ã€‚<br>      &lt;/van-collapse-item&gt;<br><br>      &lt;!-- å¸¸è§é—®é¢˜æŒ‡å— --&gt;<br>      &lt;van-collapse-item<br>        title=&quot;å¸¸è§é—®é¢˜&quot;<br>        name=&quot;5&quot;<br>        :title-style=&quot;&#123; color: activeName === &#x27;5&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot;<br>      &gt;<br>        åœ¨å¸¸è§é—®é¢˜é¡µé¢ï¼Œæˆ‘ä»¬æ•´ç†äº†ä¸€äº›å¸¸è§çš„ä½¿ç”¨ç–‘é—®åŠè§£ç­”ï¼Œä¾›æ‚¨å‚è€ƒã€‚<br>      &lt;/van-collapse-item&gt;<br><br>      &lt;!-- è”ç³»å®¢æœæŒ‡å— --&gt;<br>      &lt;van-collapse-item<br>        title=&quot;è”ç³»å®¢æœ&quot;<br>        name=&quot;6&quot;<br>        :title-style=&quot;&#123; color: activeName === &#x27;6&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot;<br>      &gt;<br>        å¦‚æœé‡åˆ°é—®é¢˜æ— æ³•è§£å†³ï¼Œæ‚¨å¯ä»¥é€šè¿‡è”ç³»å®¢æœåŠŸèƒ½ä¸æˆ‘ä»¬å–å¾—è”ç³»ã€‚<br>      &lt;/van-collapse-item&gt;<br>    &lt;/van-collapse&gt;<br>    &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="è®¾ç½®é¡µé¢"><a href="#è®¾ç½®é¡µé¢" class="headerlink" title="è®¾ç½®é¡µé¢"></a>è®¾ç½®é¡µé¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&quot;ts&quot;&gt;<br>const router = useRouter()<br>// é€€å‡ºç™»å½•å‡½æ•°<br>const logout = () =&gt; &#123;<br>  // æ¨¡æ‹Ÿé€€å‡ºç™»å½•é€»è¾‘ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¤„ç†å®é™…çš„é€€å‡ºç™»å½•æ“ä½œ<br>  showSuccessToast(&#123;<br>    message: &#x27;å·²é€€å‡ºç™»å½•&#x27;,<br>    position: &#x27;top&#x27;<br>  &#125;)<br>  router.push(&#x27;/&#x27;)<br>&#125;<br><br>// å¤„ç†å…¶ä»–è®¾ç½®é¡¹ç‚¹å‡»äº‹ä»¶<br>const handleSettingClick = (message: string) =&gt; &#123;<br>  showToast(&#123;<br>    message: message,<br>    position: &#x27;top&#x27;<br>  &#125;)<br>&#125;<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;van-nav-bar title=&quot;è®¾ç½®&quot; fixed placeholder /&gt;<br>    &lt;!-- è®¾ç½®é€‰é¡¹ --&gt;<br>    &lt;van-cell-group&gt;<br>      &lt;!-- ä¿®æ”¹å¯†ç  --&gt;<br>      &lt;van-cell<br>        title=&quot;ä¿®æ”¹å¯†ç &quot;<br>        is-link<br>        @click=&quot;handleSettingClick(&#x27;ä¿®æ”¹å¯†ç åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...&#x27;)&quot;<br>      /&gt;<br><br>      &lt;!-- é€šçŸ¥è®¾ç½® --&gt;<br>      &lt;van-cell<br>        title=&quot;é€šçŸ¥è®¾ç½®&quot;<br>        is-link<br>        @click=&quot;handleSettingClick(&#x27;é€šçŸ¥è®¾ç½®åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...&#x27;)&quot;<br>      /&gt;<br><br>      &lt;!-- éšç§è®¾ç½® --&gt;<br>      &lt;van-cell<br>        title=&quot;éšç§è®¾ç½®&quot;<br>        is-link<br>        @click=&quot;handleSettingClick(&#x27;éšç§è®¾ç½®åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...&#x27;)&quot;<br>      /&gt;<br>    &lt;/van-cell-group&gt;<br><br>    &lt;!-- é€€å‡ºç™»å½•æŒ‰é’® --&gt;<br>    &lt;div style=&quot;margin: 16px&quot;&gt;<br>      &lt;van-button type=&quot;danger&quot; block @click=&quot;logout&quot;&gt; é€€å‡ºç™»å½• &lt;/van-button&gt;<br>    &lt;/div&gt;<br><br>    &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h2><h3 id="å¯¼å…¥vueæ–‡ä»¶TSæŠ¥é”™"><a href="#å¯¼å…¥vueæ–‡ä»¶TSæŠ¥é”™" class="headerlink" title="å¯¼å…¥vueæ–‡ä»¶TSæŠ¥é”™"></a>å¯¼å…¥vueæ–‡ä»¶TSæŠ¥é”™</h3><p>é”™è¯¯ä¿¡æ¯æç¤ºï¼š TypeScript æ— æ³•æ‰¾åˆ°æ¨¡å— <code>@/views/**/**.vue</code> çš„å£°æ˜æ–‡ä»¶ï¼Œè¿™æ„å‘³ç€ TypeScript æ— æ³•æ¨æ–­è¯¥æ–‡ä»¶çš„ç±»å‹ï¼Œå› æ­¤é»˜è®¤å°†å…¶è§†ä¸º <code>any</code> ç±»å‹ã€‚</p><p>åŸå› ï¼šTypeScript é»˜è®¤ä¸æ”¯æŒ .vue æ–‡ä»¶çš„æ¨¡å—ç±»å‹è§£æï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">/* env.d.ts */</span><br><span class="hljs-comment">/// &lt;reference types=&quot;vite/client&quot; /&gt;</span><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.vue&#x27;</span> &#123;<br>  <span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> &#123; <span class="hljs-title class_">DefineComponent</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br>  <span class="hljs-comment">// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/ban-types</span><br>  <span class="hljs-keyword">const</span> <span class="hljs-attr">component</span>: <span class="hljs-title class_">DefineComponent</span>&lt;&#123;&#125;, &#123;&#125;, <span class="hljs-built_in">any</span>&gt;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> component<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æš‘å‡å­¦ä¹ </title>
    <link href="/2024/08/02/%E6%9A%91%E5%81%87%E5%AD%A6%E4%B9%A0/"/>
    <url>/2024/08/02/%E6%9A%91%E5%81%87%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><p><strong>JSå·²æœ‰çš„ç±»å‹</strong></p><p>åŸå§‹ç±»å‹ï¼šnumber&#x2F;string&#x2F;boolean&#x2F;null&#x2F;undefined&#x2F;symbol</p><p>å¯¹è±¡ç±»å‹ï¼šobjectï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ç­‰å¯¹è±¡ï¼‰</p><p><strong>TSæ–°å¢çš„ç±»å‹</strong></p><p>è”åˆç±»å‹ã€è‡ªå®šä¹‰ç±»å‹ï¼ˆç±»å‹åˆ«åï¼‰ã€æ¥å£ã€å…ƒç¥–ã€å­—é¢é‡ç±»å‹ã€æšä¸¾ã€voidã€anyç­‰</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// åŸå§‹ç±»å‹</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">18</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">myName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;eee&#x27;</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">isLoading</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">s</span>: <span class="hljs-built_in">symbol</span> = <span class="hljs-title class_">Symbol</span>()<br><br><span class="hljs-comment">// å¯¹è±¡ç±»å‹</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">numbers</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><span class="hljs-keyword">let</span> <span class="hljs-attr">strings</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>]<br><span class="hljs-keyword">let</span> <span class="hljs-attr">strings</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>]<br><br><span class="hljs-comment">// è”åˆç±»å‹</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr</span>: (<span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>)[] = [<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;3&#x27;</span>,<span class="hljs-number">3</span>]<br><br><span class="hljs-comment">// ç±»å‹åˆ«å</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">CustomArray</span> = (<span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>)[]<br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr1</span>: <span class="hljs-title class_">CustomArray</span> = [<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;3&#x27;</span>,<span class="hljs-number">3</span>]<br><br><span class="hljs-comment">// å‡½æ•°ç±»å‹</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params"><span class="hljs-attr">num1</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">num2</span>: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> &#123;<br>    <span class="hljs-keyword">return</span> num1 + num2<br>&#125;<br><span class="hljs-keyword">const</span> add = (<span class="hljs-attr">num1</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">num2</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> num1 + num2<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">num1</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">num2</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span> = <span class="hljs-function">(<span class="hljs-params">num1, num2</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> num1 + num2<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params"><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>, name)<br>&#125;<br><br><span class="hljs-comment">// å¯é€‰å‚æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">mySlice</span>(<span class="hljs-params">start?: <span class="hljs-built_in">number</span>, end?: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;èµ·å§‹ç´¢å¼•ï¼š&#x27;</span>, start, <span class="hljs-string">&#x27;ç»“æŸç´¢å¼•ï¼š&#x27;</span>, end)<br>&#125;<br><br><span class="hljs-comment">// å¯¹è±¡ç±»å‹</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">person</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>; &#125;<br><br><span class="hljs-comment">// æ¥å£</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IPerson</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br><span class="hljs-title function_">sayHi</span>(): <span class="hljs-built_in">void</span><br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">person</span>: <span class="hljs-title class_">IPerson</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jack&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">19</span>,<br>    <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"></span>) &#123;&#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">æ¥å£ä¸ç±»å‹åˆ«åçš„å¯¹æ¯”ï¼š</span><br><span class="hljs-comment">ç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥ç»™å¯¹è±¡æŒ‡å®šç±»å‹</span><br><span class="hljs-comment">ä¸åŒç‚¹ï¼šæ¥å£åªèƒ½ä¸ºå¯¹è±¡æŒ‡å®šç±»å‹ï¼›ç±»å‹åˆ«åä¸ä»…å¯ä»¥ä¸ºå¯¹è±¡æŒ‡å®šç±»å‹ï¼Œå®é™…ä¸Šå¯ä»¥ä¸ºä»»æ„ç±»å‹æŒ‡å®šåˆ«å</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">IPerson</span> = &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br><span class="hljs-title function_">sayHi</span>(): <span class="hljs-built_in">void</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">NumStr</span> =  <span class="hljs-built_in">number</span> |<span class="hljs-built_in">string</span><br><br><span class="hljs-comment">// æ¥å£çš„ç»§æ‰¿</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point2D</span> &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> &#125;<br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point3D</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Point2D</span> &#123; <span class="hljs-attr">z</span>: <span class="hljs-built_in">number</span> &#125;<br><br><span class="hljs-comment">// å…ƒç»„</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">position</span>: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>] = [<span class="hljs-number">0.11</span>, <span class="hljs-number">0.22</span>]<br><br><span class="hljs-comment">// ç±»å‹æ–­è¨€</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">aLink</span>: <span class="hljs-title class_">HTMLAnchorElement</span><br><span class="hljs-keyword">const</span> aLink = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementByID</span>(<span class="hljs-string">&#x27;link&#x27;</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLAnchorElement</span><br><span class="hljs-comment">// const aLink = &lt;HTMLAnchorElement&gt;document.getELementById(&#x27;link&#x27;)ã€ä¸å¸¸ç”¨ï¼Œè·Ÿreactæœ‰å†²çªã€‘</span><br><br><span class="hljs-comment">// å­—é¢é‡ç±»å‹</span><br><span class="hljs-keyword">let</span> str1 = <span class="hljs-string">&#x27;Hello TS&#x27;</span> <span class="hljs-comment">// stringï¼›letå£°æ˜å˜é‡</span><br><span class="hljs-keyword">const</span> str2 = <span class="hljs-string">&#x27;Hello TS&#x27;</span> <span class="hljs-comment">// &quot;Hello TS&quot;ï¼›constå£°æ˜å¸¸é‡</span><br><span class="hljs-comment">// ç”¨æ¥è¡¨ç¤ºä¸€ç»„æ˜ç¡®çš„å¯é€‰å€¼åˆ—è¡¨</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">changeDirection</span>(<span class="hljs-params"><span class="hljs-attr">directin</span>: <span class="hljs-string">&#x27;up&#x27;</span> | <span class="hljs-string">&#x27;down&#x27;</span> | <span class="hljs-string">&#x27;left&#x27;</span> | <span class="hljs-string">&#x27;right&#x27;</span></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(direction)<br>&#125;<br><br><span class="hljs-comment">// æšä¸¾(enum)</span><br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> &#123; <span class="hljs-title class_">Up</span>, <span class="hljs-title class_">Down</span>, <span class="hljs-title class_">Left</span>, <span class="hljs-title class_">Right</span> &#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">changeDirection</span>(<span class="hljs-params"><span class="hljs-attr">directin</span>: <span class="hljs-title class_">Direction</span></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(direction)<br>&#125;<br><span class="hljs-title function_">changeDirection</span>(<span class="hljs-title class_">Direction</span>.<span class="hljs-property">Left</span>)<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">æšä¸¾æˆå‘˜çš„å€¼é»˜è®¤ç¬¬ä¸€ä¸ªä¸º0ä¾æ¬¡å¢åŠ ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰å€¼ã€é»˜è®¤æ•°å­—ï¼Œä¹Ÿå¯ä»¥ä¸ºå­—ç¬¦ä¸²ã€‘</span><br><span class="hljs-comment">enum Direction &#123; Up = 10, Down, Left, Right &#125;</span><br><span class="hljs-comment">enum Direction &#123; Up = 2, Down = 4, Left = 8, Right = 16 &#125;</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// å­—ç¬¦ä¸²æšä¸¾</span><br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> &#123; <br>    <span class="hljs-title class_">Up</span> = <span class="hljs-string">&#x27;UP&#x27;</span>,<br>    <span class="hljs-title class_">Down</span> = <span class="hljs-string">&#x27;DOWN&#x27;</span>,<br>    <span class="hljs-title class_">Left</span> = <span class="hljs-string">&#x27;LEFT&#x27;</span>,<br>    <span class="hljs-title class_">Right</span> = <span class="hljs-string">&#x27;RIGHT&#x27;</span> <br>&#125;<br><br><span class="hljs-comment">// anyç±»å‹</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-built_in">any</span> = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">0</span> &#125;<br><br><span class="hljs-comment">// typeof</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-string">&quot;Hello world&quot;</span>)<br><span class="hljs-comment">// æ ¹æ®ç±»å‹ä¸Šä¸‹æ–‡æ¥</span><br><span class="hljs-keyword">let</span> p = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> &#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">formatPoint</span>(<span class="hljs-params"><span class="hljs-attr">point</span>: &#123; x: <span class="hljs-built_in">number</span>; y: <span class="hljs-built_in">number</span>&#125;</span>)&#123;&#125;<br><span class="hljs-title function_">formatPoint</span>(p)<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">formatPoint</span>(<span class="hljs-params"><span class="hljs-attr">point</span>: <span class="hljs-keyword">typeof</span> p</span>)<br></code></pre></td></tr></table></figure><p><strong>TSé«˜çº§ç±»å‹</strong></p><p>classç±»ã€ç±»å‹å…¼å®¹æ€§ã€äº¤å‰ç±»å‹ã€æ³›å‹å’Œkeyofã€ç´¢å¼•ç­¾åç±»å‹å’Œç´¢å¼•æŸ¥è¯¢ç±»å‹ã€æ˜ å°„ç±»å‹ç­‰</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// classç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>    <span class="hljs-comment">// gender: &#x27;ç”·&#x27;</span><br>    <span class="hljs-attr">gender</span>: <span class="hljs-built_in">string</span><br>    x = <span class="hljs-number">10</span><br>    y = <span class="hljs-number">10</span><br>    <br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">gender</span>: <span class="hljs-built_in">string</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gender</span> = gender<br>    &#125;<br>    <br>    <span class="hljs-comment">// å®ä¾‹æ–¹æ³•</span><br>    <span class="hljs-title function_">scale</span>(<span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> *= n<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> *= n<br>    &#125;<br>&#125;<br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>()<br>p.<span class="hljs-property">age</span><br><br><span class="hljs-comment">// ç±»ç»§æ‰¿</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-title function_">move</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Moving along!&#x27;</span>) &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>    <span class="hljs-title function_">bark</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;wang!&#x27;</span>) &#125;<br>&#125;<br><span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>()<br><br><span class="hljs-comment">// æ¥å£</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Singable</span> &#123;<br>    <span class="hljs-title function_">sing</span>(): <span class="hljs-built_in">void</span><br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Singable</span> &#123;<br>    <span class="hljs-title function_">sing</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;asdfadf&#x27;</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// ä¿®é¥°ç¬¦</span><br><span class="hljs-keyword">public</span><br><span class="hljs-keyword">protected</span><br><span class="hljs-keyword">private</span><br><span class="hljs-keyword">readonly</span>ï¼šè¡¨ç¤ºåªè¯»ï¼Œåªèƒ½è¢«æ„é€ å‡½æ•°è¿›è¡Œèµ‹å€¼<br><br><span class="hljs-comment">// ç±»å‹å…¼å®¹æ€§</span><br>å¯¹è±¡å…¼å®¹ï¼šæˆå‘˜å¤šçš„èµ‹å€¼ç»™æˆå‘˜å°‘çš„<br>æ¥å£å…¼å®¹ï¼šå¤šçš„èµ‹å€¼ç»™å°‘çš„<br>å‡½æ•°å…¼å®¹ï¼šå‚æ•°ä¸ªæ•°å°‘çš„èµ‹å€¼ç»™å‚æ•°ä¸ªæ•°å¤šçš„ï¼›å‚æ•°ç±»å‹å¯¹åº”ä¸€è‡´ï¼›è¿”å›å€¼å¤šçš„èµ‹å€¼ç»™å°‘çš„<br><br><span class="hljs-comment">// äº¤å‰ç±»å‹ï¼ˆ&amp;ï¼‰</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> &#125;<br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Contact</span> &#123; <span class="hljs-attr">phone</span>: <span class="hljs-built_in">string</span> &#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PersonDetail</span> = <span class="hljs-title class_">Person</span> &amp; <span class="hljs-title class_">Contact</span><br><span class="hljs-keyword">let</span> obj = <span class="hljs-title class_">PersonDetail</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jack&#x27;</span>,<br>    <span class="hljs-attr">phone</span>: <span class="hljs-string">&#x27;123...&#x27;</span><br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">äº¤å‰ç±»å‹å’Œæ¥å£ç»§æ‰¿çš„å¯¹æ¯”</span><br><span class="hljs-comment">ç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥å®ç°å¯¹è±¡ç±»å‹çš„ç»„åˆ</span><br><span class="hljs-comment">ä¸åŒç‚¹ï¼šä¸¤ç§æ–¹å¼å®ç°ç±»å‹ç»„åˆæ—¶ï¼Œå¯¹äºåŒåå±æ€§ä¹‹é—´ï¼Œå¤„ç†ç±»å‹å†²çªçš„æ–¹å¼ä¸åŒã€‚ç»§æ‰¿ä¼šæŠ¥é”™ä½†æ˜¯äº¤å‰ç±»å‹ä¸ä¼š</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">interface A &#123;</span><br><span class="hljs-comment">fn: (value: number) =&gt; string</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">interface B extends A &#123;</span><br><span class="hljs-comment">fn: (value: string) =&gt; string</span><br><span class="hljs-comment">&#125;è¿™é‡Œæ˜¯é”™è¯¯çš„</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">interface A &#123;</span><br><span class="hljs-comment">fn: (value: number) =&gt; string</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">interface B &#123;</span><br><span class="hljs-comment">fn: (value: string) =&gt; string</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">type C = A &amp; B ç›¸å½“äº åœ¨Cä¸­fn: (value: string | number) =&gt; string</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// æ³›å‹</span><br><span class="hljs-keyword">function</span> id&lt;<span class="hljs-title class_">Type</span>&gt;(<span class="hljs-attr">value</span>: <span class="hljs-title class_">Type</span>): <span class="hljs-title class_">Type</span> &#123; <span class="hljs-keyword">return</span> value &#125;<br><span class="hljs-keyword">const</span> num = id&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">10</span>) <span class="hljs-comment">// æ­¤æ—¶numçš„ç±»å‹å³ä¸ºnumber</span><br><span class="hljs-keyword">const</span> str = id&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&#x27;str&#x27;</span>) <span class="hljs-comment">// æ­¤æ—¶strçš„ç±»å‹å³ä¸ºstring</span><br><span class="hljs-keyword">let</span> num = <span class="hljs-title function_">id</span>(<span class="hljs-number">10</span>) <span class="hljs-comment">// å¯ä»¥ç®€åŒ–ä¸ç”¨å†™&lt;&gt;ï¼Œä¼šæ¨æ–­ä¸ºå­—é¢é‡ç±»å‹</span><br><br><span class="hljs-comment">// æ³›å‹çº¦æŸ</span><br><span class="hljs-comment">/*æŒ‡å®šæ›´åŠ å…·ä½“çš„ç±»å‹*/</span><br><span class="hljs-keyword">function</span> id&lt;<span class="hljs-title class_">Type</span>&gt;(<span class="hljs-attr">value</span>: <span class="hljs-title class_">Type</span>[]): <span class="hljs-title class_">Type</span>[] &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-property">length</span>)<br>    <span class="hljs-keyword">return</span> value<br>&#125;<br><span class="hljs-comment">/*æ·»åŠ çº¦æŸ*/</span><br><span class="hljs-comment">/*åªè¦æœ‰lengthå±æ€§å°±å¯ä»¥*/</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ILength</span> &#123; <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span> &#125;<br><span class="hljs-keyword">function</span> id&lt;<span class="hljs-title class_">Type</span> extedns <span class="hljs-title class_">ILength</span>&gt;(<span class="hljs-attr">value</span>: <span class="hljs-title class_">Type</span>): <span class="hljs-title class_">Type</span> &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-property">length</span>)<br>    <span class="hljs-keyword">return</span> value<br>&#125;<br><br><span class="hljs-comment">// å¤šä¸ªæ³›å‹å˜é‡çš„æƒ…å†µ</span><br><span class="hljs-keyword">function</span> getProp&lt;<span class="hljs-title class_">Type</span>, <span class="hljs-title class_">Key</span> <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">Type</span>&gt;(<span class="hljs-attr">obj</span>: <span class="hljs-title class_">Type</span>, <span class="hljs-attr">key</span>: <span class="hljs-title class_">Key</span>)&#123;<br>    <span class="hljs-keyword">return</span> obj[key]<br>&#125;<br><span class="hljs-keyword">let</span> person = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jack&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;<br><span class="hljs-title function_">getProp</span>(person, <span class="hljs-string">&#x27;name&#x27;</span>)<br><br><span class="hljs-comment">// æ³›å‹æ¥å£</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IdFunc</span>&lt;<span class="hljs-title class_">Type</span>&gt; &#123;<br>    <span class="hljs-attr">id</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">value</span>: <span class="hljs-title class_">Type</span></span>) =&gt;</span> <span class="hljs-title class_">Type</span><br>    <span class="hljs-attr">ids</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Type</span>[]<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">IdFunc</span>&lt;<span class="hljs-built_in">number</span>&gt; &#123;<br>    <span class="hljs-title function_">id</span>(<span class="hljs-params">value</span>) &#123; <span class="hljs-keyword">return</span> value &#125;,<br>    <span class="hljs-title function_">ids</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">return</span> [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>] &#125;<br>&#125;<br><br><span class="hljs-comment">// æ³›å‹ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericNumber</span>&lt;<span class="hljs-title class_">NumType</span>&gt; &#123;<br>    <span class="hljs-attr">defaultValue</span>: <span class="hljs-title class_">NumType</span><br>    <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">x</span>: <span class="hljs-title class_">NumType</span>, <span class="hljs-attr">y</span>: <span class="hljs-title class_">NumType</span></span>) =&gt;</span> <span class="hljs-title class_">NumType</span><br>&#125;<br><span class="hljs-keyword">const</span> myNum = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericNumber</span>&lt;<span class="hljs-built_in">number</span>&gt;()<br><br><span class="hljs-comment">// æ³›å‹å·¥å…·ç±»å‹ï¼ˆPartialï¼‰</span><br><span class="hljs-comment">/*æ„é€ å‡ºæ¥çš„æ–°ç±»å‹PartialPropsç»“æ„å’ŒPropsç›¸åŒï¼Œä½†æ‰€æœ‰å±æ€§éƒ½å˜ä¸ºæ˜¯å¯é€‰çš„*/</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> &#123;<br>    <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">children</span>: <span class="hljs-built_in">number</span>[]<br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PartialProps</span> = <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">Props</span>&gt;<br><br><span class="hljs-comment">// æ³›å‹å·¥å…·ç±»å‹ï¼ˆReadonlyï¼‰</span><br><span class="hljs-comment">/*æ„é€ ä¸€ä¸ªæ‰€æœ‰å±æ€§ä¸ºåªè¯»çš„ç±»å‹*/</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> &#123;<br>    <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">children</span>: <span class="hljs-built_in">number</span>[]<br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">ReadonlyProps</span> = <span class="hljs-title class_">Readonly</span>&lt;<span class="hljs-title class_">Props</span>&gt;<br><br><span class="hljs-comment">// æ³›å‹å·¥å…·ç±»å‹ï¼ˆPickï¼‰</span><br><span class="hljs-comment">/*Pick&lt;Type,Keys&gt;ä»Typeä¸­é€‰æ‹©ä¸€ç»„å±æ€§æ¥æ„é€ æ–°ç±»å‹*/</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> &#123;<br>    <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">children</span>: <span class="hljs-built_in">number</span>[]<br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PickProps</span> = <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">Props</span>, <span class="hljs-string">&#x27;id&#x27;</span> | <span class="hljs-string">&#x27;title&#x27;</span>&gt;<br><br><span class="hljs-comment">// æ³›å‹å·¥å…·ç±»å‹ï¼ˆRecordï¼‰</span><br><span class="hljs-comment">/*Record&lt;Keys,Type&gt;æ„é€ ä¸€ä¸ªæ–°å¯¹è±¡ç±»å‹ï¼Œå±æ€§é”®ä¸ºKeysï¼Œå±æ€§ç±»å‹ä¸ºType*/</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">RecordObj</span> = <span class="hljs-title class_">Record</span>&lt;<span class="hljs-string">&#x27;a&#x27;</span> | <span class="hljs-string">&#x27;b&#x27;</span> | <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-built_in">string</span>[]&gt;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">RecordObj</span> = &#123;<br>    <span class="hljs-attr">a</span>: [<span class="hljs-string">&#x27;1&#x27;</span>],<br>    <span class="hljs-attr">b</span>: [<span class="hljs-string">&#x27;2&#x27;</span>],<br>    <span class="hljs-attr">c</span>: [<span class="hljs-string">&#x27;3&#x27;</span>]<br>&#125;<br><br><span class="hljs-comment">// ç´¢å¼•ç­¾åç±»å‹</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">AnyObject</span> &#123;<br>    [<span class="hljs-attr">key</span>: steing]: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">AnyObject</span> = &#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">b</span>: <span class="hljs-number">2</span><br>&#125;<br> <br><span class="hljs-comment">// æ˜ å°„ç±»å‹</span><br><span class="hljs-comment">/*åŸºäºæ—§ç±»å‹åˆ›å»ºæ–°ç±»å‹ï¼Œåªèƒ½åœ¨ç±»å‹åˆ«åä¸­ä½¿ç”¨*/</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PropKeys</span> = <span class="hljs-string">&#x27;x&#x27;</span> | <span class="hljs-string">&#x27;y&#x27;</span> | <span class="hljs-string">&#x27;z&#x27;</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Type</span> = &#123; [<span class="hljs-title class_">Key</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">PropKeys</span>]: <span class="hljs-built_in">number</span> &#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Props</span> = &#123; <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">c</span>: <span class="hljs-built_in">boolean</span> &#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Type</span> = &#123; [<span class="hljs-title class_">Key</span> <span class="hljs-keyword">in</span> keyof <span class="hljs-title class_">Props</span>]: <span class="hljs-built_in">number</span> &#125;<br><br><span class="hljs-comment">// ç´¢å¼•æŸ¥è¯¢ç±»å‹</span><br><span class="hljs-comment">/*T[P]è¯­æ³•ç”¨æ¥æŸ¥è¯¢å±æ€§çš„ç±»å‹*/</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Props</span> = &#123; <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">c</span>: <span class="hljs-built_in">boolean</span> &#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">TypeA</span> = <span class="hljs-title class_">Props</span>[<span class="hljs-string">&#x27;a&#x27;</span>]<span class="hljs-comment">//number</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">TypeA</span> = <span class="hljs-title class_">Props</span>[<span class="hljs-string">&#x27;a&#x27;</span> | <span class="hljs-string">&#x27;b&#x27;</span>]<span class="hljs-comment">//number|string</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">TypeA</span> = <span class="hljs-title class_">Props</span>[keyof <span class="hljs-title class_">Props</span>]<span class="hljs-comment">//number|string|boolean</span><br></code></pre></td></tr></table></figure><p><strong>TSä¸­çš„æ–‡ä»¶ç±»å‹</strong></p><p>.tsæ–‡ä»¶</p><ul><li>æ—¢åŒ…å«ç±»å‹ä¿¡æ¯åˆå¯æ‰§è¡Œä»£ç </li><li>å¯ä»¥è¢«ç¼–è¯‘ä¸º.jsæ–‡ä»¶ç„¶åæ‰§è¡Œ</li><li>ç”¨é€”ï¼šç¼–å†™ç¨‹åºä»£ç çš„åœ°æ–¹</li></ul><p>.d.tsæ–‡ä»¶ï¼ˆç±»ä¼¼äºC++ä¸­çš„å¤´æ–‡ä»¶ï¼‰</p><ul><li><p>åªåŒ…å«ç±»å‹ä¿¡æ¯çš„ç±»å‹å£°æ˜æ–‡ä»¶</p></li><li><p>ä¸ä¼šç”Ÿæˆ.jsæ–‡ä»¶ï¼Œä»…ç”¨äºæä¾›ç±»å‹ä¿¡æ¯</p></li><li><p>ç”¨é€”ï¼šä¸ºjsæä¾›ç±»å‹ä¿¡æ¯</p></li><li><pre><code class="tsx">//ä¸ºjsæ–‡ä»¶æä¾›ç±»å‹å£°æ˜/*åœ¨jsæ–‡ä»¶ä¸­å·²å­˜åœ¨å¦‚ä¸‹çš„å†…å®¹let count = 10let songName = &#39;ç—´å¿ƒç»å¯¹&#39;let position = &#123;x: 0,y: 0&#125;function add(x,y) &#123;retrun x+y&#125;function changeDirection(direction)&#123;console.log(direction)&#125;const fomartPoint = point =&gt; &#123;console.log(&#39;å½“å‰åæ ‡:&#39;, point)&#125;export &#123;count, songName, position, add, changeDirection&#125;*/declare let count: numberdeclare let someName: stringinterface Point &#123;    x: number    y: number&#125;declare let positon: Pointdeclare function add(x: mumber, y: number): numberdeclare function changeDirection(direction: &#39;up&#39;|&#39;down&#39;|&#39;left&#39;|&#39;right&#39;):voidtype FomartPoint = (point: Point) =&gt; voiddeclare const fomartPoint: FomartPoint// declare const fomartPoint: (point: Point) =&gt; voidexport &#123;count, songName, position, add, changeDirection&#125;</code></pre></li></ul><h1 id="SSM"><a href="#SSM" class="headerlink" title="SSM"></a>SSM</h1><h2 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h2><p><strong>1.Spring Frameworkç³»ç»Ÿæ¶æ„</strong></p><ul><li><p><code>Core Container</code> : æ ¸å¿ƒå®¹å™¨</p><p><code>AOP</code> : é¢å‘åˆ‡é¢ç¼–ç¨‹</p><p><code>Aspects</code> : AOPæ€æƒ³å®ç°</p><p><code>Data  Access</code> : æ•°æ®è®¿é—®</p><p><code>Data Integration</code> : æ•°æ®é›†æˆ</p><p><code>Web</code> : Webå¼€å‘</p><p><code>Test</code> : å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•</p></li><li><p><strong>IoCï¼ˆInversion of Controlï¼‰æ§åˆ¶åè½¬</strong>ï¼šä½¿ç”¨å¯¹è±¡äº‹ï¼Œç”±ä¸»åŠ¨newäº§ç”Ÿå¯¹è±¡è½¬æ¢ä¸ºç”±å¤–éƒ¨æä¾›å¯¹è±¡ï¼Œæ­¤è¿‡ç¨‹ä¸­å¯¹è±¡åˆ›å»ºæ§åˆ¶æƒç”±ç¨‹åºè½¬ç§»åˆ°å¤–éƒ¨ï¼Œæ­¤æ€æƒ³ç§°ä¸ºæ§åˆ¶åè½¬</p></li><li><p>Springæä¾›äº†ä¸€ä¸ªå®¹å™¨ï¼Œç§°ä¸º<strong>IoCå®¹å™¨</strong>ï¼Œç”¨æ¥å……å½“IoCæ€æƒ³ä¸­çš„â€œå¤–éƒ¨â€</p><p>IoCå®¹å™¨è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ç­‰ä¸€ç³»åˆ—å·¥ä½œï¼Œè¢«åˆ›å»ºæˆ–è¢«ç®¡ç†çš„å¯¹è±¡åœ¨IoCå®¹å™¨ä¸­ç»Ÿç§°ä¸º<strong>Bean</strong></p></li><li><p><strong>DIï¼ˆDependency Injectionï¼‰ä¾èµ–æ³¨å…¥</strong>ï¼šåœ¨å®¹å™¨ä¸­å»ºç«‹beanä¸beanä¹‹é—´çš„ä¾èµ–å…³ç³»çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç§°ä¸ºä¾èµ–æ³¨å…¥</p></li></ul><p><strong>2.bean</strong></p><ul><li><table><thead><tr><th align="left"><span style="display:inline-block;width:100px">ç±»åˆ«</span></th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">åç§°</td><td align="left">bean</td></tr><tr><td align="left">ç±»å‹</td><td align="left">æ ‡ç­¾</td></tr><tr><td align="left">æ‰€å±</td><td align="left">beansæ ‡ç­¾</td></tr><tr><td align="left">æ ¼å¼</td><td align="left"><strong><beans><br />         <bean/><br />         <bean></bean><br /></beans></strong></td></tr><tr><td align="left">å±æ€§åˆ—è¡¨</td><td align="left">idï¼šbeançš„idï¼Œä½¿ç”¨å®¹å™¨å¯ä»¥é€šè¿‡idå€¼è·å–å¯¹åº”çš„beanï¼Œåœ¨ä¸€ä¸ªå®¹å™¨ä¸­idå€¼å”¯ä¸€<br /><br />classï¼šbeançš„ç±»å‹ï¼Œå³é…ç½®çš„beançš„å…¨è·¯å¾„ç±»å<br /><br />nameï¼šbeançš„åˆ«åï¼Œå¯ä»¥æœ‰å¤šåç§°ï¼Œç©ºæ ¼åˆ†å¼€<br /><br />scopeï¼šbeançš„ä½œç”¨èŒƒå›´ï¼Œå¯ä»¥æ§åˆ¶åˆ›å»ºå®ä¾‹çš„æ•°é‡ï¼Œæ˜¯å¦æ˜¯å•ä¾‹çš„å¯¹è±¡ï¼Œå¯é€‰èŒƒå›´ã€singletonï¼ˆå•ä¾‹é»˜è®¤ï¼‰ã€prototypeï¼ˆéå•ä¾‹ï¼‰ã€‘<br /><br />init-methodï¼šbeanåˆå§‹åŒ–æ–¹æ³•<br /><br />destroy-methodï¼šbeançš„é”€æ¯æ–¹æ³•</td></tr><tr><td align="left">èŒƒä¾‹</td><td align="left"><bean id="bookDao" name="service dao" class="com.itheima.dao,impl.BookDaoImpl" scope="prototype" /></td></tr><tr><td align="left">å®ä¾‹åŒ–</td><td align="left">æ„é€ å‡½æ•°ï¼š<bean id="bookDao" class="com.itheima.dao,impl.BookDaoImpl" /><br /><br />ä½¿ç”¨é™æ€å·¥å‚ï¼š<bean id="orderDao" class="com.itheima.factory.OrderDaoFactory" factory-method="getOrderDao" /><br /><br />ä½¿ç”¨å®ä¾‹å·¥å‚ï¼š<br /><bean id="userFactory" class="com.itheima,factory.UserDaoFactory"  /><br /><bean id="userDao" factory-method="getUserDao" factory-bean="userFactory" /><br /><br /></td></tr><tr><td align="left">ç”Ÿå‘½å‘¨æœŸ</td><td align="left">é˜¶æ®µï¼š<br />1ã€åˆå§‹åŒ–å®¹å™¨ï¼šâ‘ åˆ›å»ºå¯¹è±¡ï¼ˆå†…å­˜åˆ†é…ï¼‰â‘¡æ‰§è¡Œæ„é€ æ–¹æ³•â‘¢æ‰§è¡Œå±æ€§æ³¨å…¥ï¼ˆsetæ“ä½œï¼‰â‘£æ‰§è¡Œbeanåˆå§‹åŒ–æ–¹æ³•<br />2ã€ä½¿ç”¨beanï¼šâ‘ æ‰§è¡Œä¸šåŠ¡æ“ä½œ<br />3ã€å…³é—­&#x2F;é”€æ¯å®¹å™¨ï¼šâ‘ æ‰§è¡Œbeané”€æ¯æ–¹æ³•<br /><br /><br />pbulic class BookDaoImpl implements BookDao {<br />     &#x2F;&#x2F; è¡¨ç¤ºbeanåˆå§‹åŒ–å¯¹åº”çš„æ“ä½œ<br />     public void init(){<br />          System.out.println(â€œinitâ€¦â€)<br />     }<br /><br />     &#x2F;&#x2F; è¡¨ç¤ºbeané”€æ¯å‰å¯¹åº”çš„æ“ä½œ<br />     <strong>ã€<br />        éœ€è¦å…³é—­å®¹å™¨ï¼š<br />        â‘ æ‰‹å·¥å…³é—­å®¹å™¨ï¼šConfigurableApplicationContextæ¥å£close()æ“ä½œ<br />        â‘¡æ³¨å†Œå…³é—­é’©å­ï¼Œåœ¨è™šæ‹Ÿæœºé€€å‡ºå‰å…ˆå…³é—­å®¹å™¨å†é€€å‡ºè™šæ‹Ÿæœºï¼šConfigurableApplicationContextæ¥å£registerShutdownHook()æ“ä½œ<br />        ã€‘<br /></strong> <br />     public void destory{<br />          System.out.println(â€œdestoryâ€¦â€)<br />     }<br />}<br /><br /><br />&#x2F;&#x2F; éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®<br /><bean id="bookDao" class="com.itheima.dao,impl.BookDaoImpl" init-method="init" destory-method="destory" /><br /><br /><br />ã€ä¹Ÿå¯ä»¥ä½¿ç”¨æ¥å£æ§åˆ¶ç”Ÿå‘½å‘¨æœŸï¼ŒInitializingBeanï¼ŒDisposableBeanæ¥å£ã€‘</td></tr></tbody></table></li></ul><p><strong>3.ä¾èµ–æ³¨å…¥</strong></p><ul><li>setteræ³¨å…¥<property name="" ref="" /></li><li>æ„é€ å™¨æ³¨å…¥<constructor-arg name="" ref="" /></li><li>è‡ªåŠ¨è£…é…ï¼š<bean id="bookService" class="com.itheima.service,impl.BookServiceImpl" autowire="byType" /><ul><li>æ–¹å¼ï¼šæŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰ã€æŒ‰åç§°ã€æŒ‰æ„é€ æ–¹æ³•ã€ä¸å¯ç”¨è‡ªåŠ¨è£…é…</li></ul></li></ul><p><strong>4.é›†åˆæ³¨å…¥</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Expresså…¥é—¨</title>
    <link href="/2024/02/22/express%E5%85%A5%E9%97%A8/"/>
    <url>/2024/02/22/express%E5%85%A5%E9%97%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="expresså…¥é—¨"><a href="#expresså…¥é—¨" class="headerlink" title="expresså…¥é—¨"></a>expresså…¥é—¨</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>ä½œä¸ºå‰ç«¯å¼€å‘ï¼ŒNodejså·²ç»æˆäº†å¾ˆå¤šå…¬å¸å¯¹æˆ‘ä»¬è¿™ä¸€å²—ä½çš„ç¡¬æ€§è¦æ±‚ï¼Œè€Œ Express æ¡†æ¶åˆ™æ˜¯å…¶ä¸­çŸ¥ååº¦æœ€é«˜ã€ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„Nodejså¼€å‘æ¡†æ¶ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬å°è£…äº†Nodejsåº•å±‚çš„APIï¼Œå±è”½äº†å¤§é‡çš„ç¹ççš„ç»†èŠ‚ï¼Œè®©æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸šåŠ¡å¼€å‘å°±è¡Œäº†ï¼Œæå¤§çš„é™ä½äº†å­¦ä¹ çš„æˆæœ¬ã€‚ä»Šå¤©è¿™ä¸ªè¯¾ç¨‹å°±æ˜¯æ•™å¤§å®¶å»æŒæ¡å¦‚ä½•ä½¿ç”¨expresså»æ­å»ºä¸€ä¸ªç®€æ˜“çš„åç«¯æœåŠ¡ï¼Œæˆ‘ä»¬ä¸»è¦å›´ç»•ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>è·¯ç”±</li><li>ä¸­é—´ä»¶</li><li>é™æ€æ–‡ä»¶æœåŠ¡</li><li>æ¨¡æ¿å¼•æ“</li></ul><h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><ul><li><p>ç”µè„‘ - mac</p></li><li><p>Node - 16.14.2</p></li><li><p>Npm - 8.5.0</p></li><li><p>Express - 4.x</p></li></ul><h3 id="ç¬¬ä¸€ä¸ªdemo"><a href="#ç¬¬ä¸€ä¸ªdemo" class="headerlink" title="ç¬¬ä¸€ä¸ªdemo"></a>ç¬¬ä¸€ä¸ªdemo</h3><h5 id="ä½¿ç”¨Nodejså†…ç½®çš„httpæ¨¡å—æ­å»ºæœåŠ¡"><a href="#ä½¿ç”¨Nodejså†…ç½®çš„httpæ¨¡å—æ­å»ºæœåŠ¡" class="headerlink" title="ä½¿ç”¨Nodejså†…ç½®çš„httpæ¨¡å—æ­å»ºæœåŠ¡"></a>ä½¿ç”¨Nodejså†…ç½®çš„httpæ¨¡å—æ­å»ºæœåŠ¡</h5><p>ä¸ºäº†ä¾¿äºå¤§å®¶å»ç†è§£expresså¯¹nodejsåšäº†å“ªäº›å°è£…ï¼Œåœ¨ä½¿ç”¨expressä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ä½¿ç”¨nodejså†…ç½®çš„httpæ¨¡å—æ˜¯æ€ä¹ˆæ­å»ºnodeæœåŠ¡çš„ã€‚</p><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª<code>express-demo</code>çš„æ–‡ä»¶å¤¹å¹¶è¿›å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> express-demo &amp;&amp; <span class="hljs-built_in">cd</span> express-demo<br></code></pre></td></tr></table></figure><p>åˆ›å»º<code>server.js</code>ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>)<br><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span><br>  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Content-Type&#x27;</span>, <span class="hljs-string">&#x27;text/html&#x27;</span>)<br>  res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;hello world&#x27;</span>)<br>&#125;)<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æœåŠ¡å·²å¯åŠ¨...&#x27;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨æ§åˆ¶å°ä¸­è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">node server.js<br></code></pre></td></tr></table></figure><h5 id="ä½¿ç”¨expressæ­å»ºæœåŠ¡"><a href="#ä½¿ç”¨expressæ­å»ºæœåŠ¡" class="headerlink" title="ä½¿ç”¨expressæ­å»ºæœåŠ¡"></a>ä½¿ç”¨expressæ­å»ºæœåŠ¡</h5><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†ç”¨expressæ­å»ºæœåŠ¡ã€‚</p><p>åœ¨ <code>express-demo</code> æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œ <code>npm init</code> å‘½ä»¤ï¼Œç„¶åä¸€è·¯å›è½¦ï¼Œå°±ä¼šå¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>package.json</code> æ–‡ä»¶ï¼Œç„¶åå†æ‰§è¡Œ <code>npm install express </code>æ¥å®‰è£…expressæ¨¡å—ï¼Œç„¶åæ”¹å†™ <code>server.js</code> ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;hello world&#x27;</span>)<br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æœåŠ¡å·²å¯åŠ¨...&#x27;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="Requestå’ŒResponseå¯¹è±¡"><a href="#Requestå’ŒResponseå¯¹è±¡" class="headerlink" title="Requestå’ŒResponseå¯¹è±¡"></a>Requestå’ŒResponseå¯¹è±¡</h5><ul><li><p>Requestå¯¹è±¡æ˜¯è¯·æ±‚å¯¹è±¡ï¼Œå°±æ˜¯å›è°ƒå‡½æ•°ä¸­çš„<code>req</code>å‚æ•°ï¼Œä¸»è¦æ˜¯ç½‘ç»œè¯·æ±‚ä¸­å¸¦çš„ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚å‚æ•°, cookieç­‰ç­‰ã€‚ã€‚ã€‚</p></li><li><p>Responseå¯¹è±¡æ˜¯å“åº”å¯¹è±¡ï¼Œå°±æ˜¯å›è°ƒå‡½æ•°ä¸­çš„<code>res</code>å‚æ•°ï¼Œå¯ä»¥æ‰§è¡Œä¸€ç³»åˆ—çš„å“åº”æ“ä½œï¼Œæ¯”å¦‚ç»™å®¢æˆ·ç«¯å“åº”å†…å®¹å’ŒçŠ¶æ€ç­‰ç­‰ã€‚ã€‚ã€‚</p></li></ul><p>æŸ¥çœ‹Requestå’ŒResponseå¯¹è±¡çš„<a href="https://www.expressjs.com.cn/4x/api.html#req">æ‰€æœ‰API</a></p><h5 id="è·¯ç”±æœºåˆ¶"><a href="#è·¯ç”±æœºåˆ¶" class="headerlink" title="è·¯ç”±æœºåˆ¶"></a>è·¯ç”±æœºåˆ¶</h5><p>æ€è€ƒï¼šæˆ‘ä»¬åœ¨å‘åç«¯å‘è¯·æ±‚æ—¶é€šè¿‡ä»€ä¹ˆå»åŒºåˆ†æ¥å£çš„ï¼Ÿ</p><p>ç­”ï¼šè¯·æ±‚æ–¹å¼+æ¥å£url</p><p>æˆ‘ä»¬åœ¨expressä¸­ï¼Œå®šä¹‰è·¯ç”±çš„æ–¹å¼æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">METHOD</span>(<span class="hljs-variable constant_">URL</span>, <span class="hljs-variable constant_">CALLBACK</span>)<br></code></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼å°±å¯ä»¥é€šè¿‡è¯·æ±‚æ–¹å¼å’ŒURLæ¥å¸®æˆ‘ä»¬åŒºåˆ†ä¸åŒçš„è¯·æ±‚ï¼Œä»è€Œå»æ‰§è¡Œä¸åŒçš„å“åº”ã€‚</p><h5 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h5><p>nodemonèƒ½å¤Ÿæ£€æµ‹å·¥ä½œåŒºä»£ç çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨é‡å¯ã€‚</p><p>æ‰§è¡Œ <code>npm install nodemon --save-dev</code> å®‰è£…nodemonï¼Œç„¶åä¿®æ”¹package.jsonæ–‡ä»¶ä¸­çš„startå‘½ä»¤ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;express-demo&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0.0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;main&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;server.js&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;test&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;start&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;nodemon server.js&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;license&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ISC&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;dependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;express&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^4.18.2&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;devDependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;nodemon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.20&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>å†æ‰§è¡Œ<code>npm start</code>å¯åŠ¨æœåŠ¡ï¼Œä¹‹åæˆ‘ä»¬å†ä¿®æ”¹ä»£ç å°±ä¸éœ€è¦æ‰‹åŠ¨çš„é‡å¯æœåŠ¡äº†ã€‚</p><h3 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h3><h4 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h4><p>åœ¨æµè§ˆå™¨ä¸­æˆ‘ä»¬æƒ³è¦è®¿é—®ç™¾åº¦ï¼Œåªéœ€è¦çŸ¥é“ç™¾åº¦çš„åœ°å€å°±è¡Œäº†ï¼Œè·¯ç”±ä¹Ÿæ˜¯ç±»ä¼¼çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æƒ³è¦çŸ¥é“å®¢æˆ·ç«¯è°ƒç”¨çš„æ˜¯å“ªä¸ªæ¥å£ï¼Œå°±æ˜¯é€šè¿‡è·¯ç”±æ¥åˆ¤æ–­çš„ã€‚</p><h5 id="è·¯ç”±æ–¹æ³•"><a href="#è·¯ç”±æ–¹æ³•" class="headerlink" title="è·¯ç”±æ–¹æ³•"></a>è·¯ç”±æ–¹æ³•</h5><p>Express æ”¯æŒå¯¹åº”äº HTTP æ–¹æ³•çš„ä»¥ä¸‹è·¯ç”±æ–¹æ³•ï¼š<code>get</code>ã€<code>post</code>ã€<code>put</code>ã€<code>delete</code>ç­‰ç­‰ã€‚ä½¿ç”¨æ–¹æ³•ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">METHOD</span>(<span class="hljs-variable constant_">URL</span>, <span class="hljs-variable constant_">CALLBACK</span>)<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;hello world&#x27;</span>)<br>&#125;)<br><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/about&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">send</span>(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure><p>æœ‰ä¸€ç§ç‰¹æ®Šè·¯ç”±æ–¹æ³•ï¼š<code>app.all()</code>ï¼Œè¯¥æ–¹æ³•ç”¨äºåœ¨æ‰€æœ‰è¯·æ±‚æ–¹æ³•çš„è·¯å¾„ä¸­è£…å…¥ä¸­é—´ä»¶å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">all</span>(<span class="hljs-string">&#x27;/about&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">send</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;jackie&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">18</span><br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªç¤ºä¾‹ä¸­ä¸ç®¡æ˜¯<code>get</code>, <code>post</code>æ–¹å¼å»è¯·æ±‚<code>/about</code>è·¯å¾„çš„æ¥å£ï¼Œéƒ½ä¼šç»è¿‡è¿™ä¸ªå›è°ƒå‡½æ•°ç„¶åè¿”å›å¯¹åº”çš„æ•°æ®ã€‚</p><h5 id="è·¯ç”±è·¯å¾„"><a href="#è·¯ç”±è·¯å¾„" class="headerlink" title="è·¯ç”±è·¯å¾„"></a>è·¯ç”±è·¯å¾„</h5><p>è·¯ç”±è·¯å¾„å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ¨¡å¼æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚å­—ç¬¦ä¸²ç±»å‹çš„å°±æ˜¯æˆ‘ä»¬ä¹‹å‰ä¸¾çš„é‚£äº›ä¾‹å­ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹å­—ç¬¦ä¸²æ¨¡å¼å’Œæ­£åˆ™è¡¨è¾¾å¼è¿™ä¸¤ç§ã€‚</p><p>ä»¥ä¸‹æ˜¯åŸºäºå­—ç¬¦ä¸²æ¨¡å¼çš„è·¯ç”±è·¯å¾„çš„ä¸€äº›ç¤ºä¾‹ã€‚</p><p>æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… <code>acd</code> å’Œ <code>abcd</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/ab?cd&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;ab?cd&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… <code>abcd</code>ã€<code>abbcd</code>ã€<code>abbbcd</code> ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/ab+cd&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;ab+cd&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… <code>abcd</code>ã€<code>abxcd</code>ã€<code>abRABDOMcd</code>ã€<code>ab123cd</code> ç­‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/ab*cd&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;ab*cd&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„è·¯ç”±è·¯å¾„çš„ç¤ºä¾‹ï¼š</p><p>æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é…åç§°ä¸­å…·æœ‰â€œaâ€çš„æ‰€æœ‰è·¯ç”±ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">get</span>(<span class="hljs-regexp">/a/</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;/a/&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… <code>butterfly</code> å’Œ <code>dragonfly</code>ï¼Œä½†æ˜¯ä¸åŒ¹é… <code>butterflyman</code>ã€<code>dragonfly man</code> ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">get</span>(<span class="hljs-regexp">/.*fly$/</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;/.*fly$/&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h5 id="è·¯ç”±æ‹†åˆ†"><a href="#è·¯ç”±æ‹†åˆ†" class="headerlink" title="è·¯ç”±æ‹†åˆ†"></a>è·¯ç”±æ‹†åˆ†</h5><p>å½“æˆ‘ä»¬çš„è·¯ç”±è¶Šæ¥è¶Šå¤æ‚ï¼Œæ¯”å¦‚æœ‰ç”¨æˆ·ç›¸å…³çš„è·¯å¾„ï¼Œæœ‰ç³»ç»Ÿç›¸å…³çš„è·¯å¾„ï¼Œä¸ç»Ÿä¸€ç®¡ç†çš„è¯ä¼šæ˜¾å¾—ç‰¹åˆ«ä¹±ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯¹è·¯ç”±è¿›è¡Œæ‹†åˆ†æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><ul><li><p>æ‹†åˆ†å‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/user/list&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>)&#123;<br>res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;/list&#x27;</span>);<br>&#125;);<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/user/detail&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>)&#123;<br>res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;/detail&#x27;</span>);<br>&#125;);<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);<br></code></pre></td></tr></table></figure></li><li><p>æ‹†åˆ†å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();<br><br><span class="hljs-keyword">const</span> user = express.<span class="hljs-title class_">Router</span>();<br><br>user.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/list&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>)&#123;<br>res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;/list&#x27;</span>);<br>&#125;);<br><br>user.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/detail&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>)&#123;<br>res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;/detail&#x27;</span>);<br>&#125;);<br><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;/user&#x27;</span>, user); <span class="hljs-comment">// æ³¨å†Œuserå­è·¯ç”±</span><br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);<br></code></pre></td></tr></table></figure></li></ul><h4 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h4><p>ä¸€èˆ¬å­¦ä¹ jsçš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šå¬åˆ°ä¸€å¥è¯ï¼šä¸€åˆ‡çš†å‡½æ•°ã€‚è€Œåœ¨å­¦ä¹ expressçš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆæ·±çš„ä¸€ä¸ªæ„Ÿå—å°±æ˜¯ï¼šä¸€åˆ‡çš†ä¸­é—´ä»¶ã€‚æ¯”å¦‚å¸¸è§çš„è¯·æ±‚å‚æ•°è§£æã€cookieè§£æã€æ—¥å¿—æ‰“å°ç­‰ï¼Œéƒ½å¯ä»¥é€šè¿‡ä¸­é—´ä»¶æ¥å®Œæˆã€‚</p><p>åœ¨ Express ä¸­ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">someMiddleware</span>(<span class="hljs-params">req, res, next</span>) &#123;<br>  <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘</span><br>  <span class="hljs-title function_">next</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸‰ä¸ªå‚æ•°ä¸­ï¼Œ<code>req</code> å’Œ <code>res</code> å°±æ˜¯å‰é¢æåˆ°çš„ Request è¯·æ±‚å¯¹è±¡å’Œ Response å“åº”å¯¹è±¡ï¼›è€Œ <code>next</code> å‡½æ•°åˆ™ç”¨æ¥è§¦å‘ä¸‹ä¸€ä¸ªä¸­é—´ä»¶çš„æ‰§è¡Œã€‚</p><p>åœ¨ Express ä½¿ç”¨ä¸­é—´ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>å…¨å±€ä¸­é—´ä»¶</strong>å’Œ<strong>è·¯ç”±ä¸­é—´ä»¶</strong>ã€‚</p><h5 id="å…¨å±€ä¸­é—´ä»¶"><a href="#å…¨å±€ä¸­é—´ä»¶" class="headerlink" title="å…¨å±€ä¸­é—´ä»¶"></a>å…¨å±€ä¸­é—´ä»¶</h5><p>é€šè¿‡ <code>app.use</code> å‡½æ•°å°±å¯ä»¥æ³¨å†Œä¸­é—´ä»¶ï¼Œå¹¶ä¸”æ­¤ä¸­é—´ä»¶ä¼šåœ¨ç”¨æˆ·å‘èµ·<strong>ä»»ä½•è¯·æ±‚</strong>éƒ½å¯èƒ½ä¼šæ‰§è¡Œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">use</span>(someMiddleware)<br></code></pre></td></tr></table></figure><h5 id="è·¯ç”±ä¸­é—´ä»¶"><a href="#è·¯ç”±ä¸­é—´ä»¶" class="headerlink" title="è·¯ç”±ä¸­é—´ä»¶"></a>è·¯ç”±ä¸­é—´ä»¶</h5><p>é€šè¿‡åœ¨è·¯ç”±å®šä¹‰æ—¶æ³¨å†Œä¸­é—´ä»¶ï¼Œæ­¤ä¸­é—´ä»¶åªä¼šåœ¨ç”¨æˆ·è®¿é—®è¯¥è·¯ç”±æ—¶æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/middleware&#x27;</span>, someMiddleware, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;Hello World&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h5 id="ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶"><a href="#ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶" class="headerlink" title="ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶"></a>ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶</h5><ol><li>æ–°å»ºä¸€ä¸ªlogger.jsï¼Œå¹¶å†™å…¥ä»¥ä¸‹å‡½æ•°</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">logger</span>(<span class="hljs-params">req, res, next</span>) &#123;<br>  <span class="hljs-keyword">const</span> time = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">$&#123;time.toLocaleString()&#125;</span>] <span class="hljs-subst">$&#123;req.method&#125;</span> <span class="hljs-subst">$&#123;req.url&#125;</span>`</span>);<br>  <span class="hljs-title function_">next</span>();<br>&#125;<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;<br></code></pre></td></tr></table></figure><ol start="2"><li>åœ¨server.jså¼•å…¥loggerå‡½æ•°å¹¶ä¸”å…¨å±€æ³¨å†Œ</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> logger = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./logger&#x27;</span>)<br>...<br>...<br>app.<span class="hljs-title function_">use</span>(logger)<br>...<br>...<br></code></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬åœ¨è®¿é—®è·¯ç”±åï¼Œæ¯æ¬¡éƒ½ä¼šåœ¨æ§åˆ¶å°æ‰“å°ä¸€è¡Œæ—¥å¿—ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-string">[2023/2/27 15:54:29]</span> GET /<br><span class="hljs-string">[2023/2/27 15:54:47]</span> POST /about<br></code></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœå¿˜è®°åœ¨ä¸­é—´ä»¶ä¸­è°ƒç”¨ <code>next</code> å‡½æ•°ï¼Œå¹¶ä¸”åˆä¸ç›´æ¥è¿”å›å“åº”æ—¶ï¼ŒæœåŠ¡å™¨ä¼šç›´æ¥å¡åœ¨è¿™ä¸ªä¸­é—´ä»¶ä¸ä¼šç»§ç»­æ‰§è¡Œä¸‹å»å“¦ï¼</p></blockquote><h4 id="æ¨¡ç‰ˆå¼•æ“"><a href="#æ¨¡ç‰ˆå¼•æ“" class="headerlink" title="æ¨¡ç‰ˆå¼•æ“"></a>æ¨¡ç‰ˆå¼•æ“</h4><p>æ¨¡ç‰ˆå¼•æ“å¯ä»¥ç®€å•çš„ç†è§£ä¸ºå‡çº§ç‰ˆçš„<code>html</code>æ–‡æ¡£ï¼Œexpresså¯ä»¥ç”¨æ¨¡ç‰ˆå¼•æ“æ¥æ¸²æŸ“å‰ç«¯é¡µé¢ï¼Œæ¨¡ç‰ˆå¼•æ“æœ‰å¾ˆå¤šç§ï¼ŒåŒ…æ‹¬<code>jade</code>, <code>ejs</code>, <code>nunjunks</code>, <code>Handlebars</code>ç­‰ç­‰ï¼Œexpresså¯¹æ¯ä¸€ç§éƒ½æä¾›äº†å¾ˆå¥½çš„æ”¯æŒï¼Œåªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥ä½¿ç”¨ã€‚æˆ‘ä»¬ä»Šå¤©æ¥å­¦ä¹ ä¸‹<code>Handlebars</code>ã€‚</p><p>é¦–å…ˆï¼Œç¬¬ä¸€æ­¥æ˜¯å®‰è£…å¯¹åº”çš„æ¨¡ç‰ˆå¼•æ“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hbs<br></code></pre></td></tr></table></figure><p>ç„¶ååˆ›å»ºviewsæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”æ–°å»ºä¸€ä¸ªindex.hbsçš„æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>expresså…¥é—¨è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½œä¸ºå‰ç«¯å¼€å‘ï¼ŒNodejså·²ç»æˆäº†å¾ˆå¤šå…¬å¸å¯¹æˆ‘ä»¬è¿™ä¸€å²—ä½çš„ç¡¬æ€§è¦æ±‚ï¼Œè€Œ Express æ¡†æ¶åˆ™æ˜¯å…¶ä¸­çŸ¥ååº¦æœ€é«˜ã€ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„Nodejså¼€å‘æ¡†æ¶ã€‚ã€‚ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç„¶åå†æ·»åŠ ä¸€ä¸ªabout.hbsçš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>é»‘é©¬å‰ç«¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­¦å‰ç«¯ï¼Œæ¥é»‘é©¬<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æœ€åä¾¿æ˜¯åœ¨ server.js ä¸­é…ç½®å’Œä½¿ç”¨æ¨¡æ¿ã€‚é…ç½®æ¨¡æ¿çš„ä»£ç éå¸¸ç®€å•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æŒ‡å®šæ¨¡æ¿å­˜æ”¾ç›®å½•</span><br>app.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;views&#x27;</span>, <span class="hljs-string">&#x27;views&#x27;</span>);<br><br><span class="hljs-comment">// æŒ‡å®šæ¨¡æ¿å¼•æ“ä¸º Handlebars</span><br>app.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;view engine&#x27;</span>, <span class="hljs-string">&#x27;hbs&#x27;</span>);<br></code></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨æ¨¡æ¿æ—¶ï¼Œåªéœ€åœ¨è·¯ç”±å›è°ƒå‡½æ•°ä¸­è°ƒç”¨ <code>res.render</code> æ–¹æ³•å³å¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ...</span><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();<br><br>app.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;views&#x27;</span>, <span class="hljs-string">&#x27;views&#x27;</span>);<br>app.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;view engine&#x27;</span>, <span class="hljs-string">&#x27;hbs&#x27;</span>);<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// æ¸²æŸ“index.hbsæ¨¡ç‰ˆ</span><br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>);<br>&#125;);<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/about&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// æ¸²æŸ“about.hbsæ¨¡ç‰ˆ</span><br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;about&#x27;</span>);<br>&#125;)<br><br><span class="hljs-comment">// ...</span><br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è®¿é—®<code>localhost:3000</code>æ—¶å°±ä¼šåŠ è½½å¯¹åº”çš„index.hbsè¿™ä¸ªæ¨¡ç‰ˆï¼Œå½“æˆ‘ä»¬è®¿é—®<code>localhost:3000/about</code>æ—¶å°±ä¼šåŠ è½½å¯¹åº”çš„about.hbsè¿™ä¸ªæ¨¡ç‰ˆ</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ç»™æ¨¡ç‰ˆå¼•æ“ä¸­ä¼ ä¸€äº›åŠ¨æ€å‚æ•°ï¼Œè¿™æ ·å°±ä¼šæ¸²æŸ“å‡ºæ¥ä¸åŒçš„å†…å®¹ï¼Œå°†about.hbsæ”¹æˆå¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>é»‘é©¬å‰ç«¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­¦å‰ç«¯ï¼Œæ¥é»‘é©¬<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®²å¸ˆï¼š&#123;&#123; name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨æ¸²æŸ“è¯¥æ¨¡ç‰ˆæ—¶åŠ ä¸Šç¬¬äºŒä¸ªå‚æ•°:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/about&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// æ¸²æŸ“about.hbsæ¨¡ç‰ˆ</span><br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;about&#x27;</span>, &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;jackie&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;);<br>&#125;)<br></code></pre></td></tr></table></figure><p>è¿™æ ·å½“æ¸²æŸ“å‡ºæ¥çš„æ—¶å€™å°±ä¼šæ ¹æ®æˆ‘ä»¬ä¼ è¿›å»çš„å‚æ•°åŠ¨æ€æ¸²æŸ“å‰ç«¯é¡µé¢äº†</p><h4 id="é™æ€æ–‡ä»¶æœåŠ¡"><a href="#é™æ€æ–‡ä»¶æœåŠ¡" class="headerlink" title="é™æ€æ–‡ä»¶æœåŠ¡"></a>é™æ€æ–‡ä»¶æœåŠ¡</h4><p>å®¢æˆ·ç«¯ä¸€èˆ¬éœ€è¦è®¿é—®ä¸€äº›å›¾ç‰‡è§†é¢‘ç­‰é™æ€èµ„æºæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™äº›æ–‡ä»¶å¦‚ä½•å‘é€ç»™å®¢æˆ·ç«¯å‘¢ï¼Œå°±éœ€è¦ç”¨åˆ°é™æ€æ–‡ä»¶æœåŠ¡äº†ï¼Œè€Œ Express å·²ç»è‡ªå¸¦äº†é™æ€æ–‡ä»¶æœåŠ¡ä¸­é—´ä»¶ <code>express.static</code>ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„é™æ€èµ„æºåœ¨publicä¸‹é¢ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus">public<br>â”œâ”€â”€ css<br>â”‚   â””â”€â”€ style<span class="hljs-selector-class">.css</span><br>â””â”€â”€ <span class="hljs-selector-tag">img</span><br>    â””â”€â”€ logo.png<br></code></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åªéœ€è¦åœ¨server.jsä¸­æ·»åŠ ä¸€è¡Œä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">static</span>(<span class="hljs-string">&#x27;public&#x27;</span>));<br></code></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„è·¯å¾„è®¿é—®åˆ°è¿™äº›èµ„æºäº†ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">3000</span><span class="hljs-regexp">/css/</span>style.css<br>http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">3000</span><span class="hljs-regexp">/img/</span>logo.png<br></code></pre></td></tr></table></figure><p>åœ¨æ¨¡æ¿å¼•æ“ä¸­æ”¾å…¥è¿™äº›èµ„æºçš„å¼•å…¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¨¡æ¿ä¸­ä½¿ç”¨äº†ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/css/style.css&quot;</span> /&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>expresså…¥é—¨è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½œä¸ºå‰ç«¯å¼€å‘ï¼ŒNodejså·²ç»æˆäº†å¾ˆå¤šå…¬å¸å¯¹æˆ‘ä»¬è¿™ä¸€å²—ä½çš„ç¡¬æ€§è¦æ±‚ï¼Œè€Œ Express æ¡†æ¶åˆ™æ˜¯å…¶ä¸­çŸ¥ååº¦æœ€é«˜ã€ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„Nodejså¼€å‘æ¡†æ¶ã€‚ã€‚ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å†æ¬¡è¿è¡ŒæœåŠ¡å™¨ï¼Œå¹¶è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™æ—¶ï¼Œå°±å‘ç°æ ·å¼åŠ åˆ°äº†æˆ‘ä»¬çš„å‰ç«¯é¡µé¢ä¸Šäº†ã€‚</p><h4 id="å¤„ç†404å’ŒæœåŠ¡å™¨é”™è¯¯"><a href="#å¤„ç†404å’ŒæœåŠ¡å™¨é”™è¯¯" class="headerlink" title="å¤„ç†404å’ŒæœåŠ¡å™¨é”™è¯¯"></a>å¤„ç†404å’ŒæœåŠ¡å™¨é”™è¯¯</h4><p>æˆ‘ä»¬åœ¨è®¿é—®ä¸€äº›è·¯ç”±æ—¶æœ‰å¯èƒ½è¿™ä¸ªè·¯ç”±æ²¡æœ‰å®šä¹‰ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šè¿”å›404çš„çŠ¶æ€ç ï¼Œæˆ–è€…æœ‰æ—¶å€™æœåŠ¡å™¨å†…éƒ¨ä»£ç å‡ºé”™äº†ï¼Œå°±ä¼šè¿”å›500çš„é”™è¯¯ç ï¼Œè¿™äº›æƒ…å†µæ˜¯åœ¨å¼€å‘ä¸­ç»å¸¸ç¢°åˆ°çš„ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯åº”è¯¥å¦‚ä½•å¤„ç†è¿™äº›å¼‚å¸¸çš„æƒ…å†µå‘¢ï¼Ÿ</p><ul><li><p>å¯¹äº 404ï¼Œåªéœ€åœ¨æ‰€æœ‰è·¯ç”±ä¹‹åå†åŠ ä¸€ä¸ªä¸­é—´ä»¶ï¼Œç”¨æ¥æ¥æ”¶æ‰€æœ‰è·¯ç”±å‡åŒ¹é…å¤±è´¥çš„è¯·æ±‚</p></li><li><p>å¯¹äºé”™è¯¯å¤„ç†ï¼Œå‰é¢æ‰€æœ‰ä¸­é—´ä»¶æŠ›å‡ºå¼‚å¸¸æ—¶éƒ½ä¼šè¿›å…¥é”™è¯¯å¤„ç†å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ Express è‡ªå¸¦çš„ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚</p></li></ul><h5 id="å¤„ç†404"><a href="#å¤„ç†404" class="headerlink" title="å¤„ç†404"></a>å¤„ç†404</h5><p>åªéœ€åœ¨server.jsä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>).<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;404&#x27;</span>, &#123; <span class="hljs-attr">url</span>: req.<span class="hljs-property">originalUrl</span> &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨viewsä¸‹é¢æ–°å»ºä¸€ä¸ª404.hbsçš„æ¨¡ç‰ˆæ–‡ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ‰¾ä¸åˆ°ä½ è¦çš„é¡µé¢äº†ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½ æ‰€è®¿é—®çš„è·¯å¾„ &#123;&#123; url &#125;&#125; ä¸å­˜åœ¨<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>*</code> è¡¨ç¤ºåŒ¹é…ä»»ä½•è·¯å¾„ã€‚å°†æ­¤ä¸­é—´ä»¶æ”¾åœ¨æ‰€æœ‰è·¯ç”±åé¢ï¼Œå³å¯æ•è·æ‰€æœ‰è®¿é—®è·¯å¾„å‡åŒ¹é…å¤±è´¥çš„è¯·æ±‚ï¼Œç„¶åæ¸²æŸ“404çš„é‚£ä¸ªæ¨¡ç‰ˆå¼•æ“å°±å¯ä»¥äº†ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šä¸€å®šæ˜¯æ”¾åœ¨æ‰€æœ‰è·¯ç”±çš„åé¢ï¼Œåªæœ‰å‰é¢çš„è·¯ç”±éƒ½åŒ¹é…ä¸ä¸Šæ‰ä¼šåŒ¹é…åˆ°<code>*</code>çš„è¿™ä¸ªè·¯ç”±</p><h5 id="å¤„ç†å†…éƒ¨é”™è¯¯"><a href="#å¤„ç†å†…éƒ¨é”™è¯¯" class="headerlink" title="å¤„ç†å†…éƒ¨é”™è¯¯"></a>å¤„ç†å†…éƒ¨é”™è¯¯</h5><p>åœ¨server.jsä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">err, req, res, next</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;500&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨viewsä¸‹é¢æ–°å»ºä¸€ä¸ª500.hbsçš„æ¨¡ç‰ˆæ–‡ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æœåŠ¡å™¨å¥½åƒå¼€å°å·®äº†<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿‡ä¸€ä¼šå„¿å†è¯•è¯•çœ‹å§ï¼See your later~<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šåœ¨server.jsä¸­æ·»åŠ çš„ä»£ç ä¹Ÿå¿…é¡»è¦æ·»åŠ åˆ°æ‰€æœ‰è·¯ç”±çš„åé¢ï¼Œä¸ç„¶ä¸èƒ½å¤„ç†å…¨éƒ¨çš„é”™è¯¯</p><p>æˆ‘ä»¬åœ¨æŸä¸ªè·¯ç”±ä¸­æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯åï¼Œå®¢æˆ·ç«¯å°±ä¼šæ¸²æŸ“500.hbsè¿™ä¸ªæ¨¡ç‰ˆæ–‡ä»¶ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è‡³æ­¤expressåŸºç¡€å†…å®¹å°±è®²è§£å®Œäº†ï¼Œè¿™äº›éƒ½æ˜¯expressçš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œåç»­è¿˜ä¼šæœ‰expressçš„è¿›é˜¶è¯¾ç¨‹ï¼Œåˆ°æ—¶å€™ä¼šæ¶‰åŠåˆ°ç”¨expressæ“ä½œæ•°æ®åº“å’Œå®æˆ˜çš„å†…å®¹ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥å…³æ³¨æˆ‘ä»¬çš„bç«™åŠ¨æ€ï¼ŒåŠæ—¶è·Ÿè¿›è¯¾ç¨‹ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>å¯’å‡å­¦ä¹ </title>
    <link href="/2024/01/12/%E5%AF%92%E5%81%87%E5%AD%A6%E4%B9%A0/"/>
    <url>/2024/01/12/%E5%AF%92%E5%81%87%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€å‘¨"><a href="#ç¬¬ä¸€å‘¨" class="headerlink" title="ç¬¬ä¸€å‘¨"></a>ç¬¬ä¸€å‘¨</h1><h2 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h2><h3 id="ä¼ å‚"><a href="#ä¼ å‚" class="headerlink" title="ä¼ å‚"></a>ä¼ å‚</h3><ol><li>æŸ¥è¯¢å‚æ•°ä¼ å‚ï¼ˆæ›´é€‚åˆå¤šä¸ªå‚æ•°ï¼‰ï¼š?å‚æ•°&#x3D;å‚æ•°å€¼ &#x3D;&gt; this.$route.query.å‚æ•°å</li><li>åŠ¨æ€è·¯ç”±ä¼ å‚ï¼ˆæ›´é€‚åˆå•ä¸ªå‚æ•°ï¼‰ï¼š&#x2F;è·¯å¾„&#x2F;å‚æ•° &#x3D;&gt; this.$route.params.å‚æ•°å</li></ol><h3 id="ç»„ä»¶ç¼“å­˜keep-alive"><a href="#ç»„ä»¶ç¼“å­˜keep-alive" class="headerlink" title="ç»„ä»¶ç¼“å­˜keep-alive"></a>ç»„ä»¶ç¼“å­˜keep-alive</h3><p>å°†ç¼“å­˜æ‰€æœ‰åˆ‡æ¢çš„ç»„ä»¶</p><p>ä¸‰ä¸ªå±æ€§ï¼šincludeâ€”â€”<strong>ç»„ä»¶å</strong>æ•°ç»„ï¼Œåªæœ‰åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜</p><p>â€‹ excludeâ€”â€”<strong>ç»„ä»¶å</strong>æ•°ç»„ï¼Œä»»ä½•åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜</p><p>â€‹ maxâ€”â€”æœ€å¤šå¯ä»¥ç¼“å­˜å¤šå°‘ç»„ä»¶å®ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;<br>        &lt;keep-alive :include=&quot;[&#x27;LayoutPage&#x27;]&quot;&gt;<br>        &lt;router-view&gt;&lt;/router-view&gt;<br>        &lt;/keep-alive&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>ç»„ä»¶ç¼“å­˜äº†ä¹‹åå°±ä¸ä¼šå†æ‰§è¡Œcreatedã€mountedã€destroyedç­‰é’©å­</p><p>æä¾›äº†ä¸¤ä¸ªå£°æ˜å‘¨æœŸå‡½æ•°ï¼šactivated(){} deactivated(){}</p><h3 id="åˆ©ç”¨VueXåˆ›å»ºä»“åº“"><a href="#åˆ©ç”¨VueXåˆ›å»ºä»“åº“" class="headerlink" title="åˆ©ç”¨VueXåˆ›å»ºä»“åº“"></a>åˆ©ç”¨VueXåˆ›å»ºä»“åº“</h3><p><img src="https://eastynoss.oss-cn-chengdu.aliyuncs.com/202401301833577.png" alt="image-20240112213135637"></p><p>åˆ©ç”¨mutationsä¿®æ”¹æ•°æ®ï¼Œthis.$store.comit(â€˜æ–¹æ³•åâ€™)</p><p>mapStateæ˜ å°„åˆ°è®¡ç®—å±æ€§mapMutationsæ˜ å°„åˆ°æ–¹æ³•</p><p>mapActonsæ˜ å°„åˆ°æ–¹æ³• mapGettersæ˜ å°„åˆ°è®¡ç®—å±æ€§</p><h3 id="actions"><a href="#actions" class="headerlink" title="actions"></a>actions</h3><p>å¤„ç†å¼‚æ­¥ï¼ŒsetTimeoutæ¨¡æ‹Ÿå‘è¯·æ±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">actions:&#123;<br>setAsynCount(context,num)&#123;<br>setTimeout(()=&gt;&#123;<br>context.comit(&#x27;changeCount&#x27;,num)<br>&#125;,1000)<br>&#125;<br>&#125;<br><br>this.$store.dispatch(&#x27;setAsyncCount&#x27;,200)<br></code></pre></td></tr></table></figure><h3 id="modulesæ¨¡å—"><a href="#modulesæ¨¡å—" class="headerlink" title="modulesæ¨¡å—"></a>modulesæ¨¡å—</h3><p>æ‹†åˆ†å­ä»“ï¼Œä¾¿äºç»´æŠ¤</p><p>åœ¨å­æ¨¡å—ä¸­å†™namespaced: trueå¯ä»¥ç›´æ¥åˆ©ç”¨mapStateæ˜ å°„å…¶ä¸­çš„å†…å®¹ </p><p>$store.getters[â€˜æ¨¡å—å&#x2F;xxxâ€™] </p><h3 id="è¯·æ±‚æ‹¦æˆªå™¨"><a href="#è¯·æ±‚æ‹¦æˆªå™¨" class="headerlink" title="è¯·æ±‚æ‹¦æˆªå™¨"></a>è¯·æ±‚æ‹¦æˆªå™¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">/* å°è£…axiosç”¨äºå‘é€è¯·æ±‚ */<br>import axios from &#x27;axios&#x27;<br>import &#123; Toast &#125; from &#x27;vant&#x27;<br><br>// åˆ›å»ºä¸€ä¸ªæ–°çš„axioså®ä¾‹<br>const request = axios.create(&#123;<br>  baseURL: &#x27;http://cba.itlike.com/public/index.php?s=/api/&#x27;,<br>  timeout: 5000<br>&#125;)<br><br>// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨<br>request.interceptors.request.use(function (config) &#123;<br>  // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ<br>  return config<br>&#125;, function (error) &#123;<br>  // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ<br>  return Promise.reject(error)<br>&#125;)<br><br>// æ·»åŠ å“åº”æ‹¦æˆªå™¨<br>request.interceptors.response.use(function (response) &#123;<br>  // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ<br>  const res = response.data<br>  console.log(res)<br>  if (res.status !== 200) &#123;<br>    // ç»™æç¤º<br>    Toast(res.message)<br>    // æŠ›é”™è¯¯promise<br>    return Promise.reject(res.message)<br>  &#125;<br>  return res<br>&#125;, function (error) &#123;<br>  // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ<br>  return Promise.reject(error)<br>&#125;)<br><br>export default request<br></code></pre></td></tr></table></figure><h3 id="storageå­˜å‚¨æ¨¡å—"><a href="#storageå­˜å‚¨æ¨¡å—" class="headerlink" title="storageå­˜å‚¨æ¨¡å—"></a>storageå­˜å‚¨æ¨¡å—</h3><p>é˜²æ­¢vuexåˆ·æ–°ä¸¢å¤±ï¼ŒåŒæ—¶é¿å…æ¯æ¬¡å­˜å–æ“ä½œå¤ªé•¿å¤ªéº»çƒ¦çš„é—®é¢˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">// çº¦å®šä¸€ä¸ªé€šç”¨çš„é”®å<br>const INFO_KEY = &#x27;hm_shopping_info&#x27;<br><br>// è·å–ä¸ªäººä¿¡æ¯<br>export const getInfo = () =&gt; &#123;<br>  const defaultObj = &#123; token: &#x27;&#x27;, userId: &#x27;&#x27; &#125;<br>  const result = localStorage.getItem(INFO_KEY)<br>  return result ? JSON.parse(result) : defaultObj<br>&#125;<br><br>// è®¾ç½®ä¸ªäººä¿¡æ¯<br>export const setInfo = (obj) =&gt; &#123;<br>  localStorage.setItem(INFO_KEY, JSON.stringify(obj))<br>&#125;<br><br>// ç§»é™¤ä¸ªäººä¿¡æ¯<br>export const removeInfo = () =&gt; &#123;<br>  localStorage.removeItem(INFO_KEY)<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç™»å½•èŠ‚æµæ“ä½œ"><a href="#ç™»å½•èŠ‚æµæ“ä½œ" class="headerlink" title="ç™»å½•èŠ‚æµæ“ä½œ"></a>ç™»å½•èŠ‚æµæ“ä½œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">// å¼€å¯loadingï¼Œç¦æ­¢èƒŒæ™¯ç‚¹å‡»ï¼ˆèŠ‚æµå¤„ç†ï¼Œé˜²æ­¢å¤šæ¬¡æ— æ•ˆè§¦å‘ï¼‰<br>Toast.loading(&#123;<br>  message: &#x27;åŠ è½½ä¸­...&#x27;,<br>  forbidClick: true, // ç¦æ­¢èƒŒæ™¯ç‚¹å‡»<br>  loadingType: &#x27;spinner&#x27;, // é…ç½®å›¾æ ‡<br>  duration: 0 // ä¸ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œå“åº”æ‹¦æˆªå™¨å›æ¥ä¹‹åå…³é—­<br>&#125;)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">if (res.status !== 200) &#123;<br>  // ç»™æç¤º<br>  Toast(res.message)<br>  // æŠ›é”™è¯¯promise<br>  return Promise.reject(res.message)<br>&#125; else &#123;<br>  // æ­£ç¡®æ¸…é™¤loadingæ•ˆæœ<br>  Toast.clear()<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é¡µé¢è®¿é—®æ‹¦æˆª"><a href="#é¡µé¢è®¿é—®æ‹¦æˆª" class="headerlink" title="é¡µé¢è®¿é—®æ‹¦æˆª"></a>é¡µé¢è®¿é—®æ‹¦æˆª</h3><p>è®¾ç½®å…¨å±€å‰ç½®è·¯ç”±</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">router.beforeEach(to,from,next)=&gt;&#123;<br>// to å¾€å“ªé‡Œå»;from ä»å“ªé‡Œæ¥;next()æ˜¯å¦æ”¾è¡Œ,å¦‚æœnext()è°ƒç”¨åˆ™æ”¾è¡Œ,next(è·¯å¾„)æ‹¦æˆªåˆ°æŸä¸ªè·¯å¾„é¡µé¢<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æœ¬å‘¨æ€»ç»“"><a href="#æœ¬å‘¨æ€»ç»“" class="headerlink" title="æœ¬å‘¨æ€»ç»“"></a>æœ¬å‘¨æ€»ç»“</h1><p>ä¸€ç›´åœ¨è·Ÿç€ç”¨vue2å®ç°å®Œæ•´çš„å•†åŸé¡¹ç›®ï¼Œå¦å¤–ç©ºä½™æ—¶é—´é€æ­¥åœ¨è¿‡æ¸¡vue3çš„åŸºç¡€çŸ¥è¯†ï¼Œæœ€è¿‘å‡ å¤©åœ¨æä¸‰åˆ›èµ›éœ€è¦ç”¨åˆ°çš„ç½‘é¡µè®¾è®¡</p><h1 id="ç¬¬äºŒå‘¨"><a href="#ç¬¬äºŒå‘¨" class="headerlink" title="ç¬¬äºŒå‘¨"></a>ç¬¬äºŒå‘¨</h1><h2 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">åˆ›å»ºï¼š<span class="hljs-built_in">npm</span> init vue@latest<br></code></pre></td></tr></table></figure><p>setupå…è®¸åœ¨scriptä¸­ç›´æ¥ç¼–å†™ç»„åˆæ˜¯APIï¼Œsetup()é’©å­æ‰§è¡Œæ—¶æœŸæ—©äºbeforeCreate()é’©å­ï¼Œå¹¶ä¸”ä¸å†èƒ½ä½¿ç”¨thisï¼Œæ•°æ®å’Œå‡½æ•°éœ€è¦å†setupæœ€åreturnï¼Œ<script setup></script>è¯­æ³•ç³–å†™æ³•çœç•¥äº†return</p><p>templateä¸å†è¦æ±‚å”¯ä¸€æ ¹å…ƒç´  </p><h3 id="reactive-å’Œref"><a href="#reactive-å’Œref" class="headerlink" title="reactive()å’Œref()"></a>reactive()å’Œref()</h3><p>reactive()ä½œç”¨ï¼šæ¥å—å¯¹è±¡ç±»å‹æ•°æ®çš„å‚æ•°ä¼ å…¥å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; reactive &#125; from &#x27;vue&#x27;<br>const state = reactive(&#123;<br>count:100<br>&#125;)<br>const setCount = () =&gt; &#123;<br>state.count++<br>&#125;<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>&lt;div&gt;<br>&lt;div&gt;&#123;&#123; state.count &#125;&#125;&lt;/div&gt;<br>&lt;button @click=&quot;setCount&quot;&gt;+1&lt;/button&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>ref()ä½œç”¨ï¼šæ¥æ”¶ç®€å•ç±»å‹æˆ–å¯¹è±¡ç±»å‹çš„æ•°æ®ä¼ å…¥å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡</p><p>â€‹  æœ¬è´¨ï¼šæ˜¯åœ¨åŸæœ‰ä¼ å…¥æ•°æ®çš„åŸºç¡€ä¸Šï¼Œå¤–å±‚åŒ…äº†ä¸€å±‚å¯¹è±¡</p><p>â€‹  åœ¨è„šæœ¬ä¸­è®¿é—®æ•°æ®éœ€è¦é€šè¿‡.valueï¼Œåœ¨templateä¸­ä¸éœ€è¦åŠ .value</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; ref &#125; from &#x27;vue&#x27;<br>const count = ref(0)<br>const setCount = () =&gt; &#123;<br>count.value++<br>&#125;<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>&lt;div&gt;<br>&lt;div&gt;&#123;&#123; state.count &#125;&#125;&lt;/div&gt;<br>&lt;button @click=&quot;setCount&quot;&gt;+1&lt;/button&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h3 id="ç»„åˆå¼API-computed"><a href="#ç»„åˆå¼API-computed" class="headerlink" title="ç»„åˆå¼API-computed"></a>ç»„åˆå¼API-computed</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; ref,computed &#125; from &#x27;vue&#x27;<br>const list = ref([1,2,3,4,5,6,7,8])<br><br>const computedList = computed(()=&#123;<br>    return list.value.filter(item =&gt; item &gt; 2)<br>&#125;)<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>&lt;div&gt;<br>&lt;div&gt;åŸå§‹æ•°æ®ï¼š&#123;&#123; list &#125;&#125;&lt;/div&gt;<br>&lt;div&gt;è®¡ç®—åæ•°æ®:&#123;&#123; computedList &#125;&#125;&lt;/div&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h3 id="ç»„åˆå¼API-watch"><a href="#ç»„åˆå¼API-watch" class="headerlink" title="ç»„åˆå¼API-watch"></a>ç»„åˆå¼API-watch</h3><p>ä½œç”¨ï¼šä¾¦å¬ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®çš„å˜åŒ–ï¼Œæ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå›è°ƒå‡½æ•°</p><p>ä¸¤ä¸ªé¢å¤–å‚æ•°ï¼šimmediateï¼ˆç«‹å³æ‰§è¡Œï¼‰ï¼›deepï¼ˆæ·±åº¦ç›‘å¬ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; ref,watch &#125; from &#x27;vue&#x27;<br>const count = ref(0)<br>const nickname = ref(&#x27;å¼ ä¸‰&#x27;)<br><br>const changeCount = ()=&gt;&#123;<br>    count.value++<br>&#125;<br>const cangeNickname = ()=&gt;&#123;<br>    nickname.value = &#x27;æå››&#x27;<br>&#125;<br><br>// ç›‘è§†å•ä¸ª<br>watch(count,(newValue,oldValue)=&gt;&#123;<br>    console.log(newValue,oldValue)<br>&#125;)<br>    <br>// ç›‘è§†å¤šä¸ª<br>watch([count,nickname],(newValue,oldValue)=&gt;&#123;<br>    console.log(newValue,oldValue)<br>&#125;)<br>    <br>// ç«‹å³æ‰§è¡Œ<br>watch(count,(newValue,oldValue)=&gt;&#123;<br>    console.log(newValue,oldValue)<br>&#125;,&#123;<br>    immediate:true<br>&#125;)<br>    <br>// æ·±åº¦ç›‘è§†[ref(ç®€å•ç±»å‹)å¯ä»¥ç›‘å¬,ref(å¤æ‚ç±»å‹)å¿…é¡»æ·±åº¦ç›‘å¬]<br>const userInfo = ref(&#123;<br>    name:&#x27;zs&#x27;,<br>    age:18<br>&#125;)<br>const setUserInfo = ()=&gt;&#123;<br>    userInfo.value.age++<br>&#125;<br>watch(userInfo,(newValue,oldValue)=&gt;&#123;<br>    console.log(newValue,oldValue)<br>&#125;,&#123;<br>    deep:true<br>&#125;)<br>  <br>// å¯¹äºå¯¹è±¡ä¸­çš„å±æ€§è¿›è¡Œç›‘è§†<br>const userInfo = ref(&#123;<br>    name:&#x27;zs&#x27;,<br>    age:18<br>&#125;)<br>const setUserInfo = ()=&gt;&#123;<br>    userInfo.value.age++<br>&#125;<br>watch(() =&gt; userInfo.value.age,(newValue,oldValue) =&gt; &#123;<br>    console.log(newValue,oldValue)<br>&#125;)<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>&lt;div&gt;<br>        &#123;&#123; count &#125;&#125;<br>    &lt;/div&gt;<br>&lt;button @click=&quot;changeCount&quot;&gt;<br>        æ”¹æ•°å­—<br>    &lt;/button&gt;<br>&lt;div&gt;<br>    &#123;&#123; nickname &#125;&#125;<br>    &lt;/div&gt;<br>&lt;button @click=&quot;changeNickname&quot;&gt;<br>        æ”¹æ˜µç§°<br>    &lt;/button&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h3 id="ç»„åˆå¼API-ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#ç»„åˆå¼API-ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="ç»„åˆå¼API-ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>ç»„åˆå¼API-ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><table><thead><tr><th align="center">é€‰é¡¹å¼API</th><th align="center">ç»„åˆå¼API</th></tr></thead><tbody><tr><td align="center">beforeCreate&#x2F;created</td><td align="center">setup</td></tr><tr><td align="center">beforeMount</td><td align="center">onBeforeMount</td></tr><tr><td align="center">mounted</td><td align="center">onMounted</td></tr><tr><td align="center">beforeUpdate</td><td align="center">onBreforeUpdate</td></tr><tr><td align="center">updated</td><td align="center">onUpdated</td></tr><tr><td align="center">beforeUnmount</td><td align="center">onBeforeUnmount</td></tr><tr><td align="center">unmounted</td><td align="center">onUnmounted</td></tr></tbody></table><h3 id="ç»„åˆå¼API-çˆ¶å­é€šä¿¡"><a href="#ç»„åˆå¼API-çˆ¶å­é€šä¿¡" class="headerlink" title="ç»„åˆå¼API-çˆ¶å­é€šä¿¡"></a>ç»„åˆå¼API-çˆ¶å­é€šä¿¡</h3><p><strong>çˆ¶ä¼ å­</strong>ï¼šçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šå±æ€§ï¼Œå­ç»„ä»¶å†…éƒ¨é€šè¿‡propsé€‰é¡¹æ¥æ”¶ï¼Œé€šè¿‡definePropsâ€œç¼–è¯‘å™¨å®â€æ¥æ”¶å­ç»„ä»¶ä¼ é€’çš„æ•°æ®</p><p><img src="https://eastynoss.oss-cn-chengdu.aliyuncs.com/202401282337703.png" alt="image-20240128233723469"></p><p><strong>å­ä¼ çˆ¶</strong>ï¼šçˆ¶ç»„ä»¶ä¸­ç»„ä»¶æ ‡ç­¾é€šè¿‡@ç»‘å®šäº‹ä»¶ï¼Œå­ç»„ä»¶å†…éƒ¨é€šè¿‡emitæ–¹æ³•è§¦å‘äº‹ä»¶ï¼Œé€šè¿‡defineEmitsç¼–è¯‘å™¨å®ç”Ÿæˆemitæ–¹æ³•</p><p><img src="https://eastynoss.oss-cn-chengdu.aliyuncs.com/202401291346681.png" alt="image-20240129134637403"></p><h3 id="ç»„åˆå¼API-æ¨¡æ¿å¼•ç”¨"><a href="#ç»„åˆå¼API-æ¨¡æ¿å¼•ç”¨" class="headerlink" title="ç»„åˆå¼API-æ¨¡æ¿å¼•ç”¨"></a>ç»„åˆå¼API-æ¨¡æ¿å¼•ç”¨</h3><p>è°ƒç”¨refå‡½æ•°ç”Ÿæˆä¸€ä¸ªrefå¯¹è±¡ï¼Œé€šè¿‡refæ ‡è¯†ç»‘å®šrefå¯¹è±¡åˆ°æ ‡ç­¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;scipt setup&gt;<br>    import TestCom from &quot;@/components/........&quot;<br>    import &#123; ref, onMounted &#125; from &#x27;vue&#x27;<br>    <br>    const inp = ref(null)<br>    <br>    // ç”Ÿå‘½é’©å­onMountedç­‰domæ¸²æŸ“å®Œ<br>    onMounted(()=&gt;&#123;<br>    // console.log(inp.value)<br>    // inp.value.focus()<br>    &#125;)<br>    <br>    const clickFn = ()=&gt;&#123;<br>    inp.value.focus()<br>    &#125;<br>&lt;/scipt&gt;<br><br>&lt;template&gt;<br>&lt;div&gt;<br>        &lt;input ref=&quot;inp&quot; type=&quot;text&quot;&gt;<br>        &lt;button @click=&quot;clickFn&quot;&gt;<br>            ç‚¹å‡»è®©è¾“å…¥æ¡†èšç„¦<br>    &lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;TestCom/&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹åœ¨<script setup>è¯­æ³•ç³–ä¸‹ç»„ä»¶å†…éƒ¨çš„å±æ€§å’Œæ–¹æ³•æ˜¯ä¸å¼€æ”¾ç»™çˆ¶ç»„ä»¶è®¿é—®çš„,å¯ä»¥é€šè¿‡defineExposeç¼–è¯‘å®æŒ‡å®šå“ªäº›å±æ€§å’Œæ–¹æ³•å…è®¸è®¿é—®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; ref &#125; from &#x27;vue&#x27;<br>    const testMessage = ref(&#x27;this is test message&#x27;)<br>    defineExpose(&#123;<br>        testMessage<br>    &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="ç»„åˆå¼API-provideå’Œinject"><a href="#ç»„åˆå¼API-provideå’Œinject" class="headerlink" title="ç»„åˆå¼API-provideå’Œinject"></a>ç»„åˆå¼API-provideå’Œinject</h3><p>é¡¶å±‚ç»„ä»¶å‘ä»»æ„çš„åº•å±‚ç»„ä»¶ä¼ é€’æ•°æ®å’Œæ–¹æ³•ï¼Œå®ç°è·¨å±‚ç»„ä»¶é€šä¿¡</p><ul><li><p>æ™®é€šæ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">// é¡¶å±‚ç»„ä»¶<br>provide(&#x27;key&#x27;,é¡¶å±‚ç»„ä»¶ä¸­çš„æ•°æ®)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">// åº•å±‚ç»„ä»¶<br>const message = inject(&#x27;key&#x27;)<br></code></pre></td></tr></table></figure></li><li><p>å“åº”å¼æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">// é¡¶å±‚ç»„ä»¶<br>provide(&#x27;app-key&#x27;,refå¯¹è±¡)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">// åº•å±‚ç»„ä»¶<br>const message = inject(&#x27;app-key&#x27;)<br></code></pre></td></tr></table></figure></li><li><p>æ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">// é¡¶å±‚ç»„ä»¶<br>const setCount = () =&gt; &#123;<br>count,value++<br>&#125;<br>provide(&#x27;setCount-key&#x27;,setCount)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">// åº•å±‚ç»„ä»¶<br>const setCount = inject(&#x27;setCount-key&#x27;)<br></code></pre></td></tr></table></figure></li></ul><h3 id="defineOptions"><a href="#defineOptions" class="headerlink" title="defineOptions"></a>defineOptions</h3><p>ç”¨defineOptionså®šä¹‰ä»»æ„çš„é€‰é¡¹ï¼Œpropsã€emitsã€exposeã€slotsé™¤å¤–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>defineOptions(&#123;<br>        name:&#x27;&#x27;,<br>        inheritAttrs:false,<br>        .........<br>    &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h3><p>Vuexçš„æ›¿ä»£å“</p><p>æ‰‹åŠ¨æ·»åŠ pinia</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">import &#123; createApp &#125; from &#x27;vue&#x27;<br>import &#123; createPinia &#125; from &#x27;pinia&#x27;<br>import App from &#x27;./App.vue&#x27;<br><br>const pinia = createPinia()<br>const app = createApp(App)<br><br>app.use(pinia)<br>app.use(&#x27;#app&#x27;)<br></code></pre></td></tr></table></figure><ul><li><p>åŸºç¡€ä½¿ç”¨ï¼šå®šä¹‰storeï¼Œç»„ä»¶ä½¿ç”¨store</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs vue">import &#123; defineStore &#125; from &#x27;pinia&#x27;<br>import &#123; ref,computed &#125; from &#x27;vue&#x27;<br><br>// å®šä¹‰store<br>// defineStore(ä»“åº“çš„å”¯ä¸€æ ‡è¯†),() =&gt; &#123;....&#125;)<br><br>export const useCOunterStore = defineStore(&#x27;counter&#x27;,() =&gt; &#123;<br>// å£°æ˜æ•°æ® state<br>const count = ref(0)<br><br>// å£°æ˜æ“ä½œæ•°æ®çš„æ–¹æ³• actions ï¼ˆæ™®é€šå‡½æ•°ï¼‰<br>const addCount = () =&gt; count.value++<br><br>// å£°æ˜åŸºäºæ•°æ®æ´¾ç”Ÿçš„è®¡ç®—å±æ€§ getters ï¼ˆcomputedï¼‰<br>const double = computed(() =&gt; count.value * 2)<br><br>return &#123;<br>count,<br>double,<br>addCount<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; useCounterStore &#125; from &#x27;@/store/....&#x27;<br>    const counterStore = useCounterStore()<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>&lt;div&gt;<br>        æˆ‘æ˜¯Son1.vue - &#123;&#123; counterStore.count &#125;&#125; - &#123;&#123; counterStore.double &#125;&#125;<br>        &lt;button @click=&quot;counterStore.addCount&quot;&gt;+&lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure></li></ul><p><code>stpreTpRefs</code> - å¯ä»¥ä½¿piniaäº§ç”Ÿçš„storeè§£æ„èµ‹å€¼æ•°æ®ä¿æŒå“åº”å¼</p><p>PiniaæŒä¹…åŒ–â€”â€”ç™½é›ªlocalStorage</p><ul><li><p>ä¸‹è½½ä¾èµ–ï¼Œå¯¼å…¥ï¼Œä½¿ç”¨</p><p><code>import persist from &#39;pinia-plugun-persistedstate&#39;</code> - å¯¼å…¥æŒä¹…åŒ–æ’ä»¶</p><p><code>app.use(pinia.use(persist))</code> - pianiaæ’ä»¶çš„å®‰è£…é…ç½®</p><p><code>persist:true</code> - åœ¨ç»„åˆå¼çš„ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­æ·»åŠ å¼€å¯å½“å‰æ¨¡å—çš„æŒä¹…åŒ–ï¼ˆé»˜è®¤æ˜¯æ•´ä¸ªstateè¢«æŒä¹…åŒ–åˆ°localStorageï¼‰</p></li></ul><h3 id="pnpm"><a href="#pnpm" class="headerlink" title="pnpm"></a>pnpm</h3><p><img src="https://eastynoss.oss-cn-chengdu.aliyuncs.com/202401311616720.png" alt="image-20240131161640522"></p><h1 id="ç¬¬ä¸‰å‘¨"><a href="#ç¬¬ä¸‰å‘¨" class="headerlink" title="ç¬¬ä¸‰å‘¨"></a>ç¬¬ä¸‰å‘¨</h1><h2 id="el-row-el-col-el-form"><a href="#el-row-el-col-el-form" class="headerlink" title="el-row/el-col/el-form"></a>el-row/el-col/el-form</h2><p><code>el-row</code> ä¸€è¡Œåˆ†ä¸º24ä»½</p><p><code>el-col :span=&quot;12&quot;</code> è¯¥åˆ—å 12ä»½</p><p><code>el-col :offset:&quot;3&quot;</code> å·¦å¤–è¾¹è·3ä»½</p><p><code>el-form</code> è¡¨å•</p><p><code>el-form-item</code> è¡¨å•ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ </p><h2 id="è¡¨å•æ ¡éªŒè§„åˆ™"><a href="#è¡¨å•æ ¡éªŒè§„åˆ™" class="headerlink" title="è¡¨å•æ ¡éªŒè§„åˆ™"></a>è¡¨å•æ ¡éªŒè§„åˆ™</h2><ul><li>éç©ºæ ¡éªŒâ€”â€”required:truemessageæ¶ˆæ¯æç¤ºtriggerè§¦å‘æ ¡éªŒçš„æ—¶æœº blur(å¤±ç„¦æ—¶)\change(æ”¹å˜æ—¶)</li><li>é•¿åº¦æ ¡éªŒâ€”â€”min:xxmax:xx</li><li>æ­£åˆ™æ ¡éªŒâ€”â€”pattern:æ­£åˆ™è§„åˆ™(ä¾‹å¦‚: \^\S{6,15}$\ è¡¨ç¤º6-25ä½çš„éç©ºå­—ç¬¦)</li><li>è‡ªå®šä¹‰æ ¡éªŒâ€”â€”validator:(rule,value,callback)<ul><li>ruleå½“å‰æ ¡éªŒè§„åˆ™ç›¸å…³çš„ä¿¡æ¯</li><li>valueæ‰€æ ¡éªŒçš„è¡¨å•å…ƒç´ ç›®å‰çš„è¡¨å•å€¼</li><li>callbackæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½éœ€è¦callback<ul><li>callback()æ ¡éªŒæˆåŠŸ</li><li>callback(new Errir(é”™è¯¯ä¿¡æ¯))æ ¡éªŒå¤±è´¥</li></ul></li></ul></li></ul><h1 id="ç¬¬å››å‘¨"><a href="#ç¬¬å››å‘¨" class="headerlink" title="ç¬¬å››å‘¨"></a>ç¬¬å››å‘¨</h1><h2 id="nodeçš„httpæ¨¡å—æ­å»ºçš„åç«¯æœåŠ¡"><a href="#nodeçš„httpæ¨¡å—æ­å»ºçš„åç«¯æœåŠ¡" class="headerlink" title="nodeçš„httpæ¨¡å—æ­å»ºçš„åç«¯æœåŠ¡"></a>nodeçš„httpæ¨¡å—æ­å»ºçš„åç«¯æœåŠ¡</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>)<br><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res</span>)&#123;<br>    res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span><br>    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Content-Type&#x27;</span>,<span class="hljs-string">&#x27;Content-Type&#x27;</span>,<span class="hljs-string">&#x27;text/html&#x27;</span>)<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;...&#x27;</span>)<br>&#125;)<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>,<span class="hljs-title function_">functon</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æœåŠ¡å·²å¯åŠ¨&#x27;</span>)              <br>&#125;)<br></code></pre></td></tr></table></figure><p>è¿è¡Œï¼š<code>node server.js</code></p><h2 id="expressæ­å»ºåç«¯æœåŠ¡"><a href="#expressæ­å»ºåç«¯æœåŠ¡" class="headerlink" title="expressæ­å»ºåç«¯æœåŠ¡"></a>expressæ­å»ºåç«¯æœåŠ¡</h2><p>å®‰è£…ï¼šnpm install express</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res</span>)&#123;<br>    <span class="hljs-comment">// ç›¸åº”å†…å®¹</span><br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;...&#x27;</span>)<br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>,<span class="hljs-title function_">functon</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æœåŠ¡å·²å¯åŠ¨&#x27;</span>)              <br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="åœ¨-Express-ä¸­ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š"><a href="#åœ¨-Express-ä¸­ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š" class="headerlink" title="åœ¨ Express ä¸­ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š"></a>åœ¨ Express ä¸­ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">someMiddleware</span>(<span class="hljs-params">req, res, next</span>) &#123;<br>  <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘</span><br>  <span class="hljs-title function_">next</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸‰ä¸ªå‚æ•°ä¸­ï¼Œ<code>req</code> å’Œ <code>res</code> å°±æ˜¯å‰é¢æåˆ°çš„ Request è¯·æ±‚å¯¹è±¡å’Œ Response å“åº”å¯¹è±¡ï¼›è€Œ <code>next</code> å‡½æ•°åˆ™ç”¨æ¥è§¦å‘ä¸‹ä¸€ä¸ªä¸­é—´ä»¶çš„æ‰§è¡Œã€‚</p><h3 id="å…¨å±€ä¸­é—´ä»¶"><a href="#å…¨å±€ä¸­é—´ä»¶" class="headerlink" title="å…¨å±€ä¸­é—´ä»¶"></a>å…¨å±€ä¸­é—´ä»¶</h3><p>é€šè¿‡ <code>app.use</code> å‡½æ•°å°±å¯ä»¥æ³¨å†Œä¸­é—´ä»¶ï¼Œå¹¶ä¸”æ­¤ä¸­é—´ä»¶ä¼šåœ¨ç”¨æˆ·å‘èµ·<strong>ä»»ä½•è¯·æ±‚</strong>éƒ½å¯èƒ½ä¼šæ‰§è¡Œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">use</span>(someMiddleware)<br></code></pre></td></tr></table></figure><h3 id="è·¯ç”±ä¸­é—´ä»¶"><a href="#è·¯ç”±ä¸­é—´ä»¶" class="headerlink" title="è·¯ç”±ä¸­é—´ä»¶"></a>è·¯ç”±ä¸­é—´ä»¶</h3><p>é€šè¿‡åœ¨è·¯ç”±å®šä¹‰æ—¶æ³¨å†Œä¸­é—´ä»¶ï¼Œæ­¤ä¸­é—´ä»¶åªä¼šåœ¨ç”¨æˆ·è®¿é—®è¯¥è·¯ç”±æ—¶æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/middleware&#x27;</span>, someMiddleware, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;Hello World&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶"><a href="#ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶" class="headerlink" title="ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶"></a>ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶</h3><ol><li>æ–°å»ºä¸€ä¸ªlogger.jsï¼Œå¹¶å†™å…¥ä»¥ä¸‹å‡½æ•°</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">logger</span>(<span class="hljs-params">req, res, next</span>) &#123;<br>  <span class="hljs-keyword">const</span> time = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">$&#123;time.toLocaleString()&#125;</span>] <span class="hljs-subst">$&#123;req.method&#125;</span> <span class="hljs-subst">$&#123;req.url&#125;</span>`</span>);<br>  <span class="hljs-title function_">next</span>();<br>&#125;<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;<br></code></pre></td></tr></table></figure><ol start="2"><li>åœ¨server.jså¼•å…¥loggerå‡½æ•°å¹¶ä¸”å…¨å±€æ³¨å†Œ</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> logger = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./logger&#x27;</span>)<br>...<br>...<br>app.<span class="hljs-title function_">use</span>(logger)<br>...<br>...<br></code></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬åœ¨è®¿é—®è·¯ç”±åï¼Œæ¯æ¬¡éƒ½ä¼šåœ¨æ§åˆ¶å°æ‰“å°ä¸€è¡Œæ—¥å¿—ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-string">[2023/2/27 15:54:29]</span> GET /<br><span class="hljs-string">[2023/2/27 15:54:47]</span> POST /about<br></code></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœå¿˜è®°åœ¨ä¸­é—´ä»¶ä¸­è°ƒç”¨ <code>next</code> å‡½æ•°ï¼Œå¹¶ä¸”åˆä¸ç›´æ¥è¿”å›å“åº”æ—¶ï¼ŒæœåŠ¡å™¨ä¼šç›´æ¥å¡åœ¨è¿™ä¸ªä¸­é—´ä»¶ä¸ä¼šç»§ç»­æ‰§è¡Œä¸‹å»å“¦ï¼</p></blockquote>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
