{"meta":{"title":"Eastynçš„åšå®¢","subtitle":"","description":"","author":"Eastyn","url":"http://eastyn7.github.io","root":"/"},"pages":[{"title":"å…³äº","date":"2024-09-28T17:32:05.000Z","updated":"2024-09-28T17:34:04.765Z","comments":false,"path":"about/index.html","permalink":"http://eastyn7.github.io/about/index.html","excerpt":"","text":""}],"posts":[{"title":"Hello World","slug":"hello-world","date":"2024-09-28T13:04:35.234Z","updated":"2024-09-28T13:04:35.234Z","comments":true,"path":"2024/09/28/hello-world/","permalink":"http://eastyn7.github.io/2024/09/28/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"HEXOæ­å»ºåšå®¢å¹³å°","slug":"åˆ©ç”¨HEXOæ­æ­å»ºè‡ªå·±çš„åšå®¢","date":"2024-09-28T12:58:51.580Z","updated":"2024-09-29T13:11:17.384Z","comments":true,"path":"2024/09/28/åˆ©ç”¨HEXOæ­æ­å»ºè‡ªå·±çš„åšå®¢/","permalink":"http://eastyn7.github.io/2024/09/28/%E5%88%A9%E7%94%A8HEXO%E6%90%AD%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/","excerpt":"","text":"HEXOæ­å»ºåšå®¢å¹³å°æœ¬æœºç¯å¢ƒ Win11 node.jsï¼š18.17.0 npmï¼š10.8.2 å®‰è£…ä¸‹è½½hexo1npm install -g hexo-cli hexo -v éªŒè¯å¹¶æŸ¥çœ‹ç‰ˆæœ¬ åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹1hexo init myblog å®‰è£…12cd myblognpm install å¯åŠ¨æœåŠ¡12hexo ghexo server åœ¨GitHubåˆ›å»ºä»“åº“å®‰è£…hexoä¸Šä¼ æ’ä»¶1npm install hexo-deployer-git --save ä¿®æ”¹hexoé…ç½®æ–‡ä»¶æŒ‡å®šä»“åº“è·¯å¾„åœ¨æ–‡ä»¶å¤¹ä¸­ç›´æ¥æ‰“å¼€_config.ymlæ–‡ä»¶ä¿®æ”¹ deploy: â€‹ type: git â€‹ repo : gitåœ°å€ â€‹ branch: master æ¨é€åˆ°GitHub1hexo d è·Ÿæ–°å®Œ æ¸…ç†ï¼šhexo clean æ„å»ºï¼šhexo g ä¸Šä¼ ï¼šhexo d","categories":[],"tags":[]},{"title":"","slug":"é’é˜Ÿäº‘å¹³å°å¼€å‘æ–‡æ¡£","date":"2024-09-04T15:00:04.749Z","updated":"2024-09-29T13:24:15.184Z","comments":true,"path":"2024/09/04/é’é˜Ÿäº‘å¹³å°å¼€å‘æ–‡æ¡£/","permalink":"http://eastyn7.github.io/2024/09/04/%E9%9D%92%E9%98%9F%E4%BA%91%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/","excerpt":"","text":"titleï¼šé’é˜Ÿäº‘å¹³å°å¼€å‘é’é˜Ÿäº‘å¹³å°å¼€å‘æ–‡æ¡£ğŸ’•å¯åŠ¨æ—¶é—´ï¼š2024.09.04 é¡¹ç›®æ¦‚è¿°èƒŒæ™¯éšç€å¿—æ„¿æœåŠ¡åœ¨é«˜æ ¡ä¸­çš„è“¬å‹ƒå‘å±•ï¼Œâ€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿã€ä»¥ä¸‹ç®€ç§°é’é˜Ÿã€‘é€æ¸æˆä¸ºå­¦é™¢å†…å¤–å„ç±»å…¬ç›Šæ´»åŠ¨çš„é‡è¦ç»„ç»‡è€…ã€‚ä½œä¸ºä¸€ä¸ªç”±çƒ­å¿ƒé’å¹´å­¦ç”Ÿç»„æˆçš„å¿—æ„¿è€…é˜Ÿä¼ï¼Œæˆ‘ä»¬çš„æˆå‘˜åœ¨å¤šä¸ªé¢†åŸŸç§¯æå‚ä¸ï¼Œå±•ç°äº†è‰¯å¥½çš„ç²¾ç¥é£è²Œå’Œç¤¾ä¼šè´£ä»»æ„Ÿã€‚ä¸ºäº†æ›´å¥½åœ°æå‡æœåŠ¡é˜Ÿçš„å†…éƒ¨ç®¡ç†å’Œå¯¹å¤–å®£ä¼ ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡å¼€å‘ä¸€ä¸ªå†…éƒ¨ç®¡ç†å’Œå±•ç¤ºå¹³å°ï¼Œå¼ºåŒ–é˜Ÿä¼å‡èšåŠ›å’Œæˆå‘˜å½’å±æ„Ÿï¼ŒåŒæ—¶å‘å…¬ä¼—å±•ç¤ºæˆ‘ä»¬çš„æˆæœå’Œç²¾ç¥é£è²Œã€‚ å½“å‰é—®é¢˜å’ŒæŒ‘æˆ˜1ã€é˜Ÿä¼å½¢è±¡å±•ç¤ºä¸è¶³ï¼šæœåŠ¡é˜Ÿåœ¨å­¦é™¢å’Œç¤¾ä¼šä¸Šçš„å½±å“åŠ›æœ‰é™ï¼Œç¼ºä¹ä¸€ä¸ªé›†ä¸­å±•ç¤ºæœåŠ¡é˜Ÿå†å²ã€æˆå°±å’Œæ´»åŠ¨çš„çª—å£ï¼Œä½¿å¤–ç•Œéš¾ä»¥å……åˆ†äº†è§£æˆ‘ä»¬çš„å›¢é˜Ÿæ–‡åŒ–å’Œæ ¸å¿ƒä»·å€¼è§‚ã€‚ 2ã€ä¿¡æ¯å‘å¸ƒä¸åŠæ—¶ï¼šå½“å‰æ´»åŠ¨å’Œå†…éƒ¨ä¿¡æ¯çš„å‘å¸ƒä¸»è¦ä¾èµ–äºå¾®ä¿¡ç¾¤ã€QQç¾¤ç­‰éé›†ä¸­åŒ–æ¸ é“ï¼Œå®¹æ˜“å¯¼è‡´ä¿¡æ¯é—æ¼æˆ–ä¼ æ’­ä¸åŠæ—¶ï¼Œå½±å“æ´»åŠ¨çš„å‚ä¸ç‡å’Œå›¢é˜Ÿæ²Ÿé€šæ•ˆç‡ã€‚ 3ã€å¿—æ„¿ç²¾ç¥ä¼ é€’ä¸è¶³ï¼šåœ¨æå‡æˆå‘˜å¿—æ„¿æœåŠ¡ç²¾ç¥ã€æŠ€èƒ½åŸ¹è®­å’Œç»éªŒåˆ†äº«æ–¹é¢ç¼ºå°‘æœ‰æ•ˆçš„å·¥å…·å’Œæ‰‹æ®µï¼Œéš¾ä»¥ä¸ºæ–°æˆå‘˜æä¾›ç³»ç»Ÿæ€§çš„æˆé•¿è·¯å¾„å’Œæ”¯æŒã€‚ é¡¹ç›®ç›®æ ‡æœ¬é¡¹ç›®æ—¨åœ¨ä¸ºé’é˜Ÿå¼€å‘ä¸€ä¸ªä¸“å±çš„äº‘å¹³å°ï¼Œä»¥è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œå¹¶å®ç°ä»¥ä¸‹ç›®æ ‡ï¼š 1ã€å±•ç¤ºé˜Ÿä¼å½¢è±¡å’Œæˆå°±ï¼šé€šè¿‡å¹³å°å±•ç¤ºæœåŠ¡é˜Ÿçš„å†å²ã€å›¢é˜Ÿæ–‡åŒ–ã€æ´»åŠ¨æˆæœå’Œä¼˜ç§€é˜Ÿå‘˜çš„é£é‡‡ï¼ŒåŠ å¼ºå…¬ä¼—å¯¹æœåŠ¡é˜Ÿçš„è®¤è¯†å’Œæ”¯æŒã€‚ 2ã€æå‡ä¿¡æ¯å‘å¸ƒå’Œæ²Ÿé€šæ•ˆç‡ï¼šé€šè¿‡å¹³å°å‘å¸ƒå…¬å‘Šã€æ´»åŠ¨é¢„å‘Šå’Œå†…éƒ¨ä¿¡æ¯ï¼Œç¡®ä¿æˆå‘˜èƒ½å¤ŸåŠæ—¶è·å–æœ€æ–°ä¿¡æ¯ï¼Œæå‡é˜Ÿå†…æ²Ÿé€šæ•ˆç‡ã€‚ 3ã€ä¿ƒè¿›å¿—æ„¿ç²¾ç¥ä¼ æ’­ä¸æˆé•¿ï¼šæä¾›å¿—æ„¿è€…å­¦ä¹ èµ„æºã€ç»éªŒåˆ†äº«å’ŒåŸ¹è®­æ”¯æŒï¼Œå¸®åŠ©æˆå‘˜æˆé•¿ï¼Œå¹¶æœ‰æ•ˆä¼ æ’­å¿—æ„¿æœåŠ¡ç²¾ç¥ã€‚ æ•°æ®åº“è®¾è®¡ç™»å½•ä¿¡æ¯è¡¨ï¼ˆuser_auth)1234567891011CREATE TABLE `user_auth` ( `auth_id` int NOT NULL AUTO_INCREMENT COMMENT &#x27;è®¤è¯ID&#x27;, `student_id` varchar(12) NOT NULL COMMENT &#x27;å­¦å·&#x27;, `email` varchar(100) NOT NULL COMMENT &#x27;é‚®ç®±ï¼Œè¦æ±‚@ctbu.edu.cnç»“å°¾&#x27;, `password_hash` varchar(255) NOT NULL COMMENT &#x27;å¯†ç å“ˆå¸Œå€¼&#x27;, `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#x27;è´¦å·åˆ›å»ºæ—¶é—´&#x27;, `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT &#x27;æœ€åæ›´æ–°æ—¶é—´&#x27;, PRIMARY KEY (`auth_id`), UNIQUE KEY `unique_email` (`email`), -- ç¡®ä¿é‚®ç®±å”¯ä¸€ UNIQUE KEY `unique_student_id` (`student_id`) -- ç¡®ä¿å­¦å·å”¯ä¸€) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; ç”¨æˆ·è¡¨(users)1234567891011121314CREATE TABLE `users` ( `id` int NOT NULL AUTO_INCREMENT COMMENT &#x27;ç”¨æˆ·ID&#x27;, `auth_id` int NOT NULL COMMENT &#x27;å…³è”è®¤è¯è¡¨çš„å¤–é”®&#x27;, `role` tinyint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;ç”¨æˆ·è§’è‰²ï¼ˆ0=æ™®é€šç”¨æˆ·, 1=ç®¡ç†å‘˜ï¼‰&#x27;, `username` varchar(64) NOT NULL COMMENT &#x27;ç”¨æˆ·å&#x27;, `name` varchar(255) NOT NULL COMMENT &#x27;çœŸå®å§“å&#x27;, `gender` tinyint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ€§åˆ«ï¼ˆ0=æœªæŒ‡å®š, 1=ç”·, 2=å¥³ï¼‰&#x27;, `avatar` varchar(255) DEFAULT NULL COMMENT &#x27;å¤´åƒURL&#x27;, `mobile` varchar(11) DEFAULT NULL COMMENT &#x27;æ‰‹æœºå·&#x27;, `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#x27;åˆ›å»ºæ—¶é—´&#x27;, `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;, PRIMARY KEY (`id`), FOREIGN KEY (`auth_id`) REFERENCES `user_auth`(`auth_id`) ON DELETE CASCADE -- å…³è”å¤–é”®ï¼Œæ”¯æŒçº§è”åˆ é™¤) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; åŠŸèƒ½è®¾è®¡é¦–é¡µï¼ˆ&#x2F;homeï¼‰ è½®æ’­å›¾ å°å…¬å‘Š é˜Ÿå¾½é˜Ÿå åŠŸèƒ½å®«æ ¼ã€æ ¡å›­æœåŠ¡é€šã€çˆ±å¿ƒé›¨ä¼ã€æœåŠ¡é˜Ÿæ´»åŠ¨é£é‡‡ã€å¿—æ„¿æ´»åŠ¨æŠ¥åã€å…³äºé’é˜Ÿã€ç”¨æˆ·æ„è§åé¦ˆã€‘ ä¸ªäººä¸­å¿ƒï¼ˆ&#x2F;userï¼‰ æœªç™»å½•æƒ…å†µ é»˜è®¤ç™»å½•æ ï¼ˆé»˜è®¤å¤´åƒã€ç‚¹å‡»ç™»å½•ï¼‰ é€‰æ‹©åˆ—è¡¨ï¼ˆä¸ªäººèµ„æ–™ã€æƒé™ç”³è¯·ã€ä½¿ç”¨æŒ‡å—ã€è®¾ç½®ï¼‰ã€éœ€è¦ç™»å½•ä¹‹åæ‰èƒ½ç‚¹å‡»ä½¿ç”¨ã€‘ å·²ç™»å½•æƒ…å†µ å·²ç™»å½•çŠ¶æ€æ ï¼ˆç™»å½•å¤´åƒã€åç§°ï¼‰ é€‰æ‹©åˆ—è¡¨ï¼ˆä¸ªäººèµ„æ–™ã€æƒé™ç”³è¯·ï¼ˆå®¡æ ¸ï¼‰ã€?åå°ç®¡ç†ã€ä½¿ç”¨æŒ‡å—ã€è®¾ç½®ï¼‰ å…³äºé’é˜Ÿï¼ˆAbout Usï¼‰é¡¹ç›®å¼€å‘åˆ›å»ºé¡¹ç›®1pnpm create vue é…ç½®Vantæ·»åŠ vant 1pnpm add vant å®‰è£…è‡ªåŠ¨å¯¼å…¥æ’ä»¶ 1pnpm add @vant/auto-import-resolver unplugin-vue-components unplugin-auto-import -D é…ç½®è‡ªåŠ¨å¯¼å…¥ 1234567891011121314151617181920212223242526import &#123; fileURLToPath, URL &#125; from &#x27;node:url&#x27;import &#123; defineConfig &#125; from &#x27;vite&#x27;import vue from &#x27;@vitejs/plugin-vue&#x27;import AutoImport from &#x27;unplugin-auto-import/vite&#x27;;import Components from &#x27;unplugin-vue-components/vite&#x27;;import &#123; VantResolver &#125; from &#x27;@vant/auto-import-resolver&#x27;;// https://vitejs.dev/config/export default defineConfig(&#123; plugins: [ vue(), AutoImport(&#123; // vantæŒ‰éœ€å¯¼å…¥ resolvers: [VantResolver()], &#125;), Components(&#123; resolvers: [VantResolver()], &#125;) ], resolve: &#123; alias: &#123; &#x27;@&#x27;: fileURLToPath(new URL(&#x27;./src&#x27;, import.meta.url)) &#125; &#125;&#125;) é…ç½®è‡ªåŠ¨å¯¼å…¥å’Œç»„ä»¶1234567891011121314151617181920212223242526272829AutoImport(&#123; include: [ /\\.[tj]sx?$/, // .ts, .tsx, .js, .jsx /\\.vue$/, /\\.vue\\?vue/, // .vue /\\.md$/ // .md ], imports: [&#x27;vue&#x27;, &#x27;vue-router&#x27;, &#x27;pinia&#x27;], // é…ç½®å¯¼å‡ºçš„æ–‡ä»¶ dts: &#x27;src/auto-import.d.ts&#x27;, // vueã€vue-router tsç±»å‹å¯¼å‡ºä½ç½® // vantæŒ‰éœ€å¯¼å…¥ resolvers: [VantResolver()], // eslint é…ç½® eslintrc: &#123; enabled: true, // å½“é…ç½® enabled: true æ—¶ï¼Œä¼šæ ¹æ® filepath é…ç½®çš„è·¯å¾„ç”Ÿæˆä¸€ä¸ª .eslintrc-auto-import.json æ–‡ä»¶ filepath: &#x27;src/.eslintrc-auto-import.json&#x27;, globalsPropValue: true &#125; &#125;), Components(&#123; // æœç´¢å­ç›®å½• deep: true, // ç»„ä»¶æœ‰æ•ˆçš„æ‰©å±•å extensions: [&#x27;vue&#x27;, &#x27;js&#x27;, &#x27;jsx&#x27;, &#x27;ts&#x27;, &#x27;tsx&#x27;, &#x27;.mjs&#x27;], include: [/\\.vue$/, /\\.vue\\?vue/, /\\.js$/, /\\.jsx$/, /\\.ts$/, /\\.tsx$/], resolvers: [VantResolver()], dirs: [&#x27;src/components&#x27;], dts: &#x27;src/components.d.ts&#x27;, directives: true &#125;) é…ç½®Eslintå’ŒPrettier123456789101112131415161718192021rules: &#123; &#x27;prettier/prettier&#x27;: [ &#x27;warn&#x27;, &#123; singleQuote: true, semi: false, printWidth: 100, trailingComma: &#x27;none&#x27;, endOfLine: &#x27;auto&#x27; &#125; ], &#x27;vue/multi-word-component-names&#x27;: [ &#x27;warn&#x27;, &#123; ignores: [&#x27;index&#x27;] &#125; ], &#x27;vue/no-setup-props-destructure&#x27;: [&#x27;off&#x27;] // &#x27;no-undef&#x27;: &#x27;error&#x27;&#125; é…ç½®Viewportå®‰è£…æ’ä»¶ 1pnpm install postcss-px-to-viewport -D é…ç½® 12345678910111213141516171819/* eslint-env node */// postcss.config.cjsmodule.exports = &#123; plugins: &#123; &#x27;postcss-px-to-viewport&#x27;: &#123; uniToConvert: &#x27;px&#x27;, // éœ€è¦è½¬æ¢çš„å•ä½ &#x27;é»˜è®¤px&#x27; viewportWidth: 375, // è®¾è®¡ç¨¿çš„è§†å£å®½åº¦ unitPrecision: 5, // å•ä½è½¬æ¢åä¿ç•™çš„å°æ•°ä½æ•° proList: [&#x27;*&#x27;], // è¦è¿›è¡Œè½¬æ¢çš„å±æ€§åˆ—è¡¨ ,*è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ viewportUnit: &#x27;vw&#x27;, // è½¬æ¢åçš„è§†å£å•ä½ selectorBlackList: [&#x27;.ignore&#x27;, &#x27;.hairlines&#x27;], // ä¸è½¬æ¢çš„é€‰æ‹©å™¨åˆ—è¡¨ fontViewportUnit: &#x27;vw&#x27;, // è½¬æ¢åå­—ä½“ä½¿ç”¨çš„è§†å£å•ä½ minPixelValue: 1, // è®¾ç½®æœ€å°çš„è½¬æ¢æ•°å€¼ replace: true, // æ˜¯å¦ç›´æ¥è½¬åŒ–è€Œä¸æ·»åŠ å¤‡ç”¨å±æ€§ mediaQuery: true, // æ˜¯å¦å…è®¸åœ¨åª’ä½“æŸ¥è¯¢ä¸­è½¬æ¢ exclude: [/node_modules/] // å¿½ç•¥æŸäº›æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ &#125;, &#125;,&#125;; é…ç½®Axioså®‰è£…Axios 1pnpm add axios é…ç½®Requestæ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970import axios from &#x27;axios&#x27;import type &#123; InternalAxiosRequestConfig &#125; from &#x27;axios&#x27;import &#123; getLocalData, removeLocalData, isLogin &#125; from &#x27;@/utils/util&#x27;// è‡ªå®šä¹‰è¯·æ±‚é…ç½®æ¥å£ï¼Œæ‰©å±•äº† Axios çš„é…ç½®é€‰é¡¹ï¼Œå¢åŠ äº† needToken å±æ€§interface CustomRequestConfig extends InternalAxiosRequestConfig &#123; needToken?: boolean // æ ‡è¯†è¯·æ±‚æ˜¯å¦éœ€è¦æºå¸¦Token&#125;// åˆ›å»ºaxioså®ä¾‹ï¼Œå¹¶è®¾ç½®åŸºç¡€é…ç½®const http = axios.create(&#123; baseURL: import.meta.env.VITE_BASE_URL, // APIçš„åŸºç¡€URLï¼Œä½¿ç”¨Viteçš„ç¯å¢ƒå˜é‡æ¥è®¾ç½® timeout: 10000 // è¯·æ±‚è¶…æ—¶æ—¶é—´ä¸º10ç§’&#125;)// è¯·æ±‚æ‹¦æˆªå™¨ï¼šåœ¨è¯·æ±‚å‘é€ä¹‹å‰åšä¸€äº›å¤„ç†http.interceptors.request.use( (config: CustomRequestConfig) =&gt; &#123; // åˆ¤æ–­å½“å‰è¯·æ±‚æ˜¯å¦éœ€è¦Token if (config.needToken) &#123; // æ£€æŸ¥æ˜¯å¦å·²ç™»å½• if (isLogin()) &#123; // ä»æœ¬åœ°å­˜å‚¨ä¸­è·å–ç”¨æˆ·ä¿¡æ¯ const userinfo = getLocalData(&#x27;userinfo&#x27;) if (userinfo) &#123; // å¦‚æœç”¨æˆ·ä¿¡æ¯å­˜åœ¨ï¼Œå°†Tokenæ·»åŠ åˆ°è¯·æ±‚å¤´ä¸­ config.headers[&#x27;Authorization&#x27;] = `Bearer $&#123;userinfo.sk&#125;` // sk ä¸ºç”¨æˆ·å¯†é’¥å­—æ®µ &#125; &#125; // å¦‚æœç”¨æˆ·æœªç™»å½•ï¼Œä½†æœ¬åœ°æœ‰Tokenè¿‡æœŸæ—¶é—´ else if (getLocalData(&#x27;token_expires_at&#x27;)) &#123; // ç§»é™¤è¿‡æœŸçš„ç”¨æˆ·ä¿¡æ¯å’ŒToken removeLocalData(&#x27;userinfo&#x27;) removeLocalData(&#x27;token_expires_at&#x27;) // æç¤ºç”¨æˆ·ç™»å½•å·²è¿‡æœŸ showFailToast(&#x27;ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•&#x27;) &#125; // ç”¨æˆ·æœªç™»å½•ä¸”æ²¡æœ‰è¿‡æœŸçš„Token else &#123; // æç¤ºç”¨æˆ·å…ˆç™»å½• showFailToast(&#x27;è¯·å…ˆç™»å½•&#x27;) &#125; &#125; // ä¸ºæ‰€æœ‰è¯·æ±‚è®¾ç½®è¯·æ±‚å¤´ï¼ŒæŒ‡å®šè¯·æ±‚å†…å®¹ç±»å‹ä¸ºx-www-form-urlencoded config.headers[&#x27;Content-Type&#x27;] = &#x27;application/x-www-form-urlencoded&#x27; // è¿”å›å¤„ç†åçš„è¯·æ±‚é…ç½® return config &#125;, (error) =&gt; &#123; // å¦‚æœè¯·æ±‚å‘ç”Ÿé”™è¯¯ï¼Œç›´æ¥è¿”å›é”™è¯¯ return Promise.reject(error) &#125;)// å“åº”æ‹¦æˆªå™¨ï¼šåœ¨å“åº”è¿”å›ä¹‹ååšä¸€äº›å¤„ç†http.interceptors.response.use( (response) =&gt; &#123; // åªè¿”å›å“åº”çš„dataéƒ¨åˆ†ï¼Œç®€åŒ–åç»­è°ƒç”¨çš„æ•°æ®å¤„ç† return response.data &#125;, (error) =&gt; &#123; // å¦‚æœå“åº”å‘ç”Ÿé”™è¯¯ï¼Œè¿”å›é”™è¯¯ return Promise.reject(error) &#125;)// å¯¼å‡ºå¤„ç†å¥½çš„ http å®ä¾‹export default http é…ç½®Piniaå®‰è£…æ’ä»¶ 1pnpm add pinia-plugin-persistedstate -D åœ¨ä»“åº“ä¸­å¯¼å…¥ 123456789101112131415import &#123; createPinia &#125; from &#x27;pinia&#x27;import persist from &#x27;pinia-plugin-persistedstate&#x27;const pinia = createPinia()pinia.use(persist)import &#123; useCounterStore &#125; from &#x27;./counter&#x27; // ä¸¾ä¾‹å¯¼å…¥export default piniaexport const useStore = () =&gt; &#123; return &#123; counter: useCounterStore() &#125;&#125; é…ç½®Vantåº•éƒ¨å®‰å…¨åŒºé€‚é…123/* index.html */&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover&quot;/&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;./css/viewportFit.css&quot;&gt; 12345678/* viewportFit.css *//* é€‚é… iphone åº•éƒ¨å®‰å…¨åŒºï¼ˆæŒ‡ç¤ºæ¡ï¼Œé…åˆindex.html &lt;meta name=&quot;viewport&quot; ... /&gt;ä½¿ç”¨ */@supports (bottom: env(safe-area-inset-bottom))&#123; #app &#123; padding-bottom: constant(safe-area-inset-bottom);/* å…¼å®¹ios&lt;11.2 */ padding-bottom: env(safe-area-inset-bottom);/* å…¼å®¹ios&gt;=11.2 */ &#125;&#125; é…ç½®å…¨å±€æ ·å¼1234567891011121314151617181920212223242526/* src/styles/index.css */#app &#123; max-width: 1280px; margin: 0 auto; padding: 0.5rem; font-weight: normal;&#125;html &#123; line-height: 1.2;&#125;body &#123; background-color: rgba(194, 194, 194, 0.131); font-family: &#x27;KaiTi&#x27;, &#x27;æ¥·ä½“&#x27;, &#x27;STKaiti&#x27;, &#x27;SimSun&#x27;, &#x27;é»‘ä½“&#x27;, &#x27;Heiti SC&#x27;, &#x27;Arial&#x27;, sans-serif; color: #3e3e3e; margin: 0; padding: 0; box-sizing: border-box;&#125;h1, h2, h3, h4, h5, h6 &#123; color: #222; font-family: &#x27;KaiTi&#x27;, &#x27;æ¥·ä½“&#x27;;&#125; é…ç½®è·¯ç”±1234567891011121314151617181920212223242526272829303132import &#123; createRouter, createWebHashHistory &#125; from &#x27;vue-router&#x27;import indexRoutes from &#x27;./routes&#x27;const router = createRouter(&#123; history: createWebHashHistory(), routes: [ &#123; path: &#x27;/&#x27;, redirect: &#x27;/home&#x27;, children: [ &#123; path: &#x27;/home&#x27;, name: &#x27;Home&#x27;, component: () =&gt; import(&#x27;@/views/Home/HomeView.vue&#x27;) &#125;, &#123; path: &#x27;/user&#x27;, name: &#x27;User&#x27;, component: () =&gt; import(&#x27;@/views/User/UserView.vue&#x27;) &#125;, &#123; path: &#x27;/notice&#x27;, name: &#x27;Notice&#x27;, component: () =&gt; import(&#x27;@/views/Notice/NoticeView.vue&#x27;) &#125; ] &#125;, ...indexRoutes //åŸºç¡€åŠŸèƒ½é¡µé¢ ]&#125;)export default router å…¶ä»–è·¯ç”± 1234567891011121314151617181920212223242526272829303132333435/* indexRoutes.ts */const routes = [ &#123; path: &#x27;/campusservice&#x27;, name: &#x27;CampusService&#x27;, component: () =&gt; import(&#x27;@/views/CampusService/CampusService.vue&#x27;) &#125;, &#123; path: &#x27;/loveumbrella&#x27;, name: &#x27;LoveUmbrella&#x27;, component: () =&gt; import(&#x27;@/views/LoveUmbrella/LoveUmbrella.vue&#x27;) &#125;, &#123; path: &#x27;/activities&#x27;, name: &#x27;Activities&#x27;, component: () =&gt; import(&#x27;@/views/Activities/Activities.vue&#x27;) &#125;, &#123; path: &#x27;/signup&#x27;, name: &#x27;SignUp&#x27;, component: () =&gt; import(&#x27;@/views/SignUp/SignUp.vue&#x27;) &#125;, &#123; path: &#x27;/aboutus&#x27;, name: &#x27;AboutUs&#x27;, component: () =&gt; import(&#x27;@/views/AboutUs/AboutUs.vue&#x27;) &#125;, &#123; path: &#x27;/feedback&#x27;, name: &#x27;Feedback&#x27;, component: () =&gt; import(&#x27;@/views/Feedback/Feedback.vue&#x27;) &#125;]export default routes é…ç½®é˜¿é‡Œå›¾æ ‡ åœ¨é˜¿é‡Œå›¾æ ‡å®˜ç½‘åˆ›å»ºé¡¹ç›®ï¼Œå¹¶å°†é€‰å¥½çš„å›¾æ ‡ä¿å­˜åˆ°é¡¹ç›®ä¸­ï¼Œå†å°†é¡¹ç›®ä¸‹è½½ä¸‹æ¥ æŠŠä¸‹è½½çš„é¡¹ç›®ä¸­çš„æ–‡ä»¶ï¼ˆé™¤äº†demo.csså’Œdemo_index.htmlæ–‡ä»¶ï¼‰ä¿å­˜è‡³è¯¥é¡¹ç›®ä¸­ åœ¨main.tsä¸­å¯¼å…¥iconfont.cssæ–‡ä»¶ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨icon=&quot; icon-great-activities&quot; icon-prefix=&quot;iconfont&quot;ã€éœ€è¦æ³¨æ„çš„æ˜¯å›¾æ ‡ç±»åå‰å¿…é¡»åŠ ä¸€ä¸ªç©ºæ ¼ã€‘ App.vue12345678910111213141516171819202122232425262728293031323334&lt;script setup lang=&quot;ts&quot;&gt;const route = useRoute()&lt;/script&gt;&lt;template&gt; &lt;div class=&quot;layout&quot;&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;van-tabbar route v-if=&quot;[&#x27;/&#x27;, &#x27;/home&#x27;, &#x27;/notice&#x27;, &#x27;/user&#x27;].includes(route.path)&quot; active-color=&quot;#1989fa&quot; inactive-color=&quot;#000&quot; placeholder &gt; &lt;van-tabbar-item replace to=&quot;/home&quot; icon=&quot;home-o&quot;&gt; é¦–é¡µ &lt;/van-tabbar-item&gt; &lt;!-- è¿™é‡Œçš„`dot`çº¢ç‚¹é€šè¿‡åˆ¤æ–­æ˜¯å¦æœ‰æ–°æ›´æ–°çš„é€šçŸ¥æ¥æ§åˆ¶ --&gt; &lt;van-tabbar-item replace to=&quot;/notice&quot; icon=&quot;chat-o&quot; :dot=&quot;false&quot;&gt; é€šçŸ¥ &lt;/van-tabbar-item&gt; &lt;van-tabbar-item replace to=&quot;/user&quot; icon=&quot;user-o&quot;&gt; ä¸ªäººä¸­å¿ƒ &lt;/van-tabbar-item&gt; &lt;/van-tabbar&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;.van-tabbar-item &#123; background-color: rgb(255, 255, 255);&#125;&lt;/style&gt; é¦–é¡µ123456789101112131415161718192021&lt;script setup lang=&quot;ts&quot;&gt;// å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ–‡æœ¬å˜é‡ï¼Œéœ€è¦é€šè¿‡åç«¯æ¥æ§åˆ¶æ–‡æœ¬å†…å®¹ï¼Œç»„ä»¶æŒ‚è½½ï¼ˆonMountedï¼‰æ—¶axioså‘è¯·æ±‚const notification = ref&lt;string&gt;(&#x27;å†…å®¹å¾…ç®¡ç†å‘˜æ›´æ–°...&#x27;)&lt;/script&gt;&lt;template&gt; &lt;div class=&quot;home-layout&quot;&gt; &lt;!-- è½®æ’­å›¾ --&gt; &lt;HomeSwipe /&gt; &lt;!-- å°å…¬å‘Š --&gt; &lt;HomeNoticeBar :notification=&quot;notification&quot; /&gt; &lt;!-- é˜Ÿå¾½é˜Ÿå --&gt; &lt;HomeTeamName /&gt; &lt;!-- åŠŸèƒ½è¡¨ --&gt; &lt;HomeGrid /&gt; &lt;!-- åº•çº¿ --&gt; &lt;Divider dividerText=&quot;æš‚æ—¶æ²¡æœ‰æ›´å¤šåŠŸèƒ½&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt; é¦–é¡µ-è½®æ’­å›¾ å›¾ç‰‡æ›´æ–°éœ€è¦æ”¹æˆåç«¯æ›´æ–°å›¾ç‰‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899/* components/HomeSwipe/index.vue */&lt;script setup lang=&quot;ts&quot;&gt;// éœ€è¦æ”¹æˆåç«¯è°ƒç”¨æ›´æ–°å›¾ç‰‡const SwipeImages = reactive([ &#123; imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/duiqi.jpg&#x27;, index: 0 &#125;, &#123; imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/1681282717068.jpeg&#x27;, index: 1 &#125;, &#123; imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/1681282717071.jpeg&#x27;, index: 2 &#125;, &#123; imgUrl: &#x27;https://olrando.oss-cn-chengdu.aliyuncs.com/img/1681282717075.jpeg&#x27;, index: 3 &#125;])&lt;/script&gt;&lt;template&gt; &lt;div class=&quot;swipe-container&quot;&gt; &lt;!-- è½®æ’­å›¾ä¸Šå±‚éƒ¨åˆ† --&gt; &lt;div class=&quot;foreground&quot;&gt; &lt;van-swipe loop class=&quot;my-swipe-fore&quot; :autoplay=&quot;3000&quot; indicator-color=&quot;#1989fa&quot; :touchable=&quot;false&quot; &gt; &lt;van-swipe-item v-for=&quot;item in SwipeImages&quot; :key=&quot;item.index&quot;&gt; &lt;img :src=&quot;item.imgUrl&quot; /&gt; &lt;/van-swipe-item&gt; &lt;/van-swipe&gt; &lt;/div&gt; &lt;!-- è½®æ’­å›¾ä¸‹å±‚éƒ¨åˆ† --&gt; &lt;div class=&quot;background&quot;&gt; &lt;van-swipe loop class=&quot;my-swipe-back&quot; :autoplay=&quot;3000&quot; :touchable=&quot;false&quot;&gt; &lt;van-swipe-item v-for=&quot;item in SwipeImages&quot; :key=&quot;item.index&quot;&gt; &lt;img :src=&quot;item.imgUrl&quot; /&gt; &lt;/van-swipe-item&gt; &lt;/van-swipe&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;.swipe-container &#123; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; border-radius: 20px 20px 20px 20px;&#125;.foreground &#123; z-index: 1;&#125;.my-swipe-fore &#123; border-radius: 20px 20px 20px 20px; height: 210px; width: 330px; margin: 20px 0px 20px 0px; box-shadow: 2px 2px 20px #3b2e32; border: transparent;&#125;.my-swipe-fore .van-swipe-item img &#123; width: 100%; height: 100%; border-radius: 20px 20px 20px 20px;&#125;.background &#123; z-index: 0; filter: blur(4px); opacity: 0.8; position: absolute;&#125;.my-swipe-back &#123; border-radius: 20px 20px 20px 20px; height: 240px; width: 365px;&#125;.my-swipe-back .van-swipe-item img &#123; width: 100%; height: 100%; border-radius: 20px 20px 20px 20px;&#125;&lt;/style&gt; é¦–é¡µ-å°é€šçŸ¥12345678910111213141516171819202122/* components/HomeNoticeBar/index.vue */&lt;script setup lang=&quot;ts&quot;&gt;// ä½¿ç”¨ç±»å‹å£°æ˜æ¥å®šä¹‰ Props ç±»å‹interface Props &#123; text?: string // è®© text æˆä¸ºå¯é€‰çš„&#125;// ä½¿ç”¨ defineProps æ¥å®šä¹‰ç»„ä»¶çš„ PropsdefineProps&lt;Props&gt;()&lt;/script&gt;&lt;template&gt; &lt;van-notice-bar scrollable left-icon=&quot;volume-o&quot; color=&quot;#1989fa&quot; background=&quot;#ecf9ff&quot; :text=&quot;text || &#x27;æš‚æ—¶æ²¡æœ‰å…¬å‘Šå“¦~&#x27;&quot; /&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt; é¦–é¡µ-é˜Ÿå¾½é˜Ÿå1234567891011121314151617181920212223/* components/HomeTeamName/index.vue */&lt;script setup lang=&quot;ts&quot;&gt;&lt;/script&gt;&lt;template&gt; &lt;div class=&quot;TeamName&quot;&gt; &lt;img src=&quot;@/assets/images/é€æ˜é˜Ÿå¾½.png&quot; alt=&quot;&quot; /&gt; &lt;h3&gt;&quot;å°çº¢å¸½&quot;å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;.TeamName &#123; display: flex; align-items: center; justify-content: center; margin: 5px 0;&#125;.TeamName img &#123; width: 30px; height: 30px;&#125;&lt;/style&gt; é¦–é¡µ-å®«æ ¼123456789101112131415161718192021222324252627282930313233343536373839404142434445/* components/HomeGrid/index.vue */&lt;template&gt; &lt;van-grid icon-size=&quot;30px&quot; :column-num=&quot;2&quot; clickable&gt; &lt;van-grid-item text=&quot;æ ¡å›­æœåŠ¡é€š&quot; icon=&quot; icon-campus-service&quot; icon-prefix=&quot;iconfont&quot; to=&quot;/campusservice&quot; /&gt; &lt;van-grid-item text=&quot;çˆ±å¿ƒé›¨ä¼&quot; icon=&quot; icon-love-umbrella&quot; icon-prefix=&quot;iconfont&quot; to=&quot;/loveumbrella&quot; /&gt; &lt;van-grid-item text=&quot;æœåŠ¡é˜Ÿæ´»åŠ¨é£é‡‡&quot; icon=&quot; icon-great-activities&quot; icon-prefix=&quot;iconfont&quot; to=&quot;/activities&quot; /&gt; &lt;van-grid-item text=&quot;å¿—æ„¿æ´»åŠ¨æŠ¥å&quot; icon=&quot; icon-signup-activities&quot; icon-prefix=&quot;iconfont&quot; to=&quot;/signup&quot; /&gt; &lt;van-grid-item text=&quot;å…³äºé’é˜Ÿ&quot; icon=&quot; icon-about-us&quot; icon-prefix=&quot;iconfont&quot; to=&quot;/aboutus&quot; /&gt; &lt;van-grid-item text=&quot;ç”¨æˆ·æ„è§åé¦ˆ&quot; icon=&quot; icon-feedback&quot; icon-prefix=&quot;iconfont&quot; to=&quot;/feedback&quot; /&gt; &lt;/van-grid&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; åº•çº¿1234567891011121314151617181920212223/* components/Divider/index.vue */&lt;script setup lang=&quot;ts&quot;&gt;// ä½¿ç”¨ç±»å‹å£°æ˜æ¥å®šä¹‰ Props ç±»å‹interface Props &#123; dividerText?: string // è®© dividerText æˆä¸ºå¯é€‰çš„&#125;// ä½¿ç”¨ defineProps æ¥å®šä¹‰ç»„ä»¶çš„ PropsdefineProps&lt;Props&gt;()&lt;/script&gt;&lt;template&gt; &lt;van-divider class=&quot;divider&quot;&gt; &#123;&#123; dividerText &#125;&#125; &lt;/van-divider&gt;&lt;/template&gt;&lt;style scoped&gt;.divider &#123; margin: 20px 0px 20px 0px; padding: 0px 10px 0px 10px;&#125;&lt;/style&gt; ç”¨æˆ·é—®é¢˜åé¦ˆé¡µé¢123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120&lt;script setup lang=&quot;ts&quot;&gt;// é€šçŸ¥æ¶ˆæ¯const notification = ref&lt;string&gt;( &#x27;ä¸ºäº†æ›´å¥½åœ°æå‡æˆ‘ä»¬çš„æœåŠ¡è´¨é‡ï¼Œæˆ‘ä»¬è¯šæŒšé‚€è¯·æ‚¨æä¾›å®è´µçš„æ„è§å’Œå»ºè®®&#x27;)// è¡¨å•æ•°æ®const isAnonymous = ref&lt;boolean&gt;(false) // æ§åˆ¶æ˜¯å¦åŒ¿åconst username = ref&lt;string&gt;(&#x27;&#x27;)const phone = ref&lt;string&gt;(&#x27;&#x27;)const studentId = ref&lt;string&gt;(&#x27;&#x27;)const message = ref&lt;string&gt;(&#x27;&#x27;)// éªŒè¯è§„åˆ™const rules = &#123; username: [ &#123; required: !isAnonymous.value, message: &#x27;å§“åä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125; ], phone: [ &#123; required: false &#125;, &#123; pattern: /^1[3-9]\\d&#123;9&#125;$/, message: &#x27;æ‰‹æœºå·æ ¼å¼é”™è¯¯&#x27;, trigger: &#x27;onBlur&#x27; &#125; ], studentId: [ &#123; required: !isAnonymous.value, message: &#x27;å­¦å·ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;, &#123; pattern: /^\\d&#123;8,12&#125;$/, message: &#x27;å­¦å·æ ¼å¼ä¸æ­£ç¡®&#x27;, trigger: &#x27;onBlur&#x27; &#125; // å­¦å·å‡è®¾ä¸º8åˆ°12ä½æ•°å­— ], message: [&#123; required: true, message: &#x27;åé¦ˆå†…å®¹ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;]&#125;// æäº¤å¤„ç†const onSubmit = () =&gt; &#123; // æäº¤è¡¨å•é€»è¾‘ if (isAnonymous.value) &#123; console.log(&#x27;åŒ¿åæäº¤åé¦ˆ&#x27;) &#125; else &#123; console.log(&#x27;å®åæäº¤åé¦ˆ&#x27;) &#125; showToast(&#x27;æäº¤æˆåŠŸ&#x27;)&#125;// ç›‘å¬åŒ¿åå¼€å…³çŠ¶æ€å˜åŒ–ï¼Œå®æ—¶æ›´æ–°éªŒè¯è§„åˆ™watch(isAnonymous, (newVal) =&gt; &#123; rules.username[0].required = !newVal rules.studentId[0].required = !newVal&#125;)&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;!-- å°å…¬å‘Š --&gt; &lt;HomeNoticeBar :notification=&quot;notification&quot; /&gt; &lt;!-- é˜Ÿå¾½é˜Ÿå --&gt; &lt;HomeTeamName /&gt; &lt;van-form @submit=&quot;onSubmit&quot;&gt; &lt;van-cell-group inset&gt; &lt;!-- å§“å --&gt; &lt;van-field v-model=&quot;username&quot; :rules=&quot;rules.username&quot; :required=&quot;rules.username[0].required&quot; label=&quot;å§“å&quot; placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å§“å&quot; v-if=&quot;!isAnonymous&quot; /&gt; &lt;!-- å­¦å· --&gt; &lt;van-field v-model=&quot;studentId&quot; :rules=&quot;rules.studentId&quot; :required=&quot;rules.studentId[0].required&quot; label=&quot;å­¦å·&quot; placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å­¦å·&quot; v-if=&quot;!isAnonymous&quot; /&gt; &lt;!-- æ‰‹æœºå· --&gt; &lt;van-field v-model=&quot;phone&quot; :rules=&quot;rules.phone&quot; :required=&quot;rules.phone[0].required&quot; label=&quot;æ‰‹æœºå·&quot; placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·&quot; v-if=&quot;!isAnonymous&quot; /&gt; &lt;!-- åé¦ˆå†…å®¹ --&gt; &lt;van-field v-model=&quot;message&quot; :rules=&quot;rules.message&quot; :required=&quot;rules.message[0].required&quot; rows=&quot;2&quot; autosize label=&quot;åé¦ˆå†…å®¹&quot; type=&quot;textarea&quot; maxlength=&quot;1000&quot; placeholder=&quot;è¯·è¾“å…¥åé¦ˆå†…å®¹&quot; show-word-limit /&gt; &lt;van-field name=&quot;switch&quot; label=&quot;åŒ¿åæäº¤&quot;&gt; &lt;template #input&gt; &lt;van-switch v-model=&quot;isAnonymous&quot; /&gt; &lt;/template&gt; &lt;/van-field&gt; &lt;/van-cell-group&gt; &lt;div style=&quot;margin: 16px&quot;&gt; &lt;van-button round block type=&quot;primary&quot; native-type=&quot;submit&quot;&gt; æäº¤ &lt;/van-button&gt; &lt;/div&gt; &lt;/van-form&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt; ä¸ªäººèµ„æ–™é¡µé¢123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153&lt;script setup lang=&quot;ts&quot;&gt;// ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯const userInfo = ref(&#123; avatar: &#x27;&#x27;, // ç”¨æˆ·å¤´åƒ username: &#x27;ç”¨æˆ·å&#x27;, realName: &#x27;å¼ ä¸‰&#x27;, // çœŸå®å§“åï¼Œä¸èƒ½ä¿®æ”¹ studentId: &#x27;20230001&#x27;, // å­¦å·ï¼Œä¸èƒ½ä¿®æ”¹ phone: &#x27;12345678901&#x27;, email: &#x27;example@example.com&#x27;, bio: &#x27;è¿™æ˜¯æˆ‘çš„ä¸ªäººç®€ä»‹ã€‚&#x27;, gender: 0 // æ€§åˆ«ï¼š0 = ä¸å¡«å†™ï¼Œ1 = ç”·ï¼Œ2 = å¥³&#125;)const isEditing = ref(false) // æ ‡è®°æ˜¯å¦å¤„äºç¼–è¾‘æ¨¡å¼// è¿›å…¥ç¼–è¾‘æ¨¡å¼const startEditing = () =&gt; &#123; isEditing.value = true&#125;// æäº¤ä¿®æ”¹const saveChanges = () =&gt; &#123; isEditing.value = false&#125;// ä¸Šä¼ å¤´åƒconst uploadAvatar = (e: Event) =&gt; &#123; const file = (e.target as HTMLInputElement).files?.[0] if (file) &#123; userInfo.value.avatar = URL.createObjectURL(file) showToast(&#x27;å¤´åƒä¸Šä¼ æˆåŠŸ&#x27;) &#125;&#125;&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;van-nav-bar title=&quot;ä¸ªäººèµ„æ–™&quot; fixed placeholder /&gt; &lt;!-- å¤´åƒéƒ¨åˆ† --&gt; &lt;div style=&quot;text-align: center; margin: 20px 0&quot;&gt; &lt;label for=&quot;avatar-upload&quot; style=&quot;cursor: pointer&quot;&gt; &lt;img :src=&quot;userInfo.avatar || &#x27;https://via.placeholder.com/80&#x27;&quot; alt=&quot;avatar&quot; style=&quot;width: 80px; height: 80px; border-radius: 50%&quot; /&gt; &lt;/label&gt; &lt;!-- å½“å¤„äºç¼–è¾‘æ¨¡å¼æ—¶æ‰æ˜¾ç¤ºæç¤º --&gt; &lt;p v-if=&quot;isEditing&quot;&gt;ç‚¹å‡»å¤´åƒä¿®æ”¹&lt;/p&gt; &lt;input :disabled=&quot;!isEditing&quot; id=&quot;avatar-upload&quot; type=&quot;file&quot; accept=&quot;image/*&quot; style=&quot;display: none&quot; @change=&quot;uploadAvatar&quot; /&gt; &lt;/div&gt; &lt;!-- ä¸ªäººä¿¡æ¯éƒ¨åˆ† --&gt; &lt;van-cell-group&gt; &lt;!-- ç”¨æˆ·å --&gt; &lt;van-field v-model=&quot;userInfo.username&quot; label=&quot;ç”¨æˆ·å&quot; :disabled=&quot;!isEditing&quot; :input-align=&quot;&#x27;left&#x27;&quot; /&gt; &lt;!-- çœŸå®å§“åï¼ˆä¸å¯ä¿®æ”¹ï¼‰ --&gt; &lt;van-field v-model=&quot;userInfo.realName&quot; label=&quot;çœŸå®å§“å&quot; :disabled=&quot;true&quot; :input-align=&quot;&#x27;left&#x27;&quot; :class=&quot;isEditing ? &#x27;disabled-field&#x27; : &#x27;&#x27;&quot; /&gt; &lt;!-- å­¦å·ï¼ˆä¸å¯ä¿®æ”¹ï¼‰ --&gt; &lt;van-field v-model=&quot;userInfo.studentId&quot; label=&quot;å­¦å·&quot; :disabled=&quot;true&quot; :input-align=&quot;&#x27;left&#x27;&quot; :class=&quot;isEditing ? &#x27;disabled-field&#x27; : &#x27;&#x27;&quot; /&gt; &lt;!-- æ‰‹æœºå· --&gt; &lt;van-field v-model=&quot;userInfo.phone&quot; label=&quot;æ‰‹æœºå·&quot; :disabled=&quot;!isEditing&quot; :input-align=&quot;&#x27;left&#x27;&quot; /&gt; &lt;!-- é‚®ç®± --&gt; &lt;van-field v-model=&quot;userInfo.email&quot; label=&quot;é‚®ç®±&quot; :disabled=&quot;!isEditing&quot; :input-align=&quot;&#x27;left&#x27;&quot; /&gt; &lt;!-- æ€§åˆ« --&gt; &lt;van-field label=&quot;æ€§åˆ«&quot; :disabled=&quot;!isEditing&quot; :input-align=&quot;&#x27;left&#x27;&quot;&gt; &lt;template #input&gt; &lt;van-radio-group :disabled=&quot;!isEditing&quot; v-model=&quot;userInfo.gender&quot; direction=&quot;horizontal&quot; &gt; &lt;van-radio name=&quot;1&quot;&gt;ç”·&lt;/van-radio&gt; &lt;van-radio name=&quot;2&quot;&gt;å¥³&lt;/van-radio&gt; &lt;van-radio name=&quot;0&quot;&gt;ä¿å¯†&lt;/van-radio&gt; &lt;/van-radio-group&gt; &lt;/template&gt; &lt;/van-field&gt; &lt;!-- ä¸ªäººç®€ä»‹ --&gt; &lt;van-field v-model=&quot;userInfo.bio&quot; label=&quot;ä¸ªäººç®€ä»‹&quot; type=&quot;textarea&quot; rows=&quot;3&quot; :autosize=&quot;&#123; maxHeight: 100 &#125;&quot; maxlength=&quot;150&quot; placeholder=&quot;è¯·è¾“å…¥ä¸ªäººç®€ä»‹&quot; show-word-limit :disabled=&quot;!isEditing&quot; /&gt; &lt;/van-cell-group&gt; &lt;!-- ç¼–è¾‘æŒ‰é’® --&gt; &lt;div style=&quot;margin: 16px&quot;&gt; &lt;van-button v-if=&quot;!isEditing&quot; type=&quot;primary&quot; block @click=&quot;startEditing&quot;&gt; ä¿®æ”¹ä¸ªäººä¿¡æ¯ &lt;/van-button&gt; &lt;van-button v-else type=&quot;success&quot; block @click=&quot;saveChanges&quot;&gt; ä¿å­˜ä¿®æ”¹ &lt;/van-button&gt; &lt;/div&gt; &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;.disabled-field input &#123; background-color: #f5f5f5; color: #aaa;&#125;&lt;/style&gt; æƒé™ç”³è¯·é¡µé¢123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115&lt;script setup lang=&quot;ts&quot;&gt;// é€šçŸ¥æ¶ˆæ¯const notification = ref&lt;string&gt;( &#x27;ç›®å‰åªæ”¯æŒé’é˜Ÿæˆå‘˜å¯ä»¥ç”³è¯·æƒé™å“¦~åç»­ä¹Ÿä¼šä¸ºæ™®é€šç”¨æˆ·æä¾›æƒé™ç¦åˆ©ï¼&#x27;)// è¡¨å•æ•°æ®const username = ref&lt;string&gt;(&#x27;&#x27;)const studentId = ref&lt;string&gt;(&#x27;&#x27;)const reson = ref&lt;string&gt;(&#x27;&#x27;)const right = ref(&#x27;&#x27;)const showPicker = ref(false)const right_columns = [ &#123; text: &#x27;è¶…çº§ç®¡ç†å‘˜&#x27;, value: &#x27;1&#x27; &#125;, &#123; text: &#x27;ç®¡ç†å‘˜&#x27;, value: &#x27;2&#x27; &#125;]const onConfirm = (&#123; selectedOptions &#125;) =&gt; &#123; right.value = selectedOptions[0]?.text showPicker.value = false&#125;// éªŒè¯è§„åˆ™const rules = &#123; username: [&#123; required: true, message: &#x27;å§“åä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;], studentId: [ &#123; required: true, message: &#x27;å­¦å·ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;, &#123; pattern: /^\\d&#123;8,12&#125;$/, message: &#x27;å­¦å·æ ¼å¼ä¸æ­£ç¡®&#x27;, trigger: &#x27;onBlur&#x27; &#125; // å­¦å·å‡è®¾ä¸º8åˆ°12ä½æ•°å­— ], right: [&#123; required: true, message: &#x27;è¯·é€‰æ‹©è¦ç”³è¯·çš„æƒé™&#x27;, trigger: &#x27;onBlur&#x27; &#125;], reson: [&#123; required: true, message: &#x27;ç”³è¯·åŸå› ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;onBlur&#x27; &#125;]&#125;// æäº¤å¤„ç†const onSubmit = () =&gt; &#123; showToast(&#x27;æäº¤æˆåŠŸ&#x27;)&#125;&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;!-- å°å…¬å‘Š --&gt; &lt;HomeNoticeBar :notification=&quot;notification&quot; /&gt; &lt;!-- é˜Ÿå¾½é˜Ÿå --&gt; &lt;HomeTeamName /&gt; &lt;van-form @submit=&quot;onSubmit&quot;&gt; &lt;van-cell-group inset&gt; &lt;!-- å§“å --&gt; &lt;van-field v-model=&quot;username&quot; :rules=&quot;rules.username&quot; :required=&quot;rules.username[0].required&quot; label=&quot;å§“å&quot; placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å§“å&quot; /&gt; &lt;!-- å­¦å· --&gt; &lt;van-field v-model=&quot;studentId&quot; :rules=&quot;rules.studentId&quot; :required=&quot;rules.studentId[0].required&quot; label=&quot;å­¦å·&quot; placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„å­¦å·&quot; /&gt; &lt;!-- ç”³è¯·æƒé™ --&gt; &lt;van-field v-model=&quot;right&quot; :rules=&quot;rules.right&quot; :required=&quot;rules.right[0].required&quot; is-link readonly name=&quot;picker&quot; label=&quot;é€‰æ‹©å™¨&quot; placeholder=&quot;ç‚¹å‡»é€‰æ‹©æƒé™&quot; @click=&quot;showPicker = true&quot; /&gt; &lt;van-popup v-model:show=&quot;showPicker&quot; position=&quot;top&quot;&gt; &lt;van-picker :columns=&quot;right_columns&quot; @confirm=&quot;onConfirm&quot; @cancel=&quot;showPicker = false&quot; /&gt; &lt;/van-popup&gt; &lt;!-- ç”³è¯·åŸå›  --&gt; &lt;van-field v-model=&quot;reson&quot; :rules=&quot;rules.reson&quot; :required=&quot;rules.reson[0].required&quot; rows=&quot;2&quot; autosize label=&quot;ç”³è¯·åŸå› &quot; type=&quot;textarea&quot; maxlength=&quot;1000&quot; placeholder=&quot;è¯·è¾“å…¥ç”³è¯·åŸå› &quot; show-word-limit /&gt; &lt;/van-cell-group&gt; &lt;div style=&quot;margin: 16px&quot;&gt; &lt;van-button round block type=&quot;primary&quot; native-type=&quot;submit&quot;&gt; æäº¤ &lt;/van-button&gt; &lt;/div&gt; &lt;/van-form&gt; &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt; ä½¿ç”¨æŒ‡å—é¡µé¢12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&lt;script setup lang=&quot;ts&quot;&gt;const activeName = ref&lt;string&gt;(&#x27;1&#x27;)&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;van-nav-bar title=&quot;ä½¿ç”¨æŒ‡å—&quot; fixed placeholder /&gt; &lt;van-collapse v-model=&quot;activeName&quot; accordion&gt; &lt;!-- ç™»å½•è´¦æˆ·æŒ‡å— --&gt; &lt;van-collapse-item title=&quot;æ­¥éª¤ 1: ç™»å½•è´¦æˆ·&quot; name=&quot;1&quot; :title-style=&quot;&#123; color: activeName === &#x27;1&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot; &gt; ä½¿ç”¨æ³¨å†Œæ—¶çš„æ‰‹æœºå·æˆ–é‚®ç®±è¿›è¡Œç™»å½•ï¼Œæœªæ³¨å†Œç”¨æˆ·è¯·å…ˆæ³¨å†Œã€‚ç™»å½•åå¯ä»¥è®¿é—®æ‰€æœ‰åŠŸèƒ½ã€‚ &lt;/van-collapse-item&gt; &lt;!-- æŸ¥çœ‹é€šçŸ¥æŒ‡å— --&gt; &lt;van-collapse-item title=&quot;æ­¥éª¤ 2: æŸ¥çœ‹é€šçŸ¥&quot; name=&quot;2&quot; :title-style=&quot;&#123; color: activeName === &#x27;2&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot; &gt; ç™»å½•åå¯ä»¥åœ¨é€šçŸ¥é¡µé¢æŸ¥çœ‹æœ€æ–°çš„å…¬å‘Šå’Œé€šçŸ¥ï¼Œä¿æŒä¿¡æ¯çš„åŠæ—¶è·å–ã€‚ &lt;/van-collapse-item&gt; &lt;!-- æäº¤åé¦ˆæŒ‡å— --&gt; &lt;van-collapse-item title=&quot;æ­¥éª¤ 3: æäº¤åé¦ˆ&quot; name=&quot;3&quot; :title-style=&quot;&#123; color: activeName === &#x27;3&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot; &gt; åœ¨åé¦ˆé¡µé¢å¡«å†™æ‚¨çš„æ„è§å’Œå»ºè®®ï¼Œæ”¯æŒåŒ¿åæäº¤ï¼Œå¸®åŠ©æˆ‘ä»¬æ”¹è¿›æœåŠ¡ã€‚ &lt;/van-collapse-item&gt; &lt;!-- ä¿®æ”¹ä¸ªäººä¿¡æ¯æŒ‡å— --&gt; &lt;van-collapse-item title=&quot;æ­¥éª¤ 4: ä¿®æ”¹ä¸ªäººä¿¡æ¯&quot; name=&quot;4&quot; :title-style=&quot;&#123; color: activeName === &#x27;4&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot; &gt; æ‚¨å¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒä¿®æ”¹å¤´åƒã€æ˜µç§°å’Œè”ç³»æ–¹å¼ç­‰ä¿¡æ¯ï¼Œä»¥ç¡®ä¿ä¸ªäººèµ„æ–™çš„å‡†ç¡®æ€§ã€‚ &lt;/van-collapse-item&gt; &lt;!-- å¸¸è§é—®é¢˜æŒ‡å— --&gt; &lt;van-collapse-item title=&quot;å¸¸è§é—®é¢˜&quot; name=&quot;5&quot; :title-style=&quot;&#123; color: activeName === &#x27;5&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot; &gt; åœ¨å¸¸è§é—®é¢˜é¡µé¢ï¼Œæˆ‘ä»¬æ•´ç†äº†ä¸€äº›å¸¸è§çš„ä½¿ç”¨ç–‘é—®åŠè§£ç­”ï¼Œä¾›æ‚¨å‚è€ƒã€‚ &lt;/van-collapse-item&gt; &lt;!-- è”ç³»å®¢æœæŒ‡å— --&gt; &lt;van-collapse-item title=&quot;è”ç³»å®¢æœ&quot; name=&quot;6&quot; :title-style=&quot;&#123; color: activeName === &#x27;6&#x27; ? &#x27;#1989fa&#x27; : &#x27;#000&#x27; &#125;&quot; &gt; å¦‚æœé‡åˆ°é—®é¢˜æ— æ³•è§£å†³ï¼Œæ‚¨å¯ä»¥é€šè¿‡è”ç³»å®¢æœåŠŸèƒ½ä¸æˆ‘ä»¬å–å¾—è”ç³»ã€‚ &lt;/van-collapse-item&gt; &lt;/van-collapse&gt; &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt; è®¾ç½®é¡µé¢12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&lt;script setup lang=&quot;ts&quot;&gt;const router = useRouter()// é€€å‡ºç™»å½•å‡½æ•°const logout = () =&gt; &#123; // æ¨¡æ‹Ÿé€€å‡ºç™»å½•é€»è¾‘ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¤„ç†å®é™…çš„é€€å‡ºç™»å½•æ“ä½œ showSuccessToast(&#123; message: &#x27;å·²é€€å‡ºç™»å½•&#x27;, position: &#x27;top&#x27; &#125;) router.push(&#x27;/&#x27;)&#125;// å¤„ç†å…¶ä»–è®¾ç½®é¡¹ç‚¹å‡»äº‹ä»¶const handleSettingClick = (message: string) =&gt; &#123; showToast(&#123; message: message, position: &#x27;top&#x27; &#125;)&#125;&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;van-nav-bar title=&quot;è®¾ç½®&quot; fixed placeholder /&gt; &lt;!-- è®¾ç½®é€‰é¡¹ --&gt; &lt;van-cell-group&gt; &lt;!-- ä¿®æ”¹å¯†ç  --&gt; &lt;van-cell title=&quot;ä¿®æ”¹å¯†ç &quot; is-link @click=&quot;handleSettingClick(&#x27;ä¿®æ”¹å¯†ç åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...&#x27;)&quot; /&gt; &lt;!-- é€šçŸ¥è®¾ç½® --&gt; &lt;van-cell title=&quot;é€šçŸ¥è®¾ç½®&quot; is-link @click=&quot;handleSettingClick(&#x27;é€šçŸ¥è®¾ç½®åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...&#x27;)&quot; /&gt; &lt;!-- éšç§è®¾ç½® --&gt; &lt;van-cell title=&quot;éšç§è®¾ç½®&quot; is-link @click=&quot;handleSettingClick(&#x27;éšç§è®¾ç½®åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...&#x27;)&quot; /&gt; &lt;/van-cell-group&gt; &lt;!-- é€€å‡ºç™»å½•æŒ‰é’® --&gt; &lt;div style=&quot;margin: 16px&quot;&gt; &lt;van-button type=&quot;danger&quot; block @click=&quot;logout&quot;&gt; é€€å‡ºç™»å½• &lt;/van-button&gt; &lt;/div&gt; &lt;Divider dividerText=&quot;äººå·¥æ™ºèƒ½å­¦é™¢ â€œå°çº¢å¸½â€å¸¸é’è—¤é’å¹´å¿—æ„¿è€…æœåŠ¡é˜Ÿ&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt; é—®é¢˜è§£å†³å¯¼å…¥vueæ–‡ä»¶TSæŠ¥é”™é”™è¯¯ä¿¡æ¯æç¤ºï¼š TypeScript æ— æ³•æ‰¾åˆ°æ¨¡å— @/views/**/**.vue çš„å£°æ˜æ–‡ä»¶ï¼Œè¿™æ„å‘³ç€ TypeScript æ— æ³•æ¨æ–­è¯¥æ–‡ä»¶çš„ç±»å‹ï¼Œå› æ­¤é»˜è®¤å°†å…¶è§†ä¸º any ç±»å‹ã€‚ åŸå› ï¼šTypeScript é»˜è®¤ä¸æ”¯æŒ .vue æ–‡ä»¶çš„æ¨¡å—ç±»å‹è§£æï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ç±»å‹å£°æ˜æ–‡ä»¶ã€‚ è§£å†³æ–¹æ³•ï¼š 12345678/* env.d.ts *//// &lt;reference types=&quot;vite/client&quot; /&gt;declare module &#x27;*.vue&#x27; &#123; import type &#123; DefineComponent &#125; from &#x27;vue&#x27; // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/ban-types const component: DefineComponent&lt;&#123;&#125;, &#123;&#125;, any&gt; export default component&#125;","categories":[],"tags":[]},{"title":"","slug":"æš‘å‡å­¦ä¹ ","date":"2024-08-02T06:22:19.784Z","updated":"2024-09-29T13:24:25.924Z","comments":true,"path":"2024/08/02/æš‘å‡å­¦ä¹ /","permalink":"http://eastyn7.github.io/2024/08/02/%E6%9A%91%E5%81%87%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"titleï¼šæš‘å‡å­¦ä¹ TypeScriptJSå·²æœ‰çš„ç±»å‹ åŸå§‹ç±»å‹ï¼šnumber&#x2F;string&#x2F;boolean&#x2F;null&#x2F;undefined&#x2F;symbol å¯¹è±¡ç±»å‹ï¼šobjectï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ç­‰å¯¹è±¡ï¼‰ TSæ–°å¢çš„ç±»å‹ è”åˆç±»å‹ã€è‡ªå®šä¹‰ç±»å‹ï¼ˆç±»å‹åˆ«åï¼‰ã€æ¥å£ã€å…ƒç¥–ã€å­—é¢é‡ç±»å‹ã€æšä¸¾ã€voidã€anyç­‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115// åŸå§‹ç±»å‹let age: number = 18let myName: string = &#x27;eee&#x27;let isLoading: boolean = truelet a: null = nulllet b: undefined = undefinedlet s: symbol = Symbol()// å¯¹è±¡ç±»å‹let numbers: number[] = [1,2,3]let strings: string[] = [&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;]let strings: Array&lt;string&gt; = [&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;]// è”åˆç±»å‹let arr: (number | string)[] = [&#x27;1&#x27;,1,&#x27;2&#x27;,2,&#x27;3&#x27;,3]// ç±»å‹åˆ«åtype CustomArray = (number | string)[]let arr1: CustomArray = [&#x27;1&#x27;,1,&#x27;2&#x27;,2,&#x27;3&#x27;,3]// å‡½æ•°ç±»å‹function add(num1: number, num2: number): number &#123; return num1 + num2&#125;const add = (num1: number, num2: number): number =&gt; &#123; return num1 + num2&#125;const add: (num1: number, num2: number) =&gt; number = (num1, num2) =&gt; &#123; return num1 + num2&#125;function greet(name: string): void &#123; console.log(&#x27;Hello&#x27;, name)&#125;// å¯é€‰å‚æ•°function mySlice(start?: number, end?: number): void &#123; console.log(&#x27;èµ·å§‹ç´¢å¼•ï¼š&#x27;, start, &#x27;ç»“æŸç´¢å¼•ï¼š&#x27;, end)&#125;// å¯¹è±¡ç±»å‹let person: &#123; name: string; age: number; &#125;// æ¥å£interface IPerson &#123; name: string age: number sayHi(): void&#125;let person: IPerson = &#123; name: &#x27;Jack&#x27;, age: 19, sayHi() &#123;&#125;&#125;/*æ¥å£ä¸ç±»å‹åˆ«åçš„å¯¹æ¯”ï¼šç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥ç»™å¯¹è±¡æŒ‡å®šç±»å‹ä¸åŒç‚¹ï¼šæ¥å£åªèƒ½ä¸ºå¯¹è±¡æŒ‡å®šç±»å‹ï¼›ç±»å‹åˆ«åä¸ä»…å¯ä»¥ä¸ºå¯¹è±¡æŒ‡å®šç±»å‹ï¼Œå®é™…ä¸Šå¯ä»¥ä¸ºä»»æ„ç±»å‹æŒ‡å®šåˆ«å*/type IPerson = &#123; name: string age: number sayHi(): void&#125;type NumStr = number |string// æ¥å£çš„ç»§æ‰¿interface Point2D &#123; x: number; y: number &#125;interface Point3D extends Point2D &#123; z: number &#125;// å…ƒç»„let position: [number, number] = [0.11, 0.22]// ç±»å‹æ–­è¨€const aLink: HTMLAnchorElementconst aLink = document.getElementByID(&#x27;link&#x27;) as HTMLAnchorElement// const aLink = &lt;HTMLAnchorElement&gt;document.getELementById(&#x27;link&#x27;)ã€ä¸å¸¸ç”¨ï¼Œè·Ÿreactæœ‰å†²çªã€‘// å­—é¢é‡ç±»å‹let str1 = &#x27;Hello TS&#x27; // stringï¼›letå£°æ˜å˜é‡const str2 = &#x27;Hello TS&#x27; // &quot;Hello TS&quot;ï¼›constå£°æ˜å¸¸é‡// ç”¨æ¥è¡¨ç¤ºä¸€ç»„æ˜ç¡®çš„å¯é€‰å€¼åˆ—è¡¨function changeDirection(directin: &#x27;up&#x27; | &#x27;down&#x27; | &#x27;left&#x27; | &#x27;right&#x27;)&#123; console.log(direction)&#125;// æšä¸¾(enum)enum Direction &#123; Up, Down, Left, Right &#125;function changeDirection(directin: Direction)&#123; console.log(direction)&#125;changeDirection(Direction.Left)/*æšä¸¾æˆå‘˜çš„å€¼é»˜è®¤ç¬¬ä¸€ä¸ªä¸º0ä¾æ¬¡å¢åŠ ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰å€¼ã€é»˜è®¤æ•°å­—ï¼Œä¹Ÿå¯ä»¥ä¸ºå­—ç¬¦ä¸²ã€‘enum Direction &#123; Up = 10, Down, Left, Right &#125;enum Direction &#123; Up = 2, Down = 4, Left = 8, Right = 16 &#125;*/// å­—ç¬¦ä¸²æšä¸¾enum Direction &#123; Up = &#x27;UP&#x27;, Down = &#x27;DOWN&#x27;, Left = &#x27;LEFT&#x27;, Right = &#x27;RIGHT&#x27; &#125;// anyç±»å‹let obj: any = &#123; x: 0 &#125;// typeofconsole.log(typeof &quot;Hello world&quot;)// æ ¹æ®ç±»å‹ä¸Šä¸‹æ–‡æ¥let p = &#123; x: 1, y: 2 &#125;function formatPoint(point: &#123; x: number; y: number&#125;)&#123;&#125;formatPoint(p)function formatPoint(point: typeof p) TSé«˜çº§ç±»å‹ classç±»ã€ç±»å‹å…¼å®¹æ€§ã€äº¤å‰ç±»å‹ã€æ³›å‹å’Œkeyofã€ç´¢å¼•ç­¾åç±»å‹å’Œç´¢å¼•æŸ¥è¯¢ç±»å‹ã€æ˜ å°„ç±»å‹ç­‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182// classç±»class Person&#123; age: number // gender: &#x27;ç”·&#x27; gender: string x = 10 y = 10 // æ„é€ å‡½æ•° constructor(age: number, gender: string)&#123; this.age = age this.gender = gender &#125; // å®ä¾‹æ–¹æ³• scale(n: number): void &#123; this.x *= n this.y *= n &#125;&#125;const p = new Person()p.age// ç±»ç»§æ‰¿class Animal &#123; move() &#123; console.log(&#x27;Moving along!&#x27;) &#125;&#125;class Dog extends Animal &#123; bark() &#123; console.log(&#x27;wang!&#x27;) &#125;&#125;const dog = new Dog()// æ¥å£interface Singable &#123; sing(): void&#125;class Person implements Singable &#123; sing() &#123; console.log(&#x27;asdfadf&#x27;) &#125;&#125;// ä¿®é¥°ç¬¦publicprotectedprivatereadonlyï¼šè¡¨ç¤ºåªè¯»ï¼Œåªèƒ½è¢«æ„é€ å‡½æ•°è¿›è¡Œèµ‹å€¼// ç±»å‹å…¼å®¹æ€§å¯¹è±¡å…¼å®¹ï¼šæˆå‘˜å¤šçš„èµ‹å€¼ç»™æˆå‘˜å°‘çš„æ¥å£å…¼å®¹ï¼šå¤šçš„èµ‹å€¼ç»™å°‘çš„å‡½æ•°å…¼å®¹ï¼šå‚æ•°ä¸ªæ•°å°‘çš„èµ‹å€¼ç»™å‚æ•°ä¸ªæ•°å¤šçš„ï¼›å‚æ•°ç±»å‹å¯¹åº”ä¸€è‡´ï¼›è¿”å›å€¼å¤šçš„èµ‹å€¼ç»™å°‘çš„// äº¤å‰ç±»å‹ï¼ˆ&amp;ï¼‰interface Person &#123; name: string &#125;interface Contact &#123; phone: string &#125;type PersonDetail = Person &amp; Contactlet obj = PersonDetail = &#123; name: &#x27;Jack&#x27;, phone: &#x27;123...&#x27;&#125;/*äº¤å‰ç±»å‹å’Œæ¥å£ç»§æ‰¿çš„å¯¹æ¯”ç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥å®ç°å¯¹è±¡ç±»å‹çš„ç»„åˆä¸åŒç‚¹ï¼šä¸¤ç§æ–¹å¼å®ç°ç±»å‹ç»„åˆæ—¶ï¼Œå¯¹äºåŒåå±æ€§ä¹‹é—´ï¼Œå¤„ç†ç±»å‹å†²çªçš„æ–¹å¼ä¸åŒã€‚ç»§æ‰¿ä¼šæŠ¥é”™ä½†æ˜¯äº¤å‰ç±»å‹ä¸ä¼šinterface A &#123; fn: (value: number) =&gt; string&#125;interface B extends A &#123; fn: (value: string) =&gt; string&#125;è¿™é‡Œæ˜¯é”™è¯¯çš„interface A &#123; fn: (value: number) =&gt; string&#125;interface B &#123; fn: (value: string) =&gt; string&#125;type C = A &amp; B ç›¸å½“äº åœ¨Cä¸­fn: (value: string | number) =&gt; string*/// æ³›å‹function id&lt;Type&gt;(value: Type): Type &#123; return value &#125;const num = id&lt;number&gt;(10) // æ­¤æ—¶numçš„ç±»å‹å³ä¸ºnumberconst str = id&lt;string&gt;(&#x27;str&#x27;) // æ­¤æ—¶strçš„ç±»å‹å³ä¸ºstringlet num = id(10) // å¯ä»¥ç®€åŒ–ä¸ç”¨å†™&lt;&gt;ï¼Œä¼šæ¨æ–­ä¸ºå­—é¢é‡ç±»å‹// æ³›å‹çº¦æŸ/*æŒ‡å®šæ›´åŠ å…·ä½“çš„ç±»å‹*/function id&lt;Type&gt;(value: Type[]): Type[] &#123; console.log(value.length) return value&#125;/*æ·»åŠ çº¦æŸ*//*åªè¦æœ‰lengthå±æ€§å°±å¯ä»¥*/interface ILength &#123; length: number &#125;function id&lt;Type extedns ILength&gt;(value: Type): Type &#123; console.log(value.length) return value&#125;// å¤šä¸ªæ³›å‹å˜é‡çš„æƒ…å†µfunction getProp&lt;Type, Key extends keyof Type&gt;(obj: Type, key: Key)&#123; return obj[key]&#125;let person = &#123; name: &#x27;Jack&#x27;, age: 18 &#125;getProp(person, &#x27;name&#x27;)// æ³›å‹æ¥å£interface IdFunc&lt;Type&gt; &#123; id: (value: Type) =&gt; Type ids: () =&gt; Type[]&#125;let obj: IdFunc&lt;number&gt; &#123; id(value) &#123; return value &#125;, ids() &#123; return [1, 3, 5] &#125;&#125;// æ³›å‹ç±»class GenericNumber&lt;NumType&gt; &#123; defaultValue: NumType add: (x: NumType, y: NumType) =&gt; NumType&#125;const myNum = new GenericNumber&lt;number&gt;()// æ³›å‹å·¥å…·ç±»å‹ï¼ˆPartialï¼‰/*æ„é€ å‡ºæ¥çš„æ–°ç±»å‹PartialPropsç»“æ„å’ŒPropsç›¸åŒï¼Œä½†æ‰€æœ‰å±æ€§éƒ½å˜ä¸ºæ˜¯å¯é€‰çš„*/interface Props &#123; id: string children: number[]&#125;type PartialProps = Partial&lt;Props&gt;// æ³›å‹å·¥å…·ç±»å‹ï¼ˆReadonlyï¼‰/*æ„é€ ä¸€ä¸ªæ‰€æœ‰å±æ€§ä¸ºåªè¯»çš„ç±»å‹*/interface Props &#123; id: string children: number[]&#125;type ReadonlyProps = Readonly&lt;Props&gt;// æ³›å‹å·¥å…·ç±»å‹ï¼ˆPickï¼‰/*Pick&lt;Type,Keys&gt;ä»Typeä¸­é€‰æ‹©ä¸€ç»„å±æ€§æ¥æ„é€ æ–°ç±»å‹*/interface Props &#123; id: string title: string children: number[]&#125;type PickProps = Pick&lt;Props, &#x27;id&#x27; | &#x27;title&#x27;&gt;// æ³›å‹å·¥å…·ç±»å‹ï¼ˆRecordï¼‰/*Record&lt;Keys,Type&gt;æ„é€ ä¸€ä¸ªæ–°å¯¹è±¡ç±»å‹ï¼Œå±æ€§é”®ä¸ºKeysï¼Œå±æ€§ç±»å‹ä¸ºType*/type RecordObj = Record&lt;&#x27;a&#x27; | &#x27;b&#x27; | &#x27;c&#x27;, string[]&gt;let obj: RecordObj = &#123; a: [&#x27;1&#x27;], b: [&#x27;2&#x27;], c: [&#x27;3&#x27;]&#125;// ç´¢å¼•ç­¾åç±»å‹interface AnyObject &#123; [key: steing]: number&#125;let obj: AnyObject = &#123; a: 1, b: 2&#125; // æ˜ å°„ç±»å‹/*åŸºäºæ—§ç±»å‹åˆ›å»ºæ–°ç±»å‹ï¼Œåªèƒ½åœ¨ç±»å‹åˆ«åä¸­ä½¿ç”¨*/type PropKeys = &#x27;x&#x27; | &#x27;y&#x27; | &#x27;z&#x27;type Type = &#123; [Key in PropKeys]: number &#125;type Props = &#123; a: number; b: string; c: boolean &#125;type Type = &#123; [Key in keyof Props]: number &#125;// ç´¢å¼•æŸ¥è¯¢ç±»å‹/*T[P]è¯­æ³•ç”¨æ¥æŸ¥è¯¢å±æ€§çš„ç±»å‹*/type Props = &#123; a: number; b: string; c: boolean &#125;type TypeA = Props[&#x27;a&#x27;]//numbertype TypeA = Props[&#x27;a&#x27; | &#x27;b&#x27;]//number|stringtype TypeA = Props[keyof Props]//number|string|boolean TSä¸­çš„æ–‡ä»¶ç±»å‹ .tsæ–‡ä»¶ æ—¢åŒ…å«ç±»å‹ä¿¡æ¯åˆå¯æ‰§è¡Œä»£ç  å¯ä»¥è¢«ç¼–è¯‘ä¸º.jsæ–‡ä»¶ç„¶åæ‰§è¡Œ ç”¨é€”ï¼šç¼–å†™ç¨‹åºä»£ç çš„åœ°æ–¹ .d.tsæ–‡ä»¶ï¼ˆç±»ä¼¼äºC++ä¸­çš„å¤´æ–‡ä»¶ï¼‰ åªåŒ…å«ç±»å‹ä¿¡æ¯çš„ç±»å‹å£°æ˜æ–‡ä»¶ ä¸ä¼šç”Ÿæˆ.jsæ–‡ä»¶ï¼Œä»…ç”¨äºæä¾›ç±»å‹ä¿¡æ¯ ç”¨é€”ï¼šä¸ºjsæä¾›ç±»å‹ä¿¡æ¯ //ä¸ºjsæ–‡ä»¶æä¾›ç±»å‹å£°æ˜ /* åœ¨jsæ–‡ä»¶ä¸­å·²å­˜åœ¨å¦‚ä¸‹çš„å†…å®¹ let count = 10 let songName = &#39;ç—´å¿ƒç»å¯¹&#39; let position = &#123; x: 0, y: 0 &#125; function add(x,y) &#123; retrun x+y &#125; function changeDirection(direction)&#123; console.log(direction) &#125; const fomartPoint = point =&gt; &#123; console.log(&#39;å½“å‰åæ ‡:&#39;, point) &#125; export &#123;count, songName, position, add, changeDirection&#125; */ declare let count: number declare let someName: string interface Point &#123; x: number y: number &#125; declare let positon: Point declare function add(x: mumber, y: number): number declare function changeDirection(direction: &#39;up&#39;|&#39;down&#39;|&#39;left&#39;|&#39;right&#39;):void type FomartPoint = (point: Point) =&gt; void declare const fomartPoint: FomartPoint // declare const fomartPoint: (point: Point) =&gt; void export &#123;count, songName, position, add, changeDirection&#125; SSMSpring1.Spring Frameworkç³»ç»Ÿæ¶æ„ Core Container : æ ¸å¿ƒå®¹å™¨ AOP : é¢å‘åˆ‡é¢ç¼–ç¨‹ Aspects : AOPæ€æƒ³å®ç° Data Access : æ•°æ®è®¿é—® Data Integration : æ•°æ®é›†æˆ Web : Webå¼€å‘ Test : å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯• IoCï¼ˆInversion of Controlï¼‰æ§åˆ¶åè½¬ï¼šä½¿ç”¨å¯¹è±¡äº‹ï¼Œç”±ä¸»åŠ¨newäº§ç”Ÿå¯¹è±¡è½¬æ¢ä¸ºç”±å¤–éƒ¨æä¾›å¯¹è±¡ï¼Œæ­¤è¿‡ç¨‹ä¸­å¯¹è±¡åˆ›å»ºæ§åˆ¶æƒç”±ç¨‹åºè½¬ç§»åˆ°å¤–éƒ¨ï¼Œæ­¤æ€æƒ³ç§°ä¸ºæ§åˆ¶åè½¬ Springæä¾›äº†ä¸€ä¸ªå®¹å™¨ï¼Œç§°ä¸ºIoCå®¹å™¨ï¼Œç”¨æ¥å……å½“IoCæ€æƒ³ä¸­çš„â€œå¤–éƒ¨â€ IoCå®¹å™¨è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ç­‰ä¸€ç³»åˆ—å·¥ä½œï¼Œè¢«åˆ›å»ºæˆ–è¢«ç®¡ç†çš„å¯¹è±¡åœ¨IoCå®¹å™¨ä¸­ç»Ÿç§°ä¸ºBean DIï¼ˆDependency Injectionï¼‰ä¾èµ–æ³¨å…¥ï¼šåœ¨å®¹å™¨ä¸­å»ºç«‹beanä¸beanä¹‹é—´çš„ä¾èµ–å…³ç³»çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç§°ä¸ºä¾èµ–æ³¨å…¥ 2.bean ç±»åˆ« æè¿° åç§° bean ç±»å‹ æ ‡ç­¾ æ‰€å± beansæ ‡ç­¾ æ ¼å¼ å±æ€§åˆ—è¡¨ idï¼šbeançš„idï¼Œä½¿ç”¨å®¹å™¨å¯ä»¥é€šè¿‡idå€¼è·å–å¯¹åº”çš„beanï¼Œåœ¨ä¸€ä¸ªå®¹å™¨ä¸­idå€¼å”¯ä¸€classï¼šbeançš„ç±»å‹ï¼Œå³é…ç½®çš„beançš„å…¨è·¯å¾„ç±»ånameï¼šbeançš„åˆ«åï¼Œå¯ä»¥æœ‰å¤šåç§°ï¼Œç©ºæ ¼åˆ†å¼€scopeï¼šbeançš„ä½œç”¨èŒƒå›´ï¼Œå¯ä»¥æ§åˆ¶åˆ›å»ºå®ä¾‹çš„æ•°é‡ï¼Œæ˜¯å¦æ˜¯å•ä¾‹çš„å¯¹è±¡ï¼Œå¯é€‰èŒƒå›´ã€singletonï¼ˆå•ä¾‹é»˜è®¤ï¼‰ã€prototypeï¼ˆéå•ä¾‹ï¼‰ã€‘init-methodï¼šbeanåˆå§‹åŒ–æ–¹æ³•destroy-methodï¼šbeançš„é”€æ¯æ–¹æ³• èŒƒä¾‹ å®ä¾‹åŒ– æ„é€ å‡½æ•°ï¼šä½¿ç”¨é™æ€å·¥å‚ï¼šä½¿ç”¨å®ä¾‹å·¥å‚ï¼š ç”Ÿå‘½å‘¨æœŸ é˜¶æ®µï¼š1ã€åˆå§‹åŒ–å®¹å™¨ï¼šâ‘ åˆ›å»ºå¯¹è±¡ï¼ˆå†…å­˜åˆ†é…ï¼‰â‘¡æ‰§è¡Œæ„é€ æ–¹æ³•â‘¢æ‰§è¡Œå±æ€§æ³¨å…¥ï¼ˆsetæ“ä½œï¼‰â‘£æ‰§è¡Œbeanåˆå§‹åŒ–æ–¹æ³•2ã€ä½¿ç”¨beanï¼šâ‘ æ‰§è¡Œä¸šåŠ¡æ“ä½œ3ã€å…³é—­&#x2F;é”€æ¯å®¹å™¨ï¼šâ‘ æ‰§è¡Œbeané”€æ¯æ–¹æ³•pbulic class BookDaoImpl implements BookDao { &#x2F;&#x2F; è¡¨ç¤ºbeanåˆå§‹åŒ–å¯¹åº”çš„æ“ä½œ public void init(){ System.out.println(â€œinitâ€¦â€) } &#x2F;&#x2F; è¡¨ç¤ºbeané”€æ¯å‰å¯¹åº”çš„æ“ä½œ ã€ éœ€è¦å…³é—­å®¹å™¨ï¼š â‘ æ‰‹å·¥å…³é—­å®¹å™¨ï¼šConfigurableApplicationContextæ¥å£close()æ“ä½œ â‘¡æ³¨å†Œå…³é—­é’©å­ï¼Œåœ¨è™šæ‹Ÿæœºé€€å‡ºå‰å…ˆå…³é—­å®¹å™¨å†é€€å‡ºè™šæ‹Ÿæœºï¼šConfigurableApplicationContextæ¥å£registerShutdownHook()æ“ä½œ ã€‘ public void destory{ System.out.println(â€œdestoryâ€¦â€) }}&#x2F;&#x2F; éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€ä¹Ÿå¯ä»¥ä½¿ç”¨æ¥å£æ§åˆ¶ç”Ÿå‘½å‘¨æœŸï¼ŒInitializingBeanï¼ŒDisposableBeanæ¥å£ã€‘ 3.ä¾èµ–æ³¨å…¥ setteræ³¨å…¥ æ„é€ å™¨æ³¨å…¥ è‡ªåŠ¨è£…é…ï¼š æ–¹å¼ï¼šæŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰ã€æŒ‰åç§°ã€æŒ‰æ„é€ æ–¹æ³•ã€ä¸å¯ç”¨è‡ªåŠ¨è£…é… 4.é›†åˆæ³¨å…¥","categories":[],"tags":[]},{"title":"","slug":"expresså…¥é—¨","date":"2024-02-22T08:30:19.690Z","updated":"2024-09-29T13:23:59.417Z","comments":true,"path":"2024/02/22/expresså…¥é—¨/","permalink":"http://eastyn7.github.io/2024/02/22/express%E5%85%A5%E9%97%A8/","excerpt":"","text":"titleï¼šExpresså…¥é—¨expresså…¥é—¨ç®€ä»‹ä½œä¸ºå‰ç«¯å¼€å‘ï¼ŒNodejså·²ç»æˆäº†å¾ˆå¤šå…¬å¸å¯¹æˆ‘ä»¬è¿™ä¸€å²—ä½çš„ç¡¬æ€§è¦æ±‚ï¼Œè€Œ Express æ¡†æ¶åˆ™æ˜¯å…¶ä¸­çŸ¥ååº¦æœ€é«˜ã€ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„Nodejså¼€å‘æ¡†æ¶ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬å°è£…äº†Nodejsåº•å±‚çš„APIï¼Œå±è”½äº†å¤§é‡çš„ç¹ççš„ç»†èŠ‚ï¼Œè®©æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸šåŠ¡å¼€å‘å°±è¡Œäº†ï¼Œæå¤§çš„é™ä½äº†å­¦ä¹ çš„æˆæœ¬ã€‚ä»Šå¤©è¿™ä¸ªè¯¾ç¨‹å°±æ˜¯æ•™å¤§å®¶å»æŒæ¡å¦‚ä½•ä½¿ç”¨expresså»æ­å»ºä¸€ä¸ªç®€æ˜“çš„åç«¯æœåŠ¡ï¼Œæˆ‘ä»¬ä¸»è¦å›´ç»•ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š è·¯ç”± ä¸­é—´ä»¶ é™æ€æ–‡ä»¶æœåŠ¡ æ¨¡æ¿å¼•æ“ ç¯å¢ƒå‡†å¤‡ ç”µè„‘ - mac Node - 16.14.2 Npm - 8.5.0 Express - 4.x ç¬¬ä¸€ä¸ªdemoä½¿ç”¨Nodejså†…ç½®çš„httpæ¨¡å—æ­å»ºæœåŠ¡ä¸ºäº†ä¾¿äºå¤§å®¶å»ç†è§£expresså¯¹nodejsåšäº†å“ªäº›å°è£…ï¼Œåœ¨ä½¿ç”¨expressä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ä½¿ç”¨nodejså†…ç½®çš„httpæ¨¡å—æ˜¯æ€ä¹ˆæ­å»ºnodeæœåŠ¡çš„ã€‚ é¦–å…ˆåˆ›å»ºä¸€ä¸ªexpress-demoçš„æ–‡ä»¶å¤¹å¹¶è¿›å…¥ 1mkdir express-demo &amp;&amp; cd express-demo åˆ›å»ºserver.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 1234567891011const http = require(&#x27;http&#x27;)const server = http.createServer((req, res) =&gt; &#123; res.statusCode = 200 res.setHeader(&#x27;Content-Type&#x27;, &#x27;text/html&#x27;) res.end(&#x27;hello world&#x27;)&#125;)server.listen(3000, () =&gt; &#123; console.log(&#x27;æœåŠ¡å·²å¯åŠ¨...&#x27;);&#125;) ç„¶ååœ¨æ§åˆ¶å°ä¸­è¿è¡Œï¼š 1node server.js ä½¿ç”¨expressæ­å»ºæœåŠ¡æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†ç”¨expressæ­å»ºæœåŠ¡ã€‚ åœ¨ express-demo æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œ npm init å‘½ä»¤ï¼Œç„¶åä¸€è·¯å›è½¦ï¼Œå°±ä¼šå¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ï¼Œç„¶åå†æ‰§è¡Œ npm install express æ¥å®‰è£…expressæ¨¡å—ï¼Œç„¶åæ”¹å†™ server.js ã€‚ 1234567891011const express = require(&#x27;express&#x27;)const app = express()app.get(&#x27;/&#x27;, (req, res) =&gt; &#123; res.send(&#x27;hello world&#x27;)&#125;)app.listen(3000, () =&gt; &#123; console.log(&#x27;æœåŠ¡å·²å¯åŠ¨...&#x27;);&#125;) Requestå’ŒResponseå¯¹è±¡ Requestå¯¹è±¡æ˜¯è¯·æ±‚å¯¹è±¡ï¼Œå°±æ˜¯å›è°ƒå‡½æ•°ä¸­çš„reqå‚æ•°ï¼Œä¸»è¦æ˜¯ç½‘ç»œè¯·æ±‚ä¸­å¸¦çš„ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚å‚æ•°, cookieç­‰ç­‰ã€‚ã€‚ã€‚ Responseå¯¹è±¡æ˜¯å“åº”å¯¹è±¡ï¼Œå°±æ˜¯å›è°ƒå‡½æ•°ä¸­çš„reså‚æ•°ï¼Œå¯ä»¥æ‰§è¡Œä¸€ç³»åˆ—çš„å“åº”æ“ä½œï¼Œæ¯”å¦‚ç»™å®¢æˆ·ç«¯å“åº”å†…å®¹å’ŒçŠ¶æ€ç­‰ç­‰ã€‚ã€‚ã€‚ æŸ¥çœ‹Requestå’ŒResponseå¯¹è±¡çš„æ‰€æœ‰API è·¯ç”±æœºåˆ¶æ€è€ƒï¼šæˆ‘ä»¬åœ¨å‘åç«¯å‘è¯·æ±‚æ—¶é€šè¿‡ä»€ä¹ˆå»åŒºåˆ†æ¥å£çš„ï¼Ÿ ç­”ï¼šè¯·æ±‚æ–¹å¼+æ¥å£url æˆ‘ä»¬åœ¨expressä¸­ï¼Œå®šä¹‰è·¯ç”±çš„æ–¹å¼æ˜¯ï¼š 1app.METHOD(URL, CALLBACK) è¿™ç§æ–¹å¼å°±å¯ä»¥é€šè¿‡è¯·æ±‚æ–¹å¼å’ŒURLæ¥å¸®æˆ‘ä»¬åŒºåˆ†ä¸åŒçš„è¯·æ±‚ï¼Œä»è€Œå»æ‰§è¡Œä¸åŒçš„å“åº”ã€‚ nodemonnodemonèƒ½å¤Ÿæ£€æµ‹å·¥ä½œåŒºä»£ç çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨é‡å¯ã€‚ æ‰§è¡Œ npm install nodemon --save-dev å®‰è£…nodemonï¼Œç„¶åä¿®æ”¹package.jsonæ–‡ä»¶ä¸­çš„startå‘½ä»¤ï¼š 123456789101112131415161718&#123; &quot;name&quot;: &quot;express-demo&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;server.js&quot;, &quot;scripts&quot;: &#123; &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;, &quot;start&quot;: &quot;nodemon server.js&quot; &#125;, &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot;, &quot;dependencies&quot;: &#123; &quot;express&quot;: &quot;^4.18.2&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;nodemon&quot;: &quot;^2.0.20&quot; &#125;&#125; å†æ‰§è¡Œnpm startå¯åŠ¨æœåŠ¡ï¼Œä¹‹åæˆ‘ä»¬å†ä¿®æ”¹ä»£ç å°±ä¸éœ€è¦æ‰‹åŠ¨çš„é‡å¯æœåŠ¡äº†ã€‚ æ ¸å¿ƒæ¦‚å¿µè·¯ç”±åœ¨æµè§ˆå™¨ä¸­æˆ‘ä»¬æƒ³è¦è®¿é—®ç™¾åº¦ï¼Œåªéœ€è¦çŸ¥é“ç™¾åº¦çš„åœ°å€å°±è¡Œäº†ï¼Œè·¯ç”±ä¹Ÿæ˜¯ç±»ä¼¼çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æƒ³è¦çŸ¥é“å®¢æˆ·ç«¯è°ƒç”¨çš„æ˜¯å“ªä¸ªæ¥å£ï¼Œå°±æ˜¯é€šè¿‡è·¯ç”±æ¥åˆ¤æ–­çš„ã€‚ è·¯ç”±æ–¹æ³•Express æ”¯æŒå¯¹åº”äº HTTP æ–¹æ³•çš„ä»¥ä¸‹è·¯ç”±æ–¹æ³•ï¼šgetã€postã€putã€deleteç­‰ç­‰ã€‚ä½¿ç”¨æ–¹æ³•ä¸ºï¼š 1app.METHOD(URL, CALLBACK) ç¤ºä¾‹ï¼š 1234567891011const express = require(&#x27;express&#x27;)const app = express()app.get(&#x27;/&#x27;, (req, res) =&gt; &#123; res.send(&#x27;hello world&#x27;)&#125;)app.post(&#x27;/about&#x27;, (req, res) =&gt; &#123; res.send(&#123; name: &#x27;å°æ˜&#x27;, age: 18 &#125;)&#125;) æœ‰ä¸€ç§ç‰¹æ®Šè·¯ç”±æ–¹æ³•ï¼šapp.all()ï¼Œè¯¥æ–¹æ³•ç”¨äºåœ¨æ‰€æœ‰è¯·æ±‚æ–¹æ³•çš„è·¯å¾„ä¸­è£…å…¥ä¸­é—´ä»¶å‡½æ•°ã€‚ 123456app.all(&#x27;/about&#x27;, function(req, res) &#123; res.send(&#123; name: &#x27;jackie&#x27;, age: 18 &#125;)&#125;) è¿™ä¸ªç¤ºä¾‹ä¸­ä¸ç®¡æ˜¯get, postæ–¹å¼å»è¯·æ±‚/aboutè·¯å¾„çš„æ¥å£ï¼Œéƒ½ä¼šç»è¿‡è¿™ä¸ªå›è°ƒå‡½æ•°ç„¶åè¿”å›å¯¹åº”çš„æ•°æ®ã€‚ è·¯ç”±è·¯å¾„è·¯ç”±è·¯å¾„å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ¨¡å¼æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚å­—ç¬¦ä¸²ç±»å‹çš„å°±æ˜¯æˆ‘ä»¬ä¹‹å‰ä¸¾çš„é‚£äº›ä¾‹å­ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹å­—ç¬¦ä¸²æ¨¡å¼å’Œæ­£åˆ™è¡¨è¾¾å¼è¿™ä¸¤ç§ã€‚ ä»¥ä¸‹æ˜¯åŸºäºå­—ç¬¦ä¸²æ¨¡å¼çš„è·¯ç”±è·¯å¾„çš„ä¸€äº›ç¤ºä¾‹ã€‚ æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… acd å’Œ abcdã€‚ 123app.get(&#x27;/ab?cd&#x27;, function(req, res) &#123; res.send(&#x27;ab?cd&#x27;);&#125;); æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… abcdã€abbcdã€abbbcd ç­‰ã€‚ 123app.get(&#x27;/ab+cd&#x27;, function(req, res) &#123; res.send(&#x27;ab+cd&#x27;);&#125;); æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… abcdã€abxcdã€abRABDOMcdã€ab123cd ç­‰ã€‚ 123app.get(&#x27;/ab*cd&#x27;, function(req, res) &#123; res.send(&#x27;ab*cd&#x27;);&#125;); åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„è·¯ç”±è·¯å¾„çš„ç¤ºä¾‹ï¼š æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é…åç§°ä¸­å…·æœ‰â€œaâ€çš„æ‰€æœ‰è·¯ç”±ã€‚ 123app.get(/a/, function(req, res) &#123; res.send(&#x27;/a/&#x27;);&#125;); æ­¤è·¯ç”±è·¯å¾„å°†åŒ¹é… butterfly å’Œ dragonflyï¼Œä½†æ˜¯ä¸åŒ¹é… butterflymanã€dragonfly man ç­‰ã€‚ 123app.get(/.*fly$/, function(req, res) &#123; res.send(&#x27;/.*fly$/&#x27;);&#125;); è·¯ç”±æ‹†åˆ†å½“æˆ‘ä»¬çš„è·¯ç”±è¶Šæ¥è¶Šå¤æ‚ï¼Œæ¯”å¦‚æœ‰ç”¨æˆ·ç›¸å…³çš„è·¯å¾„ï¼Œæœ‰ç³»ç»Ÿç›¸å…³çš„è·¯å¾„ï¼Œä¸ç»Ÿä¸€ç®¡ç†çš„è¯ä¼šæ˜¾å¾—ç‰¹åˆ«ä¹±ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯¹è·¯ç”±è¿›è¡Œæ‹†åˆ†æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ æ‹†åˆ†å‰ 123456789101112const express = require(&#x27;express&#x27;);const app = express();app.get(&#x27;/user/list&#x27;, function(req, res, next)&#123; res.send(&#x27;/list&#x27;);&#125;);app.get(&#x27;/user/detail&#x27;, function(req, res, next)&#123; res.send(&#x27;/detail&#x27;);&#125;);app.listen(3000); æ‹†åˆ†å 12345678910111213141516const express = require(&#x27;express&#x27;);const app = express();const user = express.Router();user.get(&#x27;/list&#x27;, function(req, res, next)&#123; res.send(&#x27;/list&#x27;);&#125;);user.get(&#x27;/detail&#x27;, function(req, res, next)&#123; res.send(&#x27;/detail&#x27;);&#125;);app.use(&#x27;/user&#x27;, user); // æ³¨å†Œuserå­è·¯ç”±app.listen(3000); ä¸­é—´ä»¶ä¸€èˆ¬å­¦ä¹ jsçš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šå¬åˆ°ä¸€å¥è¯ï¼šä¸€åˆ‡çš†å‡½æ•°ã€‚è€Œåœ¨å­¦ä¹ expressçš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆæ·±çš„ä¸€ä¸ªæ„Ÿå—å°±æ˜¯ï¼šä¸€åˆ‡çš†ä¸­é—´ä»¶ã€‚æ¯”å¦‚å¸¸è§çš„è¯·æ±‚å‚æ•°è§£æã€cookieè§£æã€æ—¥å¿—æ‰“å°ç­‰ï¼Œéƒ½å¯ä»¥é€šè¿‡ä¸­é—´ä»¶æ¥å®Œæˆã€‚ åœ¨ Express ä¸­ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š 1234function someMiddleware(req, res, next) &#123; // è‡ªå®šä¹‰é€»è¾‘ next();&#125; ä¸‰ä¸ªå‚æ•°ä¸­ï¼Œreq å’Œ res å°±æ˜¯å‰é¢æåˆ°çš„ Request è¯·æ±‚å¯¹è±¡å’Œ Response å“åº”å¯¹è±¡ï¼›è€Œ next å‡½æ•°åˆ™ç”¨æ¥è§¦å‘ä¸‹ä¸€ä¸ªä¸­é—´ä»¶çš„æ‰§è¡Œã€‚ åœ¨ Express ä½¿ç”¨ä¸­é—´ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼šå…¨å±€ä¸­é—´ä»¶å’Œè·¯ç”±ä¸­é—´ä»¶ã€‚ å…¨å±€ä¸­é—´ä»¶é€šè¿‡ app.use å‡½æ•°å°±å¯ä»¥æ³¨å†Œä¸­é—´ä»¶ï¼Œå¹¶ä¸”æ­¤ä¸­é—´ä»¶ä¼šåœ¨ç”¨æˆ·å‘èµ·ä»»ä½•è¯·æ±‚éƒ½å¯èƒ½ä¼šæ‰§è¡Œï¼Œä¾‹å¦‚ï¼š 1app.use(someMiddleware) è·¯ç”±ä¸­é—´ä»¶é€šè¿‡åœ¨è·¯ç”±å®šä¹‰æ—¶æ³¨å†Œä¸­é—´ä»¶ï¼Œæ­¤ä¸­é—´ä»¶åªä¼šåœ¨ç”¨æˆ·è®¿é—®è¯¥è·¯ç”±æ—¶æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š 123app.get(&#x27;/middleware&#x27;, someMiddleware, (req, res) =&gt; &#123; res.send(&#x27;Hello World&#x27;);&#125;); ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶ æ–°å»ºä¸€ä¸ªlogger.jsï¼Œå¹¶å†™å…¥ä»¥ä¸‹å‡½æ•° 1234567function logger(req, res, next) &#123; const time = new Date(); console.log(`[$&#123;time.toLocaleString()&#125;] $&#123;req.method&#125; $&#123;req.url&#125;`); next();&#125;module.exports = logger; åœ¨server.jså¼•å…¥loggerå‡½æ•°å¹¶ä¸”å…¨å±€æ³¨å†Œ 123456const logger = require(&#x27;./logger&#x27;)......app.use(logger)...... è¿™æ ·æˆ‘ä»¬åœ¨è®¿é—®è·¯ç”±åï¼Œæ¯æ¬¡éƒ½ä¼šåœ¨æ§åˆ¶å°æ‰“å°ä¸€è¡Œæ—¥å¿—ï¼Œå¦‚ä¸‹ï¼š 12[2023/2/27 15:54:29] GET /[2023/2/27 15:54:47] POST /about æ³¨æ„ï¼šå¦‚æœå¿˜è®°åœ¨ä¸­é—´ä»¶ä¸­è°ƒç”¨ next å‡½æ•°ï¼Œå¹¶ä¸”åˆä¸ç›´æ¥è¿”å›å“åº”æ—¶ï¼ŒæœåŠ¡å™¨ä¼šç›´æ¥å¡åœ¨è¿™ä¸ªä¸­é—´ä»¶ä¸ä¼šç»§ç»­æ‰§è¡Œä¸‹å»å“¦ï¼ æ¨¡ç‰ˆå¼•æ“æ¨¡ç‰ˆå¼•æ“å¯ä»¥ç®€å•çš„ç†è§£ä¸ºå‡çº§ç‰ˆçš„htmlæ–‡æ¡£ï¼Œexpresså¯ä»¥ç”¨æ¨¡ç‰ˆå¼•æ“æ¥æ¸²æŸ“å‰ç«¯é¡µé¢ï¼Œæ¨¡ç‰ˆå¼•æ“æœ‰å¾ˆå¤šç§ï¼ŒåŒ…æ‹¬jade, ejs, nunjunks, Handlebarsç­‰ç­‰ï¼Œexpresså¯¹æ¯ä¸€ç§éƒ½æä¾›äº†å¾ˆå¥½çš„æ”¯æŒï¼Œåªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥ä½¿ç”¨ã€‚æˆ‘ä»¬ä»Šå¤©æ¥å­¦ä¹ ä¸‹Handlebarsã€‚ é¦–å…ˆï¼Œç¬¬ä¸€æ­¥æ˜¯å®‰è£…å¯¹åº”çš„æ¨¡ç‰ˆå¼•æ“ï¼š 1npm install hbs ç„¶ååˆ›å»ºviewsæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”æ–°å»ºä¸€ä¸ªindex.hbsçš„æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 123&lt;h1&gt;expresså…¥é—¨è¯¾ç¨‹&lt;/h1&gt;&lt;p&gt;ä½œä¸ºå‰ç«¯å¼€å‘ï¼ŒNodejså·²ç»æˆäº†å¾ˆå¤šå…¬å¸å¯¹æˆ‘ä»¬è¿™ä¸€å²—ä½çš„ç¡¬æ€§è¦æ±‚ï¼Œè€Œ Express æ¡†æ¶åˆ™æ˜¯å…¶ä¸­çŸ¥ååº¦æœ€é«˜ã€ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„Nodejså¼€å‘æ¡†æ¶ã€‚ã€‚ã€‚&lt;/p&gt;&lt;a href=&quot;/about&quot;&gt;å…³äºæˆ‘ä»¬&lt;/a&gt; ç„¶åå†æ·»åŠ ä¸€ä¸ªabout.hbsçš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 12&lt;h1&gt;é»‘é©¬å‰ç«¯&lt;/h1&gt;&lt;p&gt;å­¦å‰ç«¯ï¼Œæ¥é»‘é©¬&lt;/p&gt; æœ€åä¾¿æ˜¯åœ¨ server.js ä¸­é…ç½®å’Œä½¿ç”¨æ¨¡æ¿ã€‚é…ç½®æ¨¡æ¿çš„ä»£ç éå¸¸ç®€å•ï¼š 12345// æŒ‡å®šæ¨¡æ¿å­˜æ”¾ç›®å½•app.set(&#x27;views&#x27;, &#x27;views&#x27;);// æŒ‡å®šæ¨¡æ¿å¼•æ“ä¸º Handlebarsapp.set(&#x27;view engine&#x27;, &#x27;hbs&#x27;); åœ¨ä½¿ç”¨æ¨¡æ¿æ—¶ï¼Œåªéœ€åœ¨è·¯ç”±å›è°ƒå‡½æ•°ä¸­è°ƒç”¨ res.render æ–¹æ³•å³å¯ï¼š 1234567891011121314151617// ...const app = express();app.set(&#x27;views&#x27;, &#x27;views&#x27;);app.set(&#x27;view engine&#x27;, &#x27;hbs&#x27;);app.get(&#x27;/&#x27;, (req, res) =&gt; &#123; // æ¸²æŸ“index.hbsæ¨¡ç‰ˆ res.render(&#x27;index&#x27;);&#125;);app.get(&#x27;/about&#x27;, (req, res) =&gt; &#123; // æ¸²æŸ“about.hbsæ¨¡ç‰ˆ res.render(&#x27;about&#x27;);&#125;)// ... å½“æˆ‘ä»¬è®¿é—®localhost:3000æ—¶å°±ä¼šåŠ è½½å¯¹åº”çš„index.hbsè¿™ä¸ªæ¨¡ç‰ˆï¼Œå½“æˆ‘ä»¬è®¿é—®localhost:3000/aboutæ—¶å°±ä¼šåŠ è½½å¯¹åº”çš„about.hbsè¿™ä¸ªæ¨¡ç‰ˆ æˆ‘ä»¬è¿˜å¯ä»¥ç»™æ¨¡ç‰ˆå¼•æ“ä¸­ä¼ ä¸€äº›åŠ¨æ€å‚æ•°ï¼Œè¿™æ ·å°±ä¼šæ¸²æŸ“å‡ºæ¥ä¸åŒçš„å†…å®¹ï¼Œå°†about.hbsæ”¹æˆå¦‚ä¸‹å†…å®¹ï¼š 1234&lt;h1&gt;é»‘é©¬å‰ç«¯&lt;/h1&gt;&lt;p&gt;å­¦å‰ç«¯ï¼Œæ¥é»‘é©¬&lt;/p&gt;&lt;p&gt;è®²å¸ˆï¼š&#123;&#123; name &#125;&#125;&lt;/p&gt;&lt;p&gt;å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;&lt;/p&gt; ç„¶ååœ¨æ¸²æŸ“è¯¥æ¨¡ç‰ˆæ—¶åŠ ä¸Šç¬¬äºŒä¸ªå‚æ•°: 1234app.get(&#x27;/about&#x27;, (req, res) =&gt; &#123; // æ¸²æŸ“about.hbsæ¨¡ç‰ˆ res.render(&#x27;about&#x27;, &#123; name: &#x27;jackie&#x27;, age: 18 &#125;);&#125;) è¿™æ ·å½“æ¸²æŸ“å‡ºæ¥çš„æ—¶å€™å°±ä¼šæ ¹æ®æˆ‘ä»¬ä¼ è¿›å»çš„å‚æ•°åŠ¨æ€æ¸²æŸ“å‰ç«¯é¡µé¢äº† é™æ€æ–‡ä»¶æœåŠ¡å®¢æˆ·ç«¯ä¸€èˆ¬éœ€è¦è®¿é—®ä¸€äº›å›¾ç‰‡è§†é¢‘ç­‰é™æ€èµ„æºæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™äº›æ–‡ä»¶å¦‚ä½•å‘é€ç»™å®¢æˆ·ç«¯å‘¢ï¼Œå°±éœ€è¦ç”¨åˆ°é™æ€æ–‡ä»¶æœåŠ¡äº†ï¼Œè€Œ Express å·²ç»è‡ªå¸¦äº†é™æ€æ–‡ä»¶æœåŠ¡ä¸­é—´ä»¶ express.staticï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚ å‡è®¾æˆ‘ä»¬çš„é™æ€èµ„æºåœ¨publicä¸‹é¢ï¼š 12345publicâ”œâ”€â”€ cssâ”‚ â””â”€â”€ style.cssâ””â”€â”€ img â””â”€â”€ logo.png ç„¶åæˆ‘ä»¬åªéœ€è¦åœ¨server.jsä¸­æ·»åŠ ä¸€è¡Œä»£ç ï¼š 1app.use(express.static(&#x27;public&#x27;)); ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„è·¯å¾„è®¿é—®åˆ°è¿™äº›èµ„æºäº†ï¼š 12http://localhost:3000/css/style.csshttp://localhost:3000/img/logo.png åœ¨æ¨¡æ¿å¼•æ“ä¸­æ”¾å…¥è¿™äº›èµ„æºçš„å¼•å…¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¨¡æ¿ä¸­ä½¿ç”¨äº†ï¼š 12345&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/style.css&quot; /&gt;&lt;h1&gt;expresså…¥é—¨è¯¾ç¨‹&lt;/h1&gt;&lt;p&gt;ä½œä¸ºå‰ç«¯å¼€å‘ï¼ŒNodejså·²ç»æˆäº†å¾ˆå¤šå…¬å¸å¯¹æˆ‘ä»¬è¿™ä¸€å²—ä½çš„ç¡¬æ€§è¦æ±‚ï¼Œè€Œ Express æ¡†æ¶åˆ™æ˜¯å…¶ä¸­çŸ¥ååº¦æœ€é«˜ã€ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„Nodejså¼€å‘æ¡†æ¶ã€‚ã€‚ã€‚&lt;/p&gt;&lt;a href=&quot;/about&quot;&gt;å…³äºæˆ‘ä»¬&lt;/a&gt; å†æ¬¡è¿è¡ŒæœåŠ¡å™¨ï¼Œå¹¶è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™æ—¶ï¼Œå°±å‘ç°æ ·å¼åŠ åˆ°äº†æˆ‘ä»¬çš„å‰ç«¯é¡µé¢ä¸Šäº†ã€‚ å¤„ç†404å’ŒæœåŠ¡å™¨é”™è¯¯æˆ‘ä»¬åœ¨è®¿é—®ä¸€äº›è·¯ç”±æ—¶æœ‰å¯èƒ½è¿™ä¸ªè·¯ç”±æ²¡æœ‰å®šä¹‰ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šè¿”å›404çš„çŠ¶æ€ç ï¼Œæˆ–è€…æœ‰æ—¶å€™æœåŠ¡å™¨å†…éƒ¨ä»£ç å‡ºé”™äº†ï¼Œå°±ä¼šè¿”å›500çš„é”™è¯¯ç ï¼Œè¿™äº›æƒ…å†µæ˜¯åœ¨å¼€å‘ä¸­ç»å¸¸ç¢°åˆ°çš„ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯åº”è¯¥å¦‚ä½•å¤„ç†è¿™äº›å¼‚å¸¸çš„æƒ…å†µå‘¢ï¼Ÿ å¯¹äº 404ï¼Œåªéœ€åœ¨æ‰€æœ‰è·¯ç”±ä¹‹åå†åŠ ä¸€ä¸ªä¸­é—´ä»¶ï¼Œç”¨æ¥æ¥æ”¶æ‰€æœ‰è·¯ç”±å‡åŒ¹é…å¤±è´¥çš„è¯·æ±‚ å¯¹äºé”™è¯¯å¤„ç†ï¼Œå‰é¢æ‰€æœ‰ä¸­é—´ä»¶æŠ›å‡ºå¼‚å¸¸æ—¶éƒ½ä¼šè¿›å…¥é”™è¯¯å¤„ç†å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ Express è‡ªå¸¦çš„ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚ å¤„ç†404åªéœ€åœ¨server.jsä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 123app.use(&#x27;*&#x27;, (req, res) =&gt; &#123; res.status(404).render(&#x27;404&#x27;, &#123; url: req.originalUrl &#125;);&#125;); ç„¶ååœ¨viewsä¸‹é¢æ–°å»ºä¸€ä¸ª404.hbsçš„æ¨¡ç‰ˆæ–‡ä»¶ï¼š 12&lt;h1&gt;æ‰¾ä¸åˆ°ä½ è¦çš„é¡µé¢äº†ï¼&lt;/h1&gt;&lt;p&gt;ä½ æ‰€è®¿é—®çš„è·¯å¾„ &#123;&#123; url &#125;&#125; ä¸å­˜åœ¨&lt;/p&gt; * è¡¨ç¤ºåŒ¹é…ä»»ä½•è·¯å¾„ã€‚å°†æ­¤ä¸­é—´ä»¶æ”¾åœ¨æ‰€æœ‰è·¯ç”±åé¢ï¼Œå³å¯æ•è·æ‰€æœ‰è®¿é—®è·¯å¾„å‡åŒ¹é…å¤±è´¥çš„è¯·æ±‚ï¼Œç„¶åæ¸²æŸ“404çš„é‚£ä¸ªæ¨¡ç‰ˆå¼•æ“å°±å¯ä»¥äº†ã€‚ æ³¨æ„ï¼šä¸€å®šæ˜¯æ”¾åœ¨æ‰€æœ‰è·¯ç”±çš„åé¢ï¼Œåªæœ‰å‰é¢çš„è·¯ç”±éƒ½åŒ¹é…ä¸ä¸Šæ‰ä¼šåŒ¹é…åˆ°*çš„è¿™ä¸ªè·¯ç”± å¤„ç†å†…éƒ¨é”™è¯¯åœ¨server.jsä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 123app.use((err, req, res, next) =&gt; &#123; res.status(500).render(&#x27;500&#x27;);&#125;); ç„¶ååœ¨viewsä¸‹é¢æ–°å»ºä¸€ä¸ª500.hbsçš„æ¨¡ç‰ˆæ–‡ä»¶ï¼š 12&lt;h1&gt;æœåŠ¡å™¨å¥½åƒå¼€å°å·®äº†&lt;/h1&gt;&lt;p&gt;è¿‡ä¸€ä¼šå„¿å†è¯•è¯•çœ‹å§ï¼See your later~&lt;/p&gt; æ³¨æ„ï¼šåœ¨server.jsä¸­æ·»åŠ çš„ä»£ç ä¹Ÿå¿…é¡»è¦æ·»åŠ åˆ°æ‰€æœ‰è·¯ç”±çš„åé¢ï¼Œä¸ç„¶ä¸èƒ½å¤„ç†å…¨éƒ¨çš„é”™è¯¯ æˆ‘ä»¬åœ¨æŸä¸ªè·¯ç”±ä¸­æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯åï¼Œå®¢æˆ·ç«¯å°±ä¼šæ¸²æŸ“500.hbsè¿™ä¸ªæ¨¡ç‰ˆæ–‡ä»¶ã€‚ æ€»ç»“è‡³æ­¤expressåŸºç¡€å†…å®¹å°±è®²è§£å®Œäº†ï¼Œè¿™äº›éƒ½æ˜¯expressçš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œåç»­è¿˜ä¼šæœ‰expressçš„è¿›é˜¶è¯¾ç¨‹ï¼Œåˆ°æ—¶å€™ä¼šæ¶‰åŠåˆ°ç”¨expressæ“ä½œæ•°æ®åº“å’Œå®æˆ˜çš„å†…å®¹ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥å…³æ³¨æˆ‘ä»¬çš„bç«™åŠ¨æ€ï¼ŒåŠæ—¶è·Ÿè¿›è¯¾ç¨‹ã€‚","categories":[],"tags":[]},{"title":"","slug":"å¯’å‡å­¦ä¹ ","date":"2024-01-12T07:32:34.988Z","updated":"2024-09-29T13:23:38.955Z","comments":true,"path":"2024/01/12/å¯’å‡å­¦ä¹ /","permalink":"http://eastyn7.github.io/2024/01/12/%E5%AF%92%E5%81%87%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"titleï¼šå¯’å‡å­¦ä¹ ç¬¬ä¸€å‘¨Vue2ä¼ å‚ æŸ¥è¯¢å‚æ•°ä¼ å‚ï¼ˆæ›´é€‚åˆå¤šä¸ªå‚æ•°ï¼‰ï¼š?å‚æ•°&#x3D;å‚æ•°å€¼ &#x3D;&gt; this.$route.query.å‚æ•°å åŠ¨æ€è·¯ç”±ä¼ å‚ï¼ˆæ›´é€‚åˆå•ä¸ªå‚æ•°ï¼‰ï¼š&#x2F;è·¯å¾„&#x2F;å‚æ•° &#x3D;&gt; this.$route.params.å‚æ•°å ç»„ä»¶ç¼“å­˜keep-aliveå°†ç¼“å­˜æ‰€æœ‰åˆ‡æ¢çš„ç»„ä»¶ ä¸‰ä¸ªå±æ€§ï¼šincludeâ€”â€”ç»„ä»¶åæ•°ç»„ï¼Œåªæœ‰åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ â€‹ excludeâ€”â€”ç»„ä»¶åæ•°ç»„ï¼Œä»»ä½•åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜ â€‹ maxâ€”â€”æœ€å¤šå¯ä»¥ç¼“å­˜å¤šå°‘ç»„ä»¶å®ä¾‹ 1234567&lt;template&gt; &lt;div&gt; &lt;keep-alive :include=&quot;[&#x27;LayoutPage&#x27;]&quot;&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/keep-alive&gt; &lt;/div&gt;&lt;/template&gt; ç»„ä»¶ç¼“å­˜äº†ä¹‹åå°±ä¸ä¼šå†æ‰§è¡Œcreatedã€mountedã€destroyedç­‰é’©å­ æä¾›äº†ä¸¤ä¸ªå£°æ˜å‘¨æœŸå‡½æ•°ï¼šactivated(){} deactivated(){} åˆ©ç”¨VueXåˆ›å»ºä»“åº“ åˆ©ç”¨mutationsä¿®æ”¹æ•°æ®ï¼Œthis.$store.comit(â€˜æ–¹æ³•åâ€™) mapStateæ˜ å°„åˆ°è®¡ç®—å±æ€§ mapMutationsæ˜ å°„åˆ°æ–¹æ³• mapActonsæ˜ å°„åˆ°æ–¹æ³• mapGettersæ˜ å°„åˆ°è®¡ç®—å±æ€§ actionså¤„ç†å¼‚æ­¥ï¼ŒsetTimeoutæ¨¡æ‹Ÿå‘è¯·æ±‚ 123456789actions:&#123; setAsynCount(context,num)&#123; setTimeout(()=&gt;&#123; context.comit(&#x27;changeCount&#x27;,num) &#125;,1000) &#125;&#125;this.$store.dispatch(&#x27;setAsyncCount&#x27;,200) modulesæ¨¡å—æ‹†åˆ†å­ä»“ï¼Œä¾¿äºç»´æŠ¤ åœ¨å­æ¨¡å—ä¸­å†™namespaced: trueå¯ä»¥ç›´æ¥åˆ©ç”¨mapStateæ˜ å°„å…¶ä¸­çš„å†…å®¹ $store.getters[â€˜æ¨¡å—å&#x2F;xxxâ€™] è¯·æ±‚æ‹¦æˆªå™¨12345678910111213141516171819202122232425262728293031323334353637/* å°è£…axiosç”¨äºå‘é€è¯·æ±‚ */import axios from &#x27;axios&#x27;import &#123; Toast &#125; from &#x27;vant&#x27;// åˆ›å»ºä¸€ä¸ªæ–°çš„axioså®ä¾‹const request = axios.create(&#123; baseURL: &#x27;http://cba.itlike.com/public/index.php?s=/api/&#x27;, timeout: 5000&#125;)// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨request.interceptors.request.use(function (config) &#123; // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ return config&#125;, function (error) &#123; // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ return Promise.reject(error)&#125;)// æ·»åŠ å“åº”æ‹¦æˆªå™¨request.interceptors.response.use(function (response) &#123; // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ const res = response.data console.log(res) if (res.status !== 200) &#123; // ç»™æç¤º Toast(res.message) // æŠ›é”™è¯¯promise return Promise.reject(res.message) &#125; return res&#125;, function (error) &#123; // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ return Promise.reject(error)&#125;)export default request storageå­˜å‚¨æ¨¡å—é˜²æ­¢vuexåˆ·æ–°ä¸¢å¤±ï¼ŒåŒæ—¶é¿å…æ¯æ¬¡å­˜å–æ“ä½œå¤ªé•¿å¤ªéº»çƒ¦çš„é—®é¢˜ 12345678910111213141516171819// çº¦å®šä¸€ä¸ªé€šç”¨çš„é”®åconst INFO_KEY = &#x27;hm_shopping_info&#x27;// è·å–ä¸ªäººä¿¡æ¯export const getInfo = () =&gt; &#123; const defaultObj = &#123; token: &#x27;&#x27;, userId: &#x27;&#x27; &#125; const result = localStorage.getItem(INFO_KEY) return result ? JSON.parse(result) : defaultObj&#125;// è®¾ç½®ä¸ªäººä¿¡æ¯export const setInfo = (obj) =&gt; &#123; localStorage.setItem(INFO_KEY, JSON.stringify(obj))&#125;// ç§»é™¤ä¸ªäººä¿¡æ¯export const removeInfo = () =&gt; &#123; localStorage.removeItem(INFO_KEY)&#125; ç™»å½•èŠ‚æµæ“ä½œ1234567// å¼€å¯loadingï¼Œç¦æ­¢èƒŒæ™¯ç‚¹å‡»ï¼ˆèŠ‚æµå¤„ç†ï¼Œé˜²æ­¢å¤šæ¬¡æ— æ•ˆè§¦å‘ï¼‰Toast.loading(&#123; message: &#x27;åŠ è½½ä¸­...&#x27;, forbidClick: true, // ç¦æ­¢èƒŒæ™¯ç‚¹å‡» loadingType: &#x27;spinner&#x27;, // é…ç½®å›¾æ ‡ duration: 0 // ä¸ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œå“åº”æ‹¦æˆªå™¨å›æ¥ä¹‹åå…³é—­&#125;) 123456789if (res.status !== 200) &#123; // ç»™æç¤º Toast(res.message) // æŠ›é”™è¯¯promise return Promise.reject(res.message)&#125; else &#123; // æ­£ç¡®æ¸…é™¤loadingæ•ˆæœ Toast.clear()&#125; é¡µé¢è®¿é—®æ‹¦æˆªè®¾ç½®å…¨å±€å‰ç½®è·¯ç”± 123router.beforeEach(to,from,next)=&gt;&#123; // to å¾€å“ªé‡Œå»;from ä»å“ªé‡Œæ¥;next()æ˜¯å¦æ”¾è¡Œ,å¦‚æœnext()è°ƒç”¨åˆ™æ”¾è¡Œ,next(è·¯å¾„)æ‹¦æˆªåˆ°æŸä¸ªè·¯å¾„é¡µé¢&#125; æœ¬å‘¨æ€»ç»“ä¸€ç›´åœ¨è·Ÿç€ç”¨vue2å®ç°å®Œæ•´çš„å•†åŸé¡¹ç›®ï¼Œå¦å¤–ç©ºä½™æ—¶é—´é€æ­¥åœ¨è¿‡æ¸¡vue3çš„åŸºç¡€çŸ¥è¯†ï¼Œæœ€è¿‘å‡ å¤©åœ¨æä¸‰åˆ›èµ›éœ€è¦ç”¨åˆ°çš„ç½‘é¡µè®¾è®¡ ç¬¬äºŒå‘¨Vue31åˆ›å»ºï¼šnpm init vue@latest setupå…è®¸åœ¨scriptä¸­ç›´æ¥ç¼–å†™ç»„åˆæ˜¯APIï¼Œsetup()é’©å­æ‰§è¡Œæ—¶æœŸæ—©äºbeforeCreate()é’©å­ï¼Œå¹¶ä¸”ä¸å†èƒ½ä½¿ç”¨thisï¼Œæ•°æ®å’Œå‡½æ•°éœ€è¦å†setupæœ€åreturnï¼Œè¯­æ³•ç³–å†™æ³•çœç•¥äº†return templateä¸å†è¦æ±‚å”¯ä¸€æ ¹å…ƒç´  reactive()å’Œref()reactive()ä½œç”¨ï¼šæ¥å—å¯¹è±¡ç±»å‹æ•°æ®çš„å‚æ•°ä¼ å…¥å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ 12345678910111213141516&lt;script setup&gt;import &#123; reactive &#125; from &#x27;vue&#x27;const state = reactive(&#123; count:100&#125;)const setCount = () =&gt; &#123; state.count++&#125;&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;div&gt;&#123;&#123; state.count &#125;&#125;&lt;/div&gt; &lt;button @click=&quot;setCount&quot;&gt;+1&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; ref()ä½œç”¨ï¼šæ¥æ”¶ç®€å•ç±»å‹æˆ–å¯¹è±¡ç±»å‹çš„æ•°æ®ä¼ å…¥å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ â€‹ æœ¬è´¨ï¼šæ˜¯åœ¨åŸæœ‰ä¼ å…¥æ•°æ®çš„åŸºç¡€ä¸Šï¼Œå¤–å±‚åŒ…äº†ä¸€å±‚å¯¹è±¡ â€‹ åœ¨è„šæœ¬ä¸­è®¿é—®æ•°æ®éœ€è¦é€šè¿‡.valueï¼Œåœ¨templateä¸­ä¸éœ€è¦åŠ .value 1234567891011121314&lt;script setup&gt;import &#123; ref &#125; from &#x27;vue&#x27;const count = ref(0)const setCount = () =&gt; &#123; count.value++&#125;&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;div&gt;&#123;&#123; state.count &#125;&#125;&lt;/div&gt; &lt;button @click=&quot;setCount&quot;&gt;+1&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; ç»„åˆå¼API-computed123456789101112131415&lt;script setup&gt;import &#123; ref,computed &#125; from &#x27;vue&#x27;const list = ref([1,2,3,4,5,6,7,8])const computedList = computed(()=&#123; return list.value.filter(item =&gt; item &gt; 2)&#125;)&lt;/script&gt;&lt;template&gt; &lt;div&gt; &lt;div&gt;åŸå§‹æ•°æ®ï¼š&#123;&#123; list &#125;&#125;&lt;/div&gt; &lt;div&gt;è®¡ç®—åæ•°æ®:&#123;&#123; computedList &#125;&#125;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; ç»„åˆå¼API-watchä½œç”¨ï¼šä¾¦å¬ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®çš„å˜åŒ–ï¼Œæ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå›è°ƒå‡½æ•° ä¸¤ä¸ªé¢å¤–å‚æ•°ï¼šimmediateï¼ˆç«‹å³æ‰§è¡Œï¼‰ï¼›deepï¼ˆæ·±åº¦ç›‘å¬ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;script setup&gt;import &#123; ref,watch &#125; from &#x27;vue&#x27;const count = ref(0)const nickname = ref(&#x27;å¼ ä¸‰&#x27;)const changeCount = ()=&gt;&#123; count.value++&#125;const cangeNickname = ()=&gt;&#123; nickname.value = &#x27;æå››&#x27;&#125;// ç›‘è§†å•ä¸ªwatch(count,(newValue,oldValue)=&gt;&#123; console.log(newValue,oldValue)&#125;) // ç›‘è§†å¤šä¸ªwatch([count,nickname],(newValue,oldValue)=&gt;&#123; console.log(newValue,oldValue)&#125;) // ç«‹å³æ‰§è¡Œwatch(count,(newValue,oldValue)=&gt;&#123; console.log(newValue,oldValue)&#125;,&#123; immediate:true&#125;) // æ·±åº¦ç›‘è§†[ref(ç®€å•ç±»å‹)å¯ä»¥ç›‘å¬,ref(å¤æ‚ç±»å‹)å¿…é¡»æ·±åº¦ç›‘å¬]const userInfo = ref(&#123; name:&#x27;zs&#x27;, age:18&#125;)const setUserInfo = ()=&gt;&#123; userInfo.value.age++&#125;watch(userInfo,(newValue,oldValue)=&gt;&#123; console.log(newValue,oldValue)&#125;,&#123; deep:true&#125;) // å¯¹äºå¯¹è±¡ä¸­çš„å±æ€§è¿›è¡Œç›‘è§†const userInfo = ref(&#123; name:&#x27;zs&#x27;, age:18&#125;)const setUserInfo = ()=&gt;&#123; userInfo.value.age++&#125;watch(() =&gt; userInfo.value.age,(newValue,oldValue) =&gt; &#123; console.log(newValue,oldValue)&#125;)&lt;/script&gt;&lt;template&gt; &lt;div&gt; &#123;&#123; count &#125;&#125; &lt;/div&gt; &lt;button @click=&quot;changeCount&quot;&gt; æ”¹æ•°å­— &lt;/button&gt; &lt;div&gt; &#123;&#123; nickname &#125;&#125; &lt;/div&gt; &lt;button @click=&quot;changeNickname&quot;&gt; æ”¹æ˜µç§° &lt;/button&gt;&lt;/template&gt; ç»„åˆå¼API-ç”Ÿå‘½å‘¨æœŸå‡½æ•° é€‰é¡¹å¼API ç»„åˆå¼API beforeCreate&#x2F;created setup beforeMount onBeforeMount mounted onMounted beforeUpdate onBreforeUpdate updated onUpdated beforeUnmount onBeforeUnmount unmounted onUnmounted ç»„åˆå¼API-çˆ¶å­é€šä¿¡çˆ¶ä¼ å­ï¼šçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šå±æ€§ï¼Œå­ç»„ä»¶å†…éƒ¨é€šè¿‡propsé€‰é¡¹æ¥æ”¶ï¼Œé€šè¿‡definePropsâ€œç¼–è¯‘å™¨å®â€æ¥æ”¶å­ç»„ä»¶ä¼ é€’çš„æ•°æ® å­ä¼ çˆ¶ï¼šçˆ¶ç»„ä»¶ä¸­ç»„ä»¶æ ‡ç­¾é€šè¿‡@ç»‘å®šäº‹ä»¶ï¼Œå­ç»„ä»¶å†…éƒ¨é€šè¿‡emitæ–¹æ³•è§¦å‘äº‹ä»¶ï¼Œé€šè¿‡defineEmitsç¼–è¯‘å™¨å®ç”Ÿæˆemitæ–¹æ³• ç»„åˆå¼API-æ¨¡æ¿å¼•ç”¨è°ƒç”¨refå‡½æ•°ç”Ÿæˆä¸€ä¸ªrefå¯¹è±¡ï¼Œé€šè¿‡refæ ‡è¯†ç»‘å®šrefå¯¹è±¡åˆ°æ ‡ç­¾ 1234567891011121314151617181920212223242526&lt;scipt setup&gt; import TestCom from &quot;@/components/........&quot; import &#123; ref, onMounted &#125; from &#x27;vue&#x27; const inp = ref(null) // ç”Ÿå‘½é’©å­onMountedç­‰domæ¸²æŸ“å®Œ onMounted(()=&gt;&#123; // console.log(inp.value) // inp.value.focus() &#125;) const clickFn = ()=&gt;&#123; inp.value.focus() &#125;&lt;/scipt&gt;&lt;template&gt; &lt;div&gt; &lt;input ref=&quot;inp&quot; type=&quot;text&quot;&gt; &lt;button @click=&quot;clickFn&quot;&gt; ç‚¹å‡»è®©è¾“å…¥æ¡†èšç„¦ &lt;/button&gt; &lt;/div&gt; &lt;TestCom/&gt;&lt;/template&gt; é»˜è®¤æƒ…å†µä¸‹åœ¨è¯­æ³•ç³–ä¸‹ç»„ä»¶å†…éƒ¨çš„å±æ€§å’Œæ–¹æ³•æ˜¯ä¸å¼€æ”¾ç»™çˆ¶ç»„ä»¶è®¿é—®çš„,å¯ä»¥é€šè¿‡defineExposeç¼–è¯‘å®æŒ‡å®šå“ªäº›å±æ€§å’Œæ–¹æ³•å…è®¸è®¿é—® 1234567&lt;script setup&gt; import &#123; ref &#125; from &#x27;vue&#x27; const testMessage = ref(&#x27;this is test message&#x27;) defineExpose(&#123; testMessage &#125;)&lt;/script&gt; ç»„åˆå¼API-provideå’Œinjecté¡¶å±‚ç»„ä»¶å‘ä»»æ„çš„åº•å±‚ç»„ä»¶ä¼ é€’æ•°æ®å’Œæ–¹æ³•ï¼Œå®ç°è·¨å±‚ç»„ä»¶é€šä¿¡ æ™®é€šæ•°æ® 12// é¡¶å±‚ç»„ä»¶provide(&#x27;key&#x27;,é¡¶å±‚ç»„ä»¶ä¸­çš„æ•°æ®) 12// åº•å±‚ç»„ä»¶const message = inject(&#x27;key&#x27;) å“åº”å¼æ•°æ® 12// é¡¶å±‚ç»„ä»¶provide(&#x27;app-key&#x27;,refå¯¹è±¡) 12// åº•å±‚ç»„ä»¶const message = inject(&#x27;app-key&#x27;) æ–¹æ³• 12345// é¡¶å±‚ç»„ä»¶const setCount = () =&gt; &#123; count,value++&#125;provide(&#x27;setCount-key&#x27;,setCount) 12// åº•å±‚ç»„ä»¶const setCount = inject(&#x27;setCount-key&#x27;) defineOptionsç”¨defineOptionså®šä¹‰ä»»æ„çš„é€‰é¡¹ï¼Œpropsã€emitsã€exposeã€slotsé™¤å¤– 1234567&lt;script setup&gt; defineOptions(&#123; name:&#x27;&#x27;, inheritAttrs:false, ......... &#125;)&lt;/script&gt; PiniaVuexçš„æ›¿ä»£å“ æ‰‹åŠ¨æ·»åŠ pinia 123456789import &#123; createApp &#125; from &#x27;vue&#x27;import &#123; createPinia &#125; from &#x27;pinia&#x27;import App from &#x27;./App.vue&#x27;const pinia = createPinia()const app = createApp(App)app.use(pinia)app.use(&#x27;#app&#x27;) åŸºç¡€ä½¿ç”¨ï¼šå®šä¹‰storeï¼Œç»„ä»¶ä½¿ç”¨store 12345678910111213141516171819202122import &#123; defineStore &#125; from &#x27;pinia&#x27;import &#123; ref,computed &#125; from &#x27;vue&#x27;// å®šä¹‰store// defineStore(ä»“åº“çš„å”¯ä¸€æ ‡è¯†),() =&gt; &#123;....&#125;)export const useCOunterStore = defineStore(&#x27;counter&#x27;,() =&gt; &#123; // å£°æ˜æ•°æ® state const count = ref(0) // å£°æ˜æ“ä½œæ•°æ®çš„æ–¹æ³• actions ï¼ˆæ™®é€šå‡½æ•°ï¼‰ const addCount = () =&gt; count.value++ // å£°æ˜åŸºäºæ•°æ®æ´¾ç”Ÿçš„è®¡ç®—å±æ€§ getters ï¼ˆcomputedï¼‰ const double = computed(() =&gt; count.value * 2) return &#123; count, double, addCount &#125;&#125;) 1234567891011&lt;script setup&gt; import &#123; useCounterStore &#125; from &#x27;@/store/....&#x27; const counterStore = useCounterStore()&lt;/script&gt;&lt;template&gt; &lt;div&gt; æˆ‘æ˜¯Son1.vue - &#123;&#123; counterStore.count &#125;&#125; - &#123;&#123; counterStore.double &#125;&#125; &lt;button @click=&quot;counterStore.addCount&quot;&gt;+&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; stpreTpRefs - å¯ä»¥ä½¿piniaäº§ç”Ÿçš„storeè§£æ„èµ‹å€¼æ•°æ®ä¿æŒå“åº”å¼ PiniaæŒä¹…åŒ–â€”â€”ç™½é›ªlocalStorage ä¸‹è½½ä¾èµ–ï¼Œå¯¼å…¥ï¼Œä½¿ç”¨ import persist from &#39;pinia-plugun-persistedstate&#39; - å¯¼å…¥æŒä¹…åŒ–æ’ä»¶ app.use(pinia.use(persist)) - pianiaæ’ä»¶çš„å®‰è£…é…ç½® persist:true - åœ¨ç»„åˆå¼çš„ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­æ·»åŠ å¼€å¯å½“å‰æ¨¡å—çš„æŒä¹…åŒ–ï¼ˆé»˜è®¤æ˜¯æ•´ä¸ªstateè¢«æŒä¹…åŒ–åˆ°localStorageï¼‰ pnpm ç¬¬ä¸‰å‘¨el-row/el-col/el-formel-row ä¸€è¡Œåˆ†ä¸º24ä»½ el-col :span=&quot;12&quot; è¯¥åˆ—å 12ä»½ el-col :offset:&quot;3&quot; å·¦å¤–è¾¹è·3ä»½ el-form è¡¨å• el-form-item è¡¨å•ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´  è¡¨å•æ ¡éªŒè§„åˆ™ éç©ºæ ¡éªŒâ€”â€”required:true messageæ¶ˆæ¯æç¤º triggerè§¦å‘æ ¡éªŒçš„æ—¶æœº blur(å¤±ç„¦æ—¶)\\change(æ”¹å˜æ—¶) é•¿åº¦æ ¡éªŒâ€”â€”min:xx max:xx æ­£åˆ™æ ¡éªŒâ€”â€”pattern:æ­£åˆ™è§„åˆ™(ä¾‹å¦‚: \\^\\S{6,15}$\\ è¡¨ç¤º6-25ä½çš„éç©ºå­—ç¬¦) è‡ªå®šä¹‰æ ¡éªŒâ€”â€”validator:(rule,value,callback) rule å½“å‰æ ¡éªŒè§„åˆ™ç›¸å…³çš„ä¿¡æ¯ value æ‰€æ ¡éªŒçš„è¡¨å•å…ƒç´ ç›®å‰çš„è¡¨å•å€¼ callback æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½éœ€è¦callback callback() æ ¡éªŒæˆåŠŸ callback(new Errir(é”™è¯¯ä¿¡æ¯)) æ ¡éªŒå¤±è´¥ ç¬¬å››å‘¨nodeçš„httpæ¨¡å—æ­å»ºçš„åç«¯æœåŠ¡1234567891011const http = require(&#x27;http&#x27;)const server = http.createServer(function(req,res)&#123; res.statusCode = 200 res.setHeader(&#x27;Content-Type&#x27;,&#x27;Content-Type&#x27;,&#x27;text/html&#x27;) res.send(&#x27;...&#x27;)&#125;)server.listen(3000,functon()&#123; console.log(&#x27;æœåŠ¡å·²å¯åŠ¨&#x27;) &#125;) è¿è¡Œï¼šnode server.js expressæ­å»ºåç«¯æœåŠ¡å®‰è£…ï¼šnpm install express 123456789101112const express = require(&#x27;express&#x27;)const app = express()app.get(&#x27;/&#x27;,function(req,res)&#123; // ç›¸åº”å†…å®¹ res.send(&#x27;...&#x27;)&#125;)app.listen(3000,functon()&#123; console.log(&#x27;æœåŠ¡å·²å¯åŠ¨&#x27;) &#125;) åœ¨ Express ä¸­ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š1234function someMiddleware(req, res, next) &#123; // è‡ªå®šä¹‰é€»è¾‘ next();&#125; ä¸‰ä¸ªå‚æ•°ä¸­ï¼Œreq å’Œ res å°±æ˜¯å‰é¢æåˆ°çš„ Request è¯·æ±‚å¯¹è±¡å’Œ Response å“åº”å¯¹è±¡ï¼›è€Œ next å‡½æ•°åˆ™ç”¨æ¥è§¦å‘ä¸‹ä¸€ä¸ªä¸­é—´ä»¶çš„æ‰§è¡Œã€‚ å…¨å±€ä¸­é—´ä»¶é€šè¿‡ app.use å‡½æ•°å°±å¯ä»¥æ³¨å†Œä¸­é—´ä»¶ï¼Œå¹¶ä¸”æ­¤ä¸­é—´ä»¶ä¼šåœ¨ç”¨æˆ·å‘èµ·ä»»ä½•è¯·æ±‚éƒ½å¯èƒ½ä¼šæ‰§è¡Œï¼Œä¾‹å¦‚ï¼š 1app.use(someMiddleware) è·¯ç”±ä¸­é—´ä»¶é€šè¿‡åœ¨è·¯ç”±å®šä¹‰æ—¶æ³¨å†Œä¸­é—´ä»¶ï¼Œæ­¤ä¸­é—´ä»¶åªä¼šåœ¨ç”¨æˆ·è®¿é—®è¯¥è·¯ç”±æ—¶æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š 123app.get(&#x27;/middleware&#x27;, someMiddleware, (req, res) =&gt; &#123; res.send(&#x27;Hello World&#x27;);&#125;); ç¼–å†™ä¸€ä¸ªæ—¥å¿—ä¸­é—´ä»¶ æ–°å»ºä¸€ä¸ªlogger.jsï¼Œå¹¶å†™å…¥ä»¥ä¸‹å‡½æ•° 1234567function logger(req, res, next) &#123; const time = new Date(); console.log(`[$&#123;time.toLocaleString()&#125;] $&#123;req.method&#125; $&#123;req.url&#125;`); next();&#125;module.exports = logger; åœ¨server.jså¼•å…¥loggerå‡½æ•°å¹¶ä¸”å…¨å±€æ³¨å†Œ 123456const logger = require(&#x27;./logger&#x27;)......app.use(logger)...... è¿™æ ·æˆ‘ä»¬åœ¨è®¿é—®è·¯ç”±åï¼Œæ¯æ¬¡éƒ½ä¼šåœ¨æ§åˆ¶å°æ‰“å°ä¸€è¡Œæ—¥å¿—ï¼Œå¦‚ä¸‹ï¼š 12[2023/2/27 15:54:29] GET /[2023/2/27 15:54:47] POST /about æ³¨æ„ï¼šå¦‚æœå¿˜è®°åœ¨ä¸­é—´ä»¶ä¸­è°ƒç”¨ next å‡½æ•°ï¼Œå¹¶ä¸”åˆä¸ç›´æ¥è¿”å›å“åº”æ—¶ï¼ŒæœåŠ¡å™¨ä¼šç›´æ¥å¡åœ¨è¿™ä¸ªä¸­é—´ä»¶ä¸ä¼šç»§ç»­æ‰§è¡Œä¸‹å»å“¦ï¼","categories":[],"tags":[]}],"categories":[],"tags":[]}